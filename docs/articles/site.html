<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ofce">
<title>Sous site OFCE thématique • ofce</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Sous site OFCE thématique">
<meta property="og:description" content="ofce">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ofce</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/blog.html">Procédures du blog</a>
    <a class="dropdown-item" href="../articles/graphiques.html">Recommandations pour les graphiques OFCE</a>
    <a class="dropdown-item" href="../articles/outils.html">Outils</a>
    <a class="dropdown-item" href="../articles/quarto.html">Premiers pas avec Quarto</a>
    <a class="dropdown-item" href="../articles/site.html">Sous site OFCE thématique</a>
    <a class="dropdown-item" href="../articles/tableaux.html">Recommandations pour les tableaux OFCE</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Sous site OFCE thématique</h1>
            
      
      
      <div class="d-none name"><code>site.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ofce</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="des-sites-dédiés">Des sites dédiés<a class="anchor" aria-label="anchor" href="#des-sites-d%C3%A9di%C3%A9s"></a>
</h2>
<p>Les sites dédiés sont un ensemble de documents autour d’un sujet. Le
site s’intègre (et s’intègrera de mieux en mieux) sur le site principal
de l’OFCE, l’objectif étant une fluidité invisible aux yeaux des
navigateurs.</p>
<p>Un site dédié se compose donc :</p>
<ol style="list-style-type: decimal">
<li><p>d’un nom de domaine le reliant au site de l’OFCE et lui donnant
son propre espace</p></li>
<li><p>d’un dépôt github sur le compte OFCE, accessible sur <a href="https://github.com/ofce" class="external-link">github.com</a>. Les contributeurs ont le
droit d’écriture, il y a un ou plusieurs administrateurs. Les
administrateurs assurent la publication du site, le fonctionnement du
travail. Ce dépôt est accessible à l’ensemble des membres du compet OFCE
en lecture et ils peuvent s’en inspirer pour d’autres travaux</p></li>
<li><p>de contenus, c’est-à-dire de documents <code>.qmd</code>, avec
des graphiques, si possible en <code>{ggplot}</code> (voir la
<code><a href="../articles/graphiques.html">vignette("graphiques")</a></code>), interactifs
(<a href="https://davidgohel.github.io/ggiraph/" class="external-link">ggiraph</a>) dont les données sont téléchargeables et dont
les codes sont accessibles (reproductibilité et transparence). La
tableaux sont préférablement en <a href="https://gt.rstudio.com" class="external-link">gt</a> (voir la vignette sur
les tableaux <code><a href="../articles/tableaux.html">vignette("tableaux")</a></code>).</p></li>
<li><p>d’une structure (des menus, une hiérarchie) qui est spécifiée
dans un fichier particulier : <code>_quarto.yml</code> (ou le iamèle).
Ce fichier contient également plein d’éléments généraux, comme le titre
du site, son numéro Google Analytics, des instructions pour la mise en
page, etc.</p></li>
<li><p>Les choix éditoriaux reviennent aux administrateurs, en suivant
les recommandations générales. En particulier, bien que ce ne soit pas
encore mis sous forme de procédure, les sites dédiés seront d’abord
publiés de façon privée (<em>stage</em>) pour être validés puis
publiés.</p></li>
</ol>
<p>Le blog de l’OFCE sera (le 5/7/2024 le futur est encore de mise) un
site dédié, ouvert à tous les contributeurs avec quelques
administrateurs permanents. Les règles de cette vignette s’y appliquent
donc et la <code><a href="../articles/blog.html">vignette("blog")</a></code> détaille les spécificités.</p>
<div class="section level3">
<h3 id="comment-contribuer-pull-requestco">Comment contribuer : Pull Request&amp;co<a class="anchor" aria-label="anchor" href="#comment-contribuer-pull-requestco"></a>
</h3>
<p>Pour contribuer nous vous demandons de suivre une procédure stricte.
Elle peut paraître compliquée, mais elle est fluide et permet d’éviter
des bêtises. En effet, la branche <code>master</code> et la branche du
site (<code>gh-pages</code>) sont protégées : il faut des droits
administrateur pour les modifier. Cela évite les mauvaises manipulations
et sécurise le site.</p>
<p>Il est possible d’utiliser plusieurs outils pour travailler. Le
premier combo est <code>RStudio</code>, combiné à
<code>github desktop</code> et github.com. Une alternative est
<code>VSCode</code> qui regroupe l’éditeur quarto et l’interface github
dans un même logiciel. La <code><a href="../articles/outils.html">vignette("outils")</a></code> détaille les
configurations et les instructions d’installation.</p>
<div class="section level4">
<h4 id="comment-faire">Comment faire ?<a class="anchor" aria-label="anchor" href="#comment-faire"></a>
</h4>
<ol style="list-style-type: decimal">
<li><p>créer une branche à partir de <code>master</code>. C’est simple
avec <code>github desktop</code> (<code>menu branch/new branch</code>).
Cette branche est modifiable par celui qui l’a créée (mais aussi par
d’autres, s’il le souhaite, ce qui peut permettre la mise au point).
Elle contient une copie de <code>master</code> donc vous pouvez tout
modifier dedans. Cependant, afin d’éviter le chaos, il est préférable de
modifier le contenu pour lequel on est contributeur et s’en tenir à ça.
Si vous voulez corriger le contenu d’autres auteurs ou intervenir sur la
structure générale c’est bien sûr possible.<br>
Si vous continuez sur votre branche, elle est sans doute en retard. Vous
pouvez la mettre à jour à partir de <code>master</code> (menu
<code>branch/Update from master</code> dans <code>github desktop</code>)
afin d’éviter de vous trouver trop en retard et Vous pouvez aussi faire
un <em>merge</em> de <code>master</code> dans votre branche. Ne pas le
faire va multiplier les conflits et rendre l’inclusion de vos
modifications pénibles.</p></li>
<li><p>Modifier, ajouter, bricoler et… <strong>tester</strong>. Dans
RStudio vous pouvez à tout moment faire un <em>render</em> du site
(bouton <code>render</code>). Si ça ne marche pas dans votre branche, il
y a peu de chance que ça s’arrange tout seul en suite. Vous pouvez
toujours appeler à l’aide quand ça ne marche pas.</p></li>
<li><p>A chaque fois que vous avez franchi une étape dans votre travail,
faites un <code>commit</code>. Pas besoin nécessairment de le
<em>pusher</em> (c’est mieux pour sauvegarder ou partager avec quelqu’un
ce qu’il y a dans votre branche). Un <code>commit</code> c’est une
sauvegarde. Avant de lancer une nouvelle tâche, faites le
<code>commit</code>, ça pourra toujours servir et il n’y a pas d’excès
de commit.</p></li>
<li><p>Quand vous êtes satisfait, vous faites une
<code>pull request</code> (facile dans <code>github desktop</code>, il
le propose une fois <em>pushé</em> votre dernier <code>commit</code>).
La <code>pull request</code> n’est possible que lorsque tous vos
changements sont <em>commités</em> et que votre branche est
<em>pushée</em>. La possibilité de le faire apparaît dans la fenêtre
principale de <code>github desktop</code> lorsque les conditions sont
réunies.</p></li>
<li><p>Si vous êtes consciencieux, vous pouvez faire le menu
<code>branch/update from master</code> avant de faire la
<code>pull request</code>. Cela permet de vérifier (et de résoudre) les
éventuels conflits qui existeraient entre votre branche la branche
<code>master</code>.</p></li>
<li><p>Une fois la <code>pull request</code> envoyée, elle va être
validée (et les conflits résolus si vous ne l’avez pas fait) puis
intégrée à la branche <code>master</code> ce qui permettra de mettre à
jour le site en ligne et de détruire votre branche. (Pourquoi la
détruire ? 1. votre travail est intégré dans <code>master</code> donc il
est en sécurité, 2. si vous refaites des modifications, <strong>il faut
partir de la dernière version disponible</strong>,
i.e. <code>master</code> et non pas votre branche qui va devenir très en
retard).</p></li>
</ol>
</div>
</div>
<div class="section level3">
<h3 id="quelques-conseils-aux-administrateurs-de-projets">Quelques conseils aux administrateurs de projets<a class="anchor" aria-label="anchor" href="#quelques-conseils-aux-administrateurs-de-projets"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>Définissez à l’avance la structure du projet et communiquez là
aux auteurs. Parfois, on a envie de changer en cours de route, c’est
toujours possible, mais source de confusion et potentiellement
d’erreurs.</p></li>
<li><p>Protégez la branche <code>master</code> et définissez ceux qui
ont droit de la modifier. Cela évitera aussi de nombreuses erreurs.
Protégez aussi <code>gh-pages</code>. Ces opérations se réalisent très
simplement depuis <a href="htpps://github.com/ofce">github.com</a>.</p></li>
<li><p>Si votre dépôt est sur OFCE, il sera lisible par les membres de
l’OFCE et les admins d’OFCE pourront intervenir dessus. Si il est dans
votre espace personnel, vous êtes seul maître à bord et donc sans
assistance possible.</p></li>
<li><p>Au démarrage du projet, il y a quelques configurations à faire.
Rien de compliqué, mais c’est dispersé dans de nombreux écrans. Une fois
configuré, c’est assez simple à faire fonctionner.</p></li>
<li><p>Ne bricolez pas trop le <code>_quarto.yml</code>. Certaines
options assurent l’homogénéité des sites entre eux. Pensez faire aussi
<code>ofce::quarto_setup()</code> dans R pour s’assurer d’avoir la
dernière version des templates. Attention, il faut quand même modifier
le <code>_quarto.yml</code> puisqu’il contient la structure des menus et
l’architecture du site, ainsi que les twitter cards ou le numéro google
analytics.</p></li>
<li><p>N’hésitez pas à la faire la police (<code>qmd</code> dans les
bons dossiers, <code>yml</code> nettoyés, chasse aux chemins absolus. A
force, les déviances devraient se réduire.</p></li>
<li><p>Répondez rapidement aux <code>pull request</code>. On est souvent
impatient de voir son travail déployé.</p></li>
</ol>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
