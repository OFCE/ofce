<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Premiers pas avec Quarto • ofce</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Open_Sans-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Fira_Code-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Premiers pas avec Quarto">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ofce</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/site.html">Sites dédiés</a></li>
    <li><a class="dropdown-item" href="../articles/blog.html">Le blog</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/quarto.html">Premiers pas en Quarto</a></li>
    <li><a class="dropdown-item" href="../articles/graphiques.html">Graphiques</a></li>
    <li><a class="dropdown-item" href="../articles/tableaux.html">Tableaux</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/outils.html">Outils</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Premiers pas avec Quarto</h1>
            
      

      <div class="d-none name"><code>quarto.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ofce</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="quelques-conseils-décriture-et-de-format">Quelques conseils d’écriture et de format<a class="anchor" aria-label="anchor" href="#quelques-conseils-d%C3%A9criture-et-de-format"></a>
</h2>
<div class="section level3">
<h3 id="au-commencement">Au commencement<a class="anchor" aria-label="anchor" href="#au-commencement"></a>
</h3>
<p>Tout commence par un <code>.qmd</code>. Il doit être placé dans un
sous dossier du projet général, pour être rangé de façon compréhensible
par tout le monde. Demandez à votre administratrice de projet les règles
qu’elle souhaite voir appliquées.</p>
<p>Un exemple de projet est ci-dessous. Il ne respecte pas toutes les
règles recommandées, mais c’est souvent comme ça. Notez les fichiers
importants :</p>
<ul>
<li><p><code>_quarto.yml</code> : dans lequel sont spécifiés les options
principales et communes ainsi que les menus et la structure du
site</p></li>
<li><p><code>index.qmd</code> qui est la page de démarrage du site et
qui doit toujours être à la racine du projet et s’appeler
<code>index.qmd</code></p></li>
<li><p><code>rinit.r</code> qui contient des options par défaut pour les
chunks R</p></li>
<li><p><code>README.md</code> qui apparaît sur la première page du
projet sur <a href="https://github.com/ofce/legislatives2024" class="external-link">github.com</a></p></li>
<li><p><code>_extensions</code> qui contient tous les <em>templates</em>
<code>quarto</code>, il faut absolument que ce dossier soit présent (et
il ne faut pas y toucher).</p></li>
</ul>
<pre><code>legislatives2024
  _quarto.yml
  index.qmd
  about.qmd
  rinit.r
  README.md
  .gitignore
  _extensions/
    ofce/
      ...
  programmes/
    rn.qmd
    nfp.qmd
    Comparatif programmes législatives 2024.xlsx
    ...
  analyses/
    transition.qmd
    tissu_productif.qmd
    ...
    Tables/
      Tableau_retraite.xlsx
      Spreads.xlsx
      spread.rds
      ...</code></pre>
<p>Donnez un nom simple (court, explicite, pas de majuscules, pas de
caractères spéciaux), pour que le contenu soit clair, mais aussi qu’il
soit facile à retaper quelque part si nécessaire. Les noms à rallonge
sont donc à proscrire. Tâchez aussi d’éviter la multiplication des
versions dans le dossier (dont une seule est ok), si vous avez des
déchets, mettez dans un sous dossier spécifique (moi je l’appelle
<code>rkiv</code>) de façon à garder les vieux morceaux d’essais.</p>
<p>Le <code>.qmd</code> est très simple, l’entête <code>yaml</code> n’a
besoin que d’un champ : le titre. L’auteur est aussi utile, mais pas
obligatoire. Pas besoin d’ajouter un format (ils sont communs au site et
défini dans <code>_quarto.yml</code>), ni d’options spécifiques
(définies aussi ailleurs). Eventuellement, on peut ajouter des éléments
spécifiques au texte comme le champ <code>date</code> ou
<code>keyword</code> ou <code>bibliography</code>.</p>
<p>Notez qu’il n’y pas de section de niveau <code>header 1</code>. Ce
n’est pas possible parce qu’il y a un titre et que le titre est
considéré comme la section <code>header 1</code> : une alternative au
titre dans le yml est une section de niveau <code>header 1</code> ou
simple <code>#</code>. S’il n’y a pas d’auteur ou d’autre champ,
l’ensemble <code>yml</code> peut être omis avec simplement le
<code>header 1</code>.</p>
<p>Dernier petit détail, il faut <em>sourcer</em> le fichier
<code>rinit.r</code>. Ce fichier définit les options par défaut des
chunks et permet d’avoir les bonnes polices de caractère dans la bonne
taille pour tous les graphiques. Il faut le mettre au début et à part
pour que ces options s’appliquent aux chunks suivants. Si vos graphiques
sont moches, si les polices de caractère sont toutes petites, avant
d’appeler à l’aide, vérifiez 1. sur <code>rinit.r</code> est bien
<em>sourcé</em> 2. que vous n’avez pas un <code>fig-width</code> ou un
<code>fig-heigth</code> quelque part dans le chunk ou dans le
<code>yml</code>.</p>
<pre class="qmd"><code>---
title: Mon texte en qmd
author: Georgette
---

```{r, include=FALSE}
source("../rinit.r")
```

## section 1
 
blabla

## section 2

blabla</code></pre>
<p>Gardez vos <code>yml</code> les plus simples possibles, c’est le
moyen d’assurer l’homogénéité des documents sur le site.</p>
<p><a href="https://quarto.org/docs/guide/" class="external-link">Quarto.org</a> est une
excellente source d’informations et d’aide sur l’écriture en
<code>markdown</code> et la variante particulière que nous utilisons
ici. La section “Authoring” est à avoir lu au moins une fois.</p>
</div>
<div class="section level3">
<h3 id="les-règles-typographiques">les règles typographiques<a class="anchor" aria-label="anchor" href="#les-r%C3%A8gles-typographiques"></a>
</h3>
<p>Grace à <code>quarto</code> et un filtre développé par Romain Lesur
de l’INSEE, les règles typographiques standards au français sont
appliquées automatiquement. Par exemple les guillemets sont mis
conformément à la pratique en France «…» à partir du caractère tapé
directement (“). Les espaces avant les signes de ponctuation ( : ;) sont
remplacés par des demi cadratins et les espaces séparateurs des milliers
sont remplacés par des espaces insécables. Pas besoin donc de s’embêter
avec ça. Juste, pensez à mettre les espaces avant”:“.</p>
<p>Pour un document en anglais, il suffit de rajouter dans le
<code>yml</code> la langue anglaise pour que la typographie
correspondante soit appliquée. Les principaux champs (date, auteur,
tableau, figure, graphique) sont aussi traduits.</p>
<pre class="qmd"><code>---
title: English Version of the Document
author: William 
lang: en
---</code></pre>
</div>
<div class="section level3">
<h3 id="les-références-croisées">Les références croisées<a class="anchor" aria-label="anchor" href="#les-r%C3%A9f%C3%A9rences-crois%C3%A9es"></a>
</h3>
<p>Les références croisées demandent un peu de soin, mais permettent de
produire des documents plus propres dans lesquels :</p>
<ul>
<li><p>La numérotation des tableaux et figures, mais aussi tout autre
type de documents (un encadré par ex.) est faite automatiquement. La
mise en page est automatisée (avec quelques gains en html), les mots
récurrents sont traduits automatiquement.</p></li>
<li><p>On peut appeler la référence croisée dans le texte. En html, cela
créé un lien qui permet de naviguer directement vers la référence
croisée.</p></li>
<li><p>On peut générer des tables des tableaux et des figures.</p></li>
</ul>
<p>Le secret d’une référence croisée c’est l’instruction (le tag)
<code>#|</code> que l’on met en tête d’un chunk. <code>label</code> est
l’id du document. Il définit le type (<code>fig</code> pour un graphique
; <code>tbl</code> pour un tableau ; <code>tip</code> pour un encadré ;
<code>eq</code> pour une équation) et après le tiret le nom (sans espace
ni tiret) qui sera appelé dans le texte par la séquence
<code>@fig-id</code> (voir <a href="https://quarto.org/docs/authoring/cross-references.html" class="external-link">quarto
cross references</a> pour plus de détails).</p>
<p>On définit également le titre du graphique qui est donc identifié
pour être mis en page, utilisé par ailleurs (par exemple la table des
figures) et agrémenté des mots récurrents (par exemple tableau pour un
tableau, donc on ne met pas dans le titre tableau ou son numéro).</p>
<p>Pour un graphique (on ne met pas le numéro du graphique dans le
titre, c’est fait automatiquement) :</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#| label: fig-id</span></span>
<span><span class="co">#| fig-cap: Le titre du graphique</span></span>
<span><span class="co">#| fig-asp: 0.8</span></span></code></pre></div>
<p>Pour un tableau (on ne met pas le numéro du tableau dans le titre,
c’est fait automatiquement) :</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#| label: tbl-id</span></span>
<span><span class="co">#| tbl-cap: Le titre du tableau</span></span></code></pre></div>
<p>Pour un encadré, c’est un peu plus compliqué (pour le moment).
<code>tip</code> est le <em>hack</em> pour la catégorie, .callout-tip
pour le style. Le champ <code>collapse</code> permet de replier
l’encadré par défaut et l’option <code>"false"</code> (notez les
guillemets et les minuscules) permet de le déplier par défaut.</p>
<pre class="qmd"><code>::: {#tip-id .callout-tip collapse="true"}
## titre de l'encadré
texte de l'encadré
:::</code></pre>
</div>
<div class="section level3">
<h3 id="la-bibliographie">La bibliographie<a class="anchor" aria-label="anchor" href="#la-bibliographie"></a>
</h3>
<p>Il est très facile d’insérer une bibliogrphie. La première chose est
d’indiquer un (ou plusieurs) fichier <code>.bib</code> à
<code>quarto</code> :</p>
<pre class="qmd"><code>---
title: Mon titre
bibliography: references.bib
---</code></pre>
<p>Le fichier <code>references.bib</code> doit être à la racine du
projet et contient dans la syntaxe <code>bibtex</code> les références.
Pour entrer une référence, avec RStudio, il y a plusieurs façon de
faire.</p>
<ol style="list-style-type: decimal">
<li>Dans RStudio, en mode visuel, on fait insérer une citation.
Plusieurs sources sont possibles : Zotero, un DOI, une recherche sur
Crossref, etc…</li>
</ol>
<!-- --><ol start="2" style="list-style-type: decimal">
<li>Directement en copiant dans le <code>.bib</code> les références (on
peut ainsi utiliser la biblio d’un autre document).</li>
</ol>
<p>Les appels de références sont alors simplement fait en utilisant
<span class="citation">@angel2021</span> où angel2021 est l’id de la
référence. L’appel de référence, la biblio sera insérée et formattée
automatiquement. Les appels de référence peuvent se mettre également en
note de bas de page ou dans un tableau en syntaxe
<code>markdown</code>.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
