[{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"CLAUDE.md","text":"ofce package R package creating scientific documents following OFCE (Observatoire franÃ§ais des conjonctures Ã©conomiques) standards. provides: - ggplot2 themes color palettes following OFCE/Revue graphical standards - Quarto templates working papers, blogs, presentations, websites - French-language formatting utilities - Integration marquee advanced text rendering package primarily French economic research publications, French default language.","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"building-and-testing","dir":"","previous_headings":"Development Commands","what":"Building and Testing","title":"CLAUDE.md","text":"","code":"# Install package in development mode devtools::load_all()  # Build documentation devtools::document()  # Build and check package devtools::check()  # Build pkgdown site pkgdown::build_site()  # Install from local source devtools::install()"},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"common-development-tasks","dir":"","previous_headings":"Development Commands","what":"Common Development Tasks","title":"CLAUDE.md","text":"","code":"# Test a specific function interactively devtools::load_all() library(tidyverse) # Your test code here  # Run examples from a function devtools::run_examples()  # Check package for CRAN compliance devtools::check()"},{"path":[]},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"core-components","dir":"","previous_headings":"Architecture","what":"Core Components","title":"CLAUDE.md","text":"Quarto Templates System (R/quarto.R, inst/extdata/templates/) - setup_quarto(): Installs OFCE Quarto extensions project - setup_wp(), setup_blog(), setup_graph(), setup_pres(): Initialize specific document types templates - Templates stored inst/extdata/templates/ (blog, graph, presentation, website, workingpaper) - Extensions pulled ofce/ofce-quarto-extensions repository Theme System (R/theme_ofce.R) - theme_ofce(): Main ggplot2 theme OFCE graphics following Revue de lâ€™OFCE standards - theme_ofce_void(): Simplified theme maps minimal graphics - Supports marquee (advanced markdown text rendering) standard ggplot2 text elements - Configurable via global options: ofce.base_size, ofce.base_family, ofce.marquee, ofce.background_color Caption System (R/ofce_caption.R) - ofce_caption(): Creates standardized captions ggplot2 graphics source, note, lecture, champ, code - ofce_caption_gt(): Caption system gt tables - dernier_point(): Formats â€œlast known data pointâ€ dates French English - Supports glue string interpolation marquee markdown transformations (x â†’ superscript, x â†’ subscript) Palette System (multiple files) - R/ofce_palette*.R: Color palettes (main, sequential, diverging, country-specific) - R/scale_color_pays.R: Country-specific color scales - Data stored inst/palette.ofce.rda Graph Export (R/graph2xxx.R) - graph2png(), graph2svg(), graph2pptx(): Export graphics various formats - Handles ggplot2 tmap objects - Default size: 18cm width, 4:3 ratio - Uses showtext proper font rendering high DPI (default 600) Formatting Utilities (R/formate.R) - fmt_val(): Format numbers French style (comma decimal, space thousands separator) - fmt_pct(): Format percentages - fmt_mds(): Format billions euros (Milliards dâ€™euros) Initialization System (R/init_qmd.R, inst/rinit.r) - init_qmd(): Sources project-specific package rinit.r document start - pathify(): Resolves paths project root (paths starting /) - Default rinit.r sets fonts, themes, knitr options, common libraries, French locale","code":""},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"key-design-patterns","dir":"","previous_headings":"Architecture","what":"Key Design Patterns","title":"CLAUDE.md","text":"Global Options package heavily uses R options configuration: - ofce.base_size: Base font size (default 12) - ofce.base_family: Font family (default â€œOpen Sansâ€) - ofce.marquee: Enable marquee text rendering (default TRUE) - ofce.background_color: Background color (default â€œtransparentâ€) - ofce.caption.*: Caption formatting options (wrap, lang, ofce branding, glue interpolation) Font System - Uses Open Sans default font (included inst/fonts/) - Relies showtext/sysfonts rendering - systemfonts used register fonts rinit.r Marquee vs Standard Text - ofce.marquee = TRUE: Uses marquee::element_marquee() advanced markdown rendering ggplot2 - ofce.marquee = FALSE: Falls back standard ggplot2::element_text() - dual system allows rich text formatting maintaining compatibility French Language Defaults - user-facing text defaults French - Date formatting uses French locale - Caption labels: â€œSourceâ€, â€œLectureâ€, â€œNoteâ€, â€œChampâ€, â€œCodeâ€, â€œDernier point connuâ€ - functions lang parameter English output","code":""},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"important-files","dir":"","previous_headings":"","what":"Important Files","title":"CLAUDE.md","text":"DESCRIPTION: Package metadata, dependencies (requires R >= 4.2, Quarto CLI) inst/rinit.r: Default initialization script sourced init_qmd() inst/extdata/templates/: Quarto document templates inst/fonts/: OpenSans font files _pkgdown.yml: Documentation website configuration .Rbuildignore: Files exclude package builds","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"adding-a-new-graphical-theme-element","dir":"","previous_headings":"Common Workflows","what":"Adding a New Graphical Theme Element","title":"CLAUDE.md","text":"Edit R/theme_ofce.R Update marquee non-marquee versions Test devtools::load_all() create example plots Document changes rebuild devtools::document()","code":""},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"creating-a-new-quarto-template","dir":"","previous_headings":"Common Workflows","what":"Creating a New Quarto Template","title":"CLAUDE.md","text":"Add template files inst/extdata/templates/[type]/ Create setup function R/quarto.R (e.g., setup_[type]()) Update setup_quarto() documentation mention new format Test installation setup_quarto() test directory","code":""},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"modifying-color-palettes","dir":"","previous_headings":"Common Workflows","what":"Modifying Color Palettes","title":"CLAUDE.md","text":"Edit palette data data/ directory Update corresponding R/ofce_palette*.R file Regenerate inst/palette.ofce.rda needed Update documentation examples","code":""},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"dependencies","dir":"","previous_headings":"","what":"Dependencies","title":"CLAUDE.md","text":"Critical Dependencies - ggplot2 >= 4.0.0: Core graphics system - marquee >= 1.2.0: Advanced text rendering - gt >= 1.1.0: Table formatting - quarto: Document rendering (requires Quarto CLI installed) - showtext/sysfonts: Font rendering Data Processing - tidyverse >= 2.0.0 (dplyr, tidyr, purrr, stringr) - data.table: High-performance data manipulation Utility - glue: String interpolation - fs: File system operations - lubridate: Date handling","code":""},{"path":"https://ofce.github.io/ofce/CLAUDE.html","id":"notes","dir":"","previous_headings":"","what":"Notes","title":"CLAUDE.md","text":"package website hosted https://ofce.github.io/ofce/ Documentation includes extensive vignettes different chart types, Quarto usage, graphic standards specialized package OFCE institutional use, intended CRAN Uses CC 4.0 license","code":""},{"path":"https://ofce.github.io/ofce/articles/blog.html","id":"crÃ©er-un-document-blog-Ã -laide-du-package-ofce","dir":"Articles","previous_headings":"","what":"CrÃ©er un document blog Ã  lâ€™aide du package ofce","title":"ProcÃ©dures du blog","text":"La premiÃ¨re Ã©tape est de gÃ©nÃ©rer un template dâ€™un document quarto intÃ©grant lâ€™ensemble des mÃ©ta-donnÃ©es assurant sa compilation dans le format souhaitÃ© (render) par Rstudio. Il suffit pour cela dâ€™executer la commande suivante: setup_blog() qui va automatiquement gÃ©nÃ©rer un document quarto, lâ€™ajout des extensions qui regroupent les mÃ©tadonnÃ©es associÃ©es aux questions de style, ainsi quâ€™un document de gestion des rÃ©fÃ©rences bibliographiques .bib","code":""},{"path":"https://ofce.github.io/ofce/articles/blog.html","id":"yaml-du-document","dir":"Articles","previous_headings":"","what":"Yaml du document","title":"ProcÃ©dures du blog","text":"Le Yaml est le prÃ©ambule au script inclus entre les caractÃ¨res suivants --- --- qui regroupe les mÃ©tadonnÃ©es du document ainsi que certains paramÃ¨tres comme le titre ou le nom des auteurs. Il se prÃ©sente de la faÃ§on suivante: Les seules informations Ã  modifier par lâ€™auteur sont les suivantes: title: name: url: categories: description: Dans le cas oÃ¹ lâ€™auteur aurait dâ€™autres affiliation, il conviendrait de modifier Ã©galement les deux lignes suivantes: affiliation: affiliation-url:","code":"--- title: \"Titre du billet\" date: today author:   - name: Albertine RetrouvÃ©e     url: https://www.ofce.sciences-po.fr/ofce/chercheurs1.php     affiliation: OFCE      affiliation-url: https://www.ofce.sciences-po.fr/      institution: \"Observatoire FranÃ§ais des Conjonctures Ã‰conomiques\"  format:   blog-html: default   blog-pdf: default categories: [\"keyword1\", \"keyword2\"] image: image.jpg description: \"Chapeau du texte qui apparait dans la vignette du billet sur le menu\"  # A activer pour permettre les commentaires via hypothesis (https://web.hypothes.is/) # comments: #   hypothesis: true  bibliography: billet_exemple_references.bib ---"},{"path":"https://ofce.github.io/ofce/articles/blog.html","id":"rÃ©daction-du-document","dir":"Articles","previous_headings":"","what":"RÃ©daction du document","title":"ProcÃ©dures du blog","text":"La rÃ©daction peut se faire sur Rstudio en mode source ou en mode visual (en haut Ã  gauche de la fenÃªtre). Le mode source montre le code tel quâ€™il est Ã©crit, tandis que le mode visual procÃ¨de Ã  donner un rendu visuel qui sâ€™approche de celui final (See Get). Le mode visuel intÃ¨gre un menu qui permet dâ€™accÃ©der aux diffÃ©rentes commandes de mise en forme via une interface ergonomique. Les templates suivants Lâ€™ajout de notes de bas de page se fait via la commande suivante sous Quarto [^] et comprends deux maniÃ¨res. Une premiÃ¨re oÃ¹ est intÃ©grÃ© dans le texte une balise [^] associÃ©e Ã  un repÃ¨re (un numÃ©ro) et auquel est ensuite associÃ© une note de bas de page. La seconde est lâ€™intÃ©gration directe de la note de bas de page au sein de la balise [^] (Exemple 2). Les citations sont indiquÃ© par le caractÃ¨re @ suivi de la rÃ©fÃ©rence bibliographique du bibtex de lâ€™article Ã  citer. Comme la souffrance va plus loin en psychologie que la psychologie [@ryan1991vanishing] Lâ€™auteur pourra se rÃ©fÃ©rer Ã  lâ€™aide en ligne Quarto pour des explications complÃ©mentaires sur ces deux points. Les mots-clÃ©s vont servir par la suite Ã  filtrer les billets en sous-catÃ©gories. Un nombre maximal de trois est permis, Ã  choisir parmi ceux indiquÃ©s ci-dessous1.","code":"# Exemple 1 Â«Mademoiselle Albertine est revenue!Â»[^1]  [^1]: Elle n'a jamais Ã©tÃ© perdue.  # Exemple 2  Â«Mademoiselle Albertine est revenue!Â»[^Elle n'a jamais Ã©tÃ© perdue.] Comme la souffrance va plus loin en psychologie que la psychologie [@ryan1991vanishing]  avec le BibteX dans le fichier .bib associÃ© au billet:     @book{ryan1991vanishing,   title={The vanishing subject: early psychology and literary modernism},   author={Ryan, Judith},   year={1991},   publisher={University of Chicago Press} }"},{"path":"https://ofce.github.io/ofce/articles/blog.html","id":"gestion-des-notes-de-bas-de-page-et-des-rÃ©fÃ©rences-bibliographiques","dir":"Articles","previous_headings":"","what":"Gestion des notes de bas de page et des rÃ©fÃ©rences bibliographiques","title":"ProcÃ©dures du blog","text":"Lâ€™ajout de notes de bas de page se fait via la commande suivante sous Quarto [^] et comprends deux maniÃ¨res. Une premiÃ¨re oÃ¹ est intÃ©grÃ© dans le texte une balise [^] associÃ©e Ã  un repÃ¨re (un numÃ©ro) et auquel est ensuite associÃ© une note de bas de page. La seconde est lâ€™intÃ©gration directe de la note de bas de page au sein de la balise [^] (Exemple 2).","code":"# Exemple 1 Â«Mademoiselle Albertine est revenue!Â»[^1]  [^1]: Elle n'a jamais Ã©tÃ© perdue.  # Exemple 2  Â«Mademoiselle Albertine est revenue!Â»[^Elle n'a jamais Ã©tÃ© perdue.]"},{"path":"https://ofce.github.io/ofce/articles/blog.html","id":"gestion-des-rÃ©fÃ©rences-bibliographiques","dir":"Articles","previous_headings":"","what":"Gestion des rÃ©fÃ©rences bibliographiques","title":"ProcÃ©dures du blog","text":"Les citations sont indiquÃ© par le caractÃ¨re @ suivi de la rÃ©fÃ©rence bibliographique du bibtex de lâ€™article Ã  citer. Comme la souffrance va plus loin en psychologie que la psychologie [@ryan1991vanishing] Lâ€™auteur pourra se rÃ©fÃ©rer Ã  lâ€™aide en ligne Quarto pour des explications complÃ©mentaires sur ces deux points.","code":"Comme la souffrance va plus loin en psychologie que la psychologie [@ryan1991vanishing]  avec le BibteX dans le fichier .bib associÃ© au billet:     @book{ryan1991vanishing,   title={The vanishing subject: early psychology and literary modernism},   author={Ryan, Judith},   year={1991},   publisher={University of Chicago Press} }"},{"path":"https://ofce.github.io/ofce/articles/blog.html","id":"gestion-des-mots-clÃ©s","dir":"Articles","previous_headings":"","what":"Gestion des mots-clÃ©s","title":"ProcÃ©dures du blog","text":"Les mots-clÃ©s vont servir par la suite Ã  filtrer les billets en sous-catÃ©gories. Un nombre maximal de trois est permis, Ã  choisir parmi ceux indiquÃ©s ci-dessous1.","code":""},{"path":"https://ofce.github.io/ofce/articles/blog.html","id":"transmission-au-responsable-du-blog-et-circuit-de-relecture","dir":"Articles","previous_headings":"","what":"Transmission au responsable du blog et circuit de relecture","title":"ProcÃ©dures du blog","text":"La transmission du billet au responsable du blog doit se faire directement sur le repo du blog du Github de lâ€™OFCE Ã  lâ€™aide dâ€™un pull request, et en assignant le responsable (pour plus dâ€™information, voir la page suivante). Ce dernier aura ensuite la charge de lâ€™organisation du circuit de relecture (pour plus dâ€™information, voir la page blog_reviewers). La transmission du billet au responsable du blog sâ€™effectue par un envoi du dossier du billet comprenant lâ€™ensemble des Ã©lements nÃ©cessaires Ã  sa compilation (le document .qmd, le fichier de rÃ©fÃ©rences .bib, les images et les donnÃ©es): Dossier du billet en format .qmd Lâ€™organisation de la relecture et du versionnage du document se fait sur une branche Github dÃ©diÃ©e. Lâ€™auteur se verra notifier par mail des Ã©volutions du statut du document, et le cas Ã©chÃ©ant de lâ€™intÃ©gration des remarques et commentaires. Une fois le processus de relecture aboutit, le responsable pourra accepter le pull_request, et introduire la version finalisÃ©e du billet sur la branche principale Ã  partir de laquelle le site est gÃ©nÃ©rÃ©. PS: Dans le cas oÃ¹ des modifications ultÃ©rieures devraient Ãªtre apportÃ©es, lâ€™auteur devra rÃ©itÃ©rer la mÃªme procÃ©dure de pull_request que pour la soumission initiale, et ce sera au responsable de sâ€™assurer de leur intÃ©gration Ã  la branche principale.","code":"â”œâ”€â”€ billet.qmd              // Document texte du billet â”œâ”€â”€ figures/                // Dossier des images utilisÃ©es dans le document â”‚   â”œâ”€â”€ IMG_01.png          // fichier image 1 â”‚   â””â”€â”€ ...                 // fichier image ... â”œâ”€â”€ data/                   // Dossier des dataset associÃ©s aux graphiques â”‚   â”œâ”€â”€ dataset_01.csv      // fichier csv 1 â”‚   â””â”€â”€ ...                 // fichier csv ... â””â”€â”€ references.bib          // fichier des citations en format .bibtex"},{"path":"https://ofce.github.io/ofce/articles/blog.html","id":"procÃ©dure-principale-via-github","dir":"Articles","previous_headings":"","what":"ProcÃ©dure principale via Github","title":"ProcÃ©dures du blog","text":"La transmission du billet au responsable du blog doit se faire directement sur le repo du blog du Github de lâ€™OFCE Ã  lâ€™aide dâ€™un pull request, et en assignant le responsable (pour plus dâ€™information, voir la page suivante). Ce dernier aura ensuite la charge de lâ€™organisation du circuit de relecture (pour plus dâ€™information, voir la page blog_reviewers).","code":""},{"path":"https://ofce.github.io/ofce/articles/blog.html","id":"procÃ©dure-alternative-et-de-dernier-recours","dir":"Articles","previous_headings":"","what":"ProcÃ©dure alternative et de dernier recours","title":"ProcÃ©dures du blog","text":"La transmission du billet au responsable du blog sâ€™effectue par un envoi du dossier du billet comprenant lâ€™ensemble des Ã©lements nÃ©cessaires Ã  sa compilation (le document .qmd, le fichier de rÃ©fÃ©rences .bib, les images et les donnÃ©es): Dossier du billet en format .qmd Lâ€™organisation de la relecture et du versionnage du document se fait sur une branche Github dÃ©diÃ©e. Lâ€™auteur se verra notifier par mail des Ã©volutions du statut du document, et le cas Ã©chÃ©ant de lâ€™intÃ©gration des remarques et commentaires. Une fois le processus de relecture aboutit, le responsable pourra accepter le pull_request, et introduire la version finalisÃ©e du billet sur la branche principale Ã  partir de laquelle le site est gÃ©nÃ©rÃ©. PS: Dans le cas oÃ¹ des modifications ultÃ©rieures devraient Ãªtre apportÃ©es, lâ€™auteur devra rÃ©itÃ©rer la mÃªme procÃ©dure de pull_request que pour la soumission initiale, et ce sera au responsable de sâ€™assurer de leur intÃ©gration Ã  la branche principale.","code":"â”œâ”€â”€ billet.qmd              // Document texte du billet â”œâ”€â”€ figures/                // Dossier des images utilisÃ©es dans le document â”‚   â”œâ”€â”€ IMG_01.png          // fichier image 1 â”‚   â””â”€â”€ ...                 // fichier image ... â”œâ”€â”€ data/                   // Dossier des dataset associÃ©s aux graphiques â”‚   â”œâ”€â”€ dataset_01.csv      // fichier csv 1 â”‚   â””â”€â”€ ...                 // fichier csv ... â””â”€â”€ references.bib          // fichier des citations en format .bibtex"},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://ofce.github.io/ofce/articles/charte_graphique.html","id":"ggplot2","dir":"Articles","previous_headings":"","what":"ggplot2","title":"Charte graphique","text":"Un graphique ggplot2 par dÃ©faut aura le rendu suivant:  Lâ€™ajout de la commande theme_XXX permet dâ€™appliquer un thÃ¨me spÃ©cifique au graphe produit (ici theme_classic). Plusieurs sont dÃ©jÃ  prÃ©-enregistrÃ©s dans ggplot2.  Un thÃ¨me spÃ©cifique Ã  lâ€™OFCE existe dans le package ofce et permet dâ€™appliquer des modifications de forme qui reprenne les Ã©lements de la charte graphique dÃ©finie par ailleurs.","code":"p <- ggplot(iris) +    aes(x = Sepal.Width, y = Sepal.Length, group = Species, color = Species) +   geom_point(size = 2)  p p + theme_classic() p + ofce::theme_ofce()"},{"path":"https://ofce.github.io/ofce/articles/charte_graphique.html","id":"palettes-de-couleur","dir":"Articles","previous_headings":"","what":"Palettes de couleur","title":"Charte graphique","text":"Il est Ã©galement possible de spÃ©cifier manuellement les couleurs dans un graphe Ã  lâ€™aide de la commande scale_XXX_manual 1, en y associant un vecteur de couleur.  Ou en reprenant la palette intÃ©grÃ©e au package ofce qui intÃ¨gre les couleurs dÃ©finies dans la charte graphique.  Pour le choix des couleurs de pays, il est Ã©galement possible de passer par une fonction de type scale_manual dans le package ofce scale_color_pays qui intÃ¨gre directement lâ€™application des codes couleurs de la charte graphique en plus dâ€™offrir des options supplÃ©mentaires en termes de labelling. Note: Il est essentiel Ã  ce quâ€™il existe une colonne dans le dataframe qui contiennent les codes pays au format ISO 3166-1 alpha-3.","code":"p +  ofce::theme_ofce() +    scale_color_manual(values = c(\"darkred\", \"darkblue\", \"darkgreen\")) p +  ofce::theme_ofce() +    scale_color_manual(values = ofce::ofce_palette(n=3)) vec_iso <- c(\"ESP\", \"DEU\", \"FRA\") data <- data.frame(\"value\" = c(1:30),                      \"iso\" = vec_iso) |>    arrange(iso) |>    mutate(date = c(2011:2020, 2011:2020, 2011:2020)) data |>    ggplot()  +   geom_line(aes(x= date, y = value, color = iso )) +   ofce::scale_color_pays(format = \"iso3c\",                    lang = \"en\") +   ofce::theme_ofce()"},{"path":"https://ofce.github.io/ofce/articles/charte_graphique.html","id":"documentation-charte-graphique","dir":"Articles","previous_headings":"","what":"Documentation Charte Graphique","title":"Charte graphique","text":"Les rÃ©fÃ©rences de code couleurs peuvent Ãªtre consultÃ©s dans les documents suivants:  x","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/articles/charte_graphique.html","id":"pour-les-palettes-principales","dir":"Articles","previous_headings":"","what":"Pour les palettes principales","title":"Charte graphique","text":"x","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://ofce.github.io/ofce/articles/graphiques.html","id":"ggplot2","dir":"Articles","previous_headings":"","what":"ggplot2","title":"Faire un graphique","text":"La faÃ§on prÃ©fÃ©rÃ©e de faire un graphique est ggplot2. Elle est la plus flexible, permet dâ€™avoir une source unique, peut Ãªtre facilement modifiÃ©e (uniformisation, traduction, correction, raffinements) et sâ€™intÃ¨gre parfaitement en html et en pdf. Avec un faible coÃ»t peut rendre le graphique interactif (avec plotly ou ggiraph). Un graphique ggplot doit contenir une couche (layer) theme_ofce() et limiter au maximum les dÃ©finitions de taille (par exemple de police de caractÃ¨re). Ces dÃ©finitions doivent Ãªtre faites de faÃ§on globale pour assurer lâ€™homogÃ©nÃ©itÃ©. Il est important de ne pas dÃ©finir la taille de la figure, Ã§a risque de produire des images avec des caractÃ¨res trop petits. Pour changer les dimensions dâ€™un graphique, il faut utiliser1 #| fig-asp : x ou x est le ratio entre la hauteur et la longueur. 0.61 est la valeur par dÃ©faut et correspond au nombre dâ€™soit entre 16/9 et 16/10. Pour des graphiques particuliers (par exemple deux graphiques empilÃ©s ou une carte) peut mettre 1 (format carrÃ©) ou 1.4 quand veut prendre toute la page A4. Le code dâ€™un graphique ggplot2 : 1 Les donnÃ©es sont dans excel â€“ elles pourraient venir de R ou dâ€™ailleurs. La feuille tapp est formattÃ©e simplement 2 Utilisez le theme_ofce pour uniformiser lâ€™aspect des graphiques 3 scale_date est important lorsquâ€™prÃ©sente des donnÃ©es temporelles, il faut penser Ã  convertir les dates en dates (.Date() ou lubridate::ymd() et consorts), mÃªme si les dates ne sont que des annÃ©es. 4 Le choix des couleurs est tjrs dÃ©licat, Paul Malliet est un maÃ®tre en la matiÃ¨re, uniformiser ses choix de couleurs le long dâ€™un document câ€™est bien, donner une signification Ã  ses couleurs câ€™est mieux, quand en plus câ€™est harmonieux, câ€™est PM (plus que mieux ou Paul Malliet) 5 Les sources â€“ notez quâ€™ne met pas de titre au graphique (voir la section rÃ©fÃ©rences croisÃ©es)","code":"#| label: fig-tauxapp #| fig-cap: Taux de taxation apparent sur le patrimoine des mÃ©nages #| fig-asp: 0.61 # pas besoin d'en mettre plus, echo, message, warning sont dÃ©jÃ  dÃ©finis  data <- readxl::read_xlsx(   \"analyses/Tables/patrimoine menages.v2.xlsx\", 1  sheet = \"tapp\")  names(data) <- c(\"date\", \"vn\", \"pib\") data <- data |> mutate(date = lubridate::ym(str_c(date, \"-01\"))) |>    pivot_longer(cols  = c(vn, pib)) |>    mutate(name = factor(name, c(\"vn\", \"pib\"),                        c(\"En % de la valeur nette\", \"En % du PIB\")))                         # un ggplot et ses diffÃ©rentes couches ggplot(data) +    aes(x = date, y = value, group = name, col = name, fill = name) +   geom_line(linewidth = 1) +   geom_point(shape = 21, col = \"white\", size = 2) + 2  theme_ofce(legend.position = \"bottom\") +   scale_x_date(date_breaks = \"2 years\", date_labels = \"%Y\",  3               date_minor_breaks = \"year\") + 4  PrettyCols::scale_color_pretty_d(name = NULL, palette = \"Summer\") +   PrettyCols::scale_fill_pretty_d(name = NULL, palette = \"Summer\") +   ylab(\"Taux apparent\") + xlab(NULL) +   scae_y_continuous(labels = \\(x) str_c(x, \"%\")) +   labs(caption =          \"La fiscalitÃ© sur le patrimoine est composÃ©e ici de la taxe fonciÃ¨re payÃ©e par les mÃ©nages, <br>        des droits d'enregistrement sur les transactions immobiliÃ¨res, des droits de mutation sur les successions et les donations et de l'ImpÃ´t sur la Fortune ImmobiliÃ¨re (ex-ISF)<br> 5       *Sources* : Insee, calculs OFCE\")"},{"path":"https://ofce.github.io/ofce/articles/graphiques.html","id":"copier-coller","dir":"Articles","previous_headings":"","what":"Copier-coller","title":"Faire un graphique","text":"peut copier coller un graphique (de word, dâ€™excel, dâ€™ailleurs) dans le mode visuel de RStudio. Ã‡a marche mais câ€™est pas le mieux. Quand copie colle, fait quelque chose qui ressemble Ã  lâ€™option qui suit.","code":""},{"path":"https://ofce.github.io/ofce/articles/graphiques.html","id":"image-au-format-pngjpegjpgsvg","dir":"Articles","previous_headings":"","what":"Image au format png/jpeg/jpg/svg","title":"Faire un graphique","text":"peut enregistrer une image (au format que lâ€™veut, quarto accepte pas mal dâ€™options, dont les plus courantes) et lâ€™insÃ©rer dans le texte. Il y deux faÃ§on de faire soit en markdown (dans le qmd, comme un lien ou autre chose), soit en utilisant include_graphics. Lâ€™intÃ©rÃªt par rapport au copier-coller est que si change le fichier qui contient lâ€™image, Ã  chaque render du document, la bonne (la derniÃ¨re version) image sera utilisÃ©e. Si utilise des images venant de eviews ğŸ’€ ou stata ğŸ˜µ, câ€™est la meilleure mÃ©thode. Le rÃ©pertoire est toujours relatif. Jamais de chemin absolu comme â€œc:/user/machin/montravail/monrepo/monimage.pngâ€ parce que Ã§a ne marchera pas sur un autre ordinateur et en plus github ne copiera pas lâ€™image) et par celui qui contient le .qmd. Il est toujours possible de mettre les images dans un sous dossier. Plus câ€™est simple et clair, mieux câ€™est (.e.Â gardez les noms courts, explicites, pas de majuscules, bien rangÃ©s, conservateurs dans lâ€™utilisation des caractÃ¨res (pas dâ€™accents, pas de blancs, pas de symboles spÃ©ciaux). Donc donnees/img.png ou donnees/graphique 1a5.png ne sont pas des bons noms. Mais figures/revenu.png ou figures/pib_par_tete.png sont mieux. Notez la cohÃ©rence des id, nom et titre.","code":"[Titre de la figure](rep/fig.png) #| label fig-pib2008_2024 #| fig-cap: PIB entre 2008 et 2024  knitr::include_graphics(\"pib2008_2024.png\")"},{"path":"https://ofce.github.io/ofce/articles/graphiques.html","id":"les-autres-packages","dir":"Articles","previous_headings":"","what":"Les autres packages","title":"Faire un graphique","text":"peut faire des graphiques avec dâ€™autres packages dans R, voire mÃªme utiliser base R. Nous ne recommandons pas cette voie, parce quâ€™elle rend trÃ¨s difficile lâ€™harmonisation des graphiques et les fonctionnalitÃ©s avancÃ©es. Parfois, cependant, il nâ€™y pas dâ€™autres solutions.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"r-julia-python-ou-stata-ou-eviews","dir":"Articles","previous_headings":"","what":"R, Julia, Python ou Stata ou Eviews","title":"Outils","text":"Pour faire les calculs, traiter les donnÃ©es, produire les graphiques, il faut un logiciel. Le choix est parmi quelques languages qui permettentÂ : la reproductibilitÃ© : les traitements sont fait de faÃ§on sÃ©quentielle par un code ; ce code rÃ©alise toutes les opÃ©rations, du tÃ©lÃ©chargement des donnÃ©es brutes jusquâ€™Ã  la production des analyses. Câ€™est une diffÃ©rence importante par rapport Ã  Excel et Eviews oÃ¹ il nâ€™est pas possible de dÃ©finir les opÃ©rations permettant dâ€™arriver Ã  un rÃ©sultat. La reproductibilitÃ© est assurÃ©e par lâ€™utilisation dâ€™un logiciel open source accessible facilement â€“ Stata est un cas limite. La reproductibilitÃ© facilite le travail collaboratif (reproduire dans lâ€™Ã©quipe), la mise Ã  jour (reproduire dans 6 mois), la dÃ©tection des erreurs (relecture, reproduction) et la diffusion des bonnes pratiques. la transparence : la transparence repose en partie sur la reproductibilitÃ©. Elle consiste Ã  permettre lâ€™accÃ¨s Ã  lâ€™ensemble des codes, donnÃ©es source1 et de les documenter de faÃ§on Ã  rendre possible leur utilisation par quiconque. La transparence repose sur des outils dont github est un des plus importants. Les logiciels open source en font partie. Pour aller un cran plus loin dans la transparence, sâ€™attache Ã  produire des documents exÃ©cutables, câ€™est-Ã -dire que le rÃ©sultat final (pdf, site internet, document docx) est produit par un code, si possible exÃ©cutable avec des outils open source. Donc, R, Julia, Python sont clairement dans cette catÃ©gorie. Stata nâ€™est pas libre, mais largement rÃ©pandu et donc acceptable. Excel et Eviews ne sont pas utilisables parce quâ€™ils ne sont pas sÃ©quentiels. Lâ€™Ã©pisode Reihnart-Rogoff dÃ©coule de Ã§a. Mais il y des trillions dâ€™erreurs qui continuent de se propager Ã  cause des pratiques induites par Excel. R est un logiciel de traitement statistique libre. Il y un grand nombre de packages qui Ã©tendent les fonctionnalitÃ©s de R, certaines modifiant profondÃ©ment son fonctionnement comme tidyverse, ajoutant un Ã©cosystÃ¨me de production de graphiques comme ggplot2 + ggiraph + ggtext + â€¦, de production de tableaux comme gt ou encore de procÃ©dures statistiques comme fixest ou dâ€™interface avec des librairies de calcul comme xgboost. Bien que R ne soit pas un langage trÃ¨s rapide, son interface avec le C/C++ ou la possibilitÃ© de faire du calcul parallÃ¨le ou dâ€™utiliser des systÃ¨mes avancÃ©s comme torch permet dâ€™atteindre des performances de calculs maximales (.e.Â utilisant au mieux le hardware dont dispose). R est multi-plateforme peut lâ€™utiliser sur de nombreux systÃ¨mes y compris distants ce qui ouvre la porte au calcul haute performance. Pour installer R (la derniÃ¨re version est 4.4.3) : sur MacOS : R macOS (r-project.org) sur Windows : Download R-4.4.3 Windows. R-project statistical computing. et Rtools44 Windows (r-project.org) Il est recommandÃ© dâ€™installer les versions fixes (non variables) dâ€™Open Sans Open Sans - Google Fonts et de Fira Code Fira Code - Google Fonts.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"r","dir":"Articles","previous_headings":"","what":"R","title":"Outils","text":"R est un logiciel de traitement statistique libre. Il y un grand nombre de packages qui Ã©tendent les fonctionnalitÃ©s de R, certaines modifiant profondÃ©ment son fonctionnement comme tidyverse, ajoutant un Ã©cosystÃ¨me de production de graphiques comme ggplot2 + ggiraph + ggtext + â€¦, de production de tableaux comme gt ou encore de procÃ©dures statistiques comme fixest ou dâ€™interface avec des librairies de calcul comme xgboost. Bien que R ne soit pas un langage trÃ¨s rapide, son interface avec le C/C++ ou la possibilitÃ© de faire du calcul parallÃ¨le ou dâ€™utiliser des systÃ¨mes avancÃ©s comme torch permet dâ€™atteindre des performances de calculs maximales (.e.Â utilisant au mieux le hardware dont dispose). R est multi-plateforme peut lâ€™utiliser sur de nombreux systÃ¨mes y compris distants ce qui ouvre la porte au calcul haute performance. Pour installer R (la derniÃ¨re version est 4.4.3) : sur MacOS : R macOS (r-project.org) sur Windows : Download R-4.4.3 Windows. R-project statistical computing. et Rtools44 Windows (r-project.org)","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"quelques-dÃ©tails","dir":"Articles","previous_headings":"","what":"Quelques dÃ©tails","title":"Outils","text":"Il est recommandÃ© dâ€™installer les versions fixes (non variables) dâ€™Open Sans Open Sans - Google Fonts et de Fira Code Fira Code - Google Fonts.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"quarto","dir":"Articles","previous_headings":"","what":"Quarto","title":"Outils","text":"Quarto est un ensemble de commandes, accessibles par le terminal ou Ã  partir de R. Il est dÃ©veloppÃ© par RStudio et sert Ã  transformer les .qmd en documents publiables (.docx, .html, .pdf). Quarto est distinct de RStudio â€“ ce qui explique que la version de Quarto nâ€™est pas liÃ©e Ã  celle de RStudio. RÃ¨gle 4 : Il faut utiliser au moins Quarto 1.6 (la version actuelle est 1.6.42). Il y des mises Ã  jour frÃ©quentes, qui sont nÃ©cessaires et qui apportent de nombreuses corrections ou des fonctionnalitÃ©s importantes. Quarto besoin dâ€™Ãªtre installÃ©, mais il nâ€™y pas dâ€™interface quarto Ã  manipuler. Vous pouvez installer dans R le package quarto qui est un lien entre R et Quarto (et permet dâ€™exÃ©cuter Quarto par des commandes R, comme par exemple quarto::quarto_version() qui vous indique quelle est la version de quarto installÃ©e). Installer le package R quarto nâ€™installe pas la derniÃ¨re version de Quarto.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"rstudio","dir":"Articles","previous_headings":"","what":"RStudio","title":"Outils","text":"RStudio est lâ€™outil central (pour le moment). Câ€™est un IDE qui permet Ã  la fois dâ€™Ã©diter les textes (.r, .qmd), dâ€™organiser son travail en projets et dâ€™exÃ©cuter le code R ou Pyhton. Il comporte de nombreux outils pour simplifier la vie (en compliquant un peu lâ€™interface) en automatisant la publication, la construction des sites, le dÃ©bugage de code, lâ€™interface entre R et Python, le fonctionnement multi-plateforme, etcâ€¦. Pour certaines opÃ©rations, il faut utiliser le terminal (onglet terminal, Ã  cÃ´tÃ© de lâ€™onglet console) comme pour la commande quarto publish gh-pages. RÃ¨gle 5 : Il faut utiliser une version rÃ©cente (2024.04 au moins, disponible ici). Les mises Ã  jour sont moins frÃ©quentes que pour Quarto. Mettre Ã  jour RStudio apporte Quarto, mais gÃ©nÃ©ralement pas la derniÃ¨re version de Quarto. Lâ€™interface de RStudio est assez touffue et peut effrayer au premier abord. Câ€™est pourtant une interface qui Ã©tÃ© soigneusement Ã©laborÃ©e au fil du temps. finit par en comprendre la logique et elle est assez efficace. Il y de nombreux tutoriaux, cheat sheets, manuels. Lisez les, Ã§a aide. RStudio permet dâ€™Ã©diter les documents .qmd en mode â€œvisualâ€. Ce mode sâ€™active facilement (menu, raccourci clavier Command-Shift-F4Command-Shift-F4) et permet de disposer dâ€™une interface moderne pour Ã©diter un texte en markdown avancÃ©. dispose de nombreux outils comme la gestion de la bibliographie, des rÃ©fÃ©rences croisÃ©es, le dictionnaire, le copier coller de graphiques externes et bien sÃ»r lâ€™interface avec le code R, Python, Julia, SQL, etcâ€¦ Lorsquâ€™Ã©dite un .qmd avec RStudio dispose de deux modes. Le premier, Source, est lâ€™Ã©dition dâ€™un fichier en mode texte. y utilise la syntaxe markdown. Lâ€™avantage est que quand il y des petits bugs dans le texte peut les repÃ©rer trÃ¨s vite. Lâ€™alternative est le mode Visual qui affiche le texte formatÃ© et ajoute une barre de menu pratique pour le formatage ou lâ€™insertion dâ€™Ã©lÃ©ments.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"mode-visuelmode-source","dir":"Articles","previous_headings":"","what":"mode visuel/mode source","title":"Outils","text":"Lorsquâ€™Ã©dite un .qmd avec RStudio dispose de deux modes. Le premier, Source, est lâ€™Ã©dition dâ€™un fichier en mode texte. y utilise la syntaxe markdown. Lâ€™avantage est que quand il y des petits bugs dans le texte peut les repÃ©rer trÃ¨s vite. Lâ€™alternative est le mode Visual qui affiche le texte formatÃ© et ajoute une barre de menu pratique pour le formatage ou lâ€™insertion dâ€™Ã©lÃ©ments.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"git-github-github-com-github-desktop","dir":"Articles","previous_headings":"","what":"git, github, github.com, github desktop","title":"Outils","text":"git est lâ€™outil charniÃ¨re qui permet le travail collaboratif, le versionnage du code, son archivage mais aussi toute une chaÃ®ne dâ€™outils qui permettent par exemple la mise en ligne de sites. Le fonctionnement de git est dÃ©routant (son concepteur Linus Torwald lâ€™voulu impÃ©nÃ©trable et rÃ©servÃ© aux geeks hard core). Mais câ€™est un outil puissant qui est incontournable et maintenant enveloppÃ© dâ€™un ensemble dâ€™outils qui en facilitent lâ€™usage, github, github desktop, github.com.  Github est une version particuliÃ¨re de git (rachetÃ©e par Microsoft). github.com est un service de cloud associÃ© Ã  github. Il donne des espaces sÃ©curisÃ©s sur lesquels peut mettre ses dÃ©pÃ´ts et dÃ©finir qui peut y accÃ©der. github.com fournit aussi de nombreux outils de consultation du code, du versionnage du code, dâ€™outils pour merger, gÃ©rer les pull resquest, ouvrir des issues, cloner ou forker des dÃ©pÃ´ts, diffuser des nouvelles Ã  propos dâ€™un dÃ©pÃ´t, rechercher des solutions, publier un site, dÃ©finir de nombreux paramÃ¨tres de votre dÃ©pÃ´t, le fermer, le rendre privÃ© ou public, lâ€™archiver, le dÃ©truire. Câ€™est en fait lâ€™outil central de gestion des dÃ©pÃ´t, qui facilite la tÃ¢che par rapport au plan initial de Linus Torwald (si vous Ãªtes plus hard core, allez voir gitlab ou lâ€™alternative open source franÃ§aise adulac, mais nous utilise github). github desktop est une application bureau (que lâ€™installe sur son ordinateur donc) qui sert dâ€™interface pour certaines opÃ©rations avec github.com. y fait simplement les commit, les pull, les push, les merge et les pull request. peut aussi examiner les commit, les fichiers modifiÃ©s, les modifications des fichiers et annuler un commit. Dans 99% des cas, besoin que de github desktop. Le vocabulaire de git est particulier : un commit est une balise dans votre travail. git vous permet de revenir Ã  un commit passÃ©.  git consiste Ã  avoir une copie en local et une copie sur un serveur, dans le cloud, qui dans notre cas sera systÃ©matiquement github.com, qui sert de rÃ©fÃ©rence. Un pull consiste Ã  prendre sur le serveur les derniers commit et Ã  les ajouter sur le disque local. Câ€™est un ajout et non un remplacement. Il est toujours possible de revenir en arriÃ¨re, dâ€™examiner les changements apportÃ©s par les commit. La collaboration se fait par les commit qui sont additionnÃ©s les uns aux autres. Warning Attention, pour les fichiers non diffÃ©rentiables (Excel, word, rds, donnÃ©es non csv), la fusion des modifications nâ€™est pas possible et devra choisir (rÃ©solution des conflits) quelle est la version que lâ€™conserve â€“ celle sur votre disque (local) ou celle dans le cloud (main). Câ€™est pour cela quâ€™ne peut pas utiliser ces types de fichiers dans un travail collaboratif sans une grande discipline ou sans Ã©craser rÃ©guliÃ¨rement le travail des autres. Pour partager des fichiers excel ou des donnÃ©es le mieux est dâ€™utiliser un drive partagÃ©, ou mieux pins. Un push est lâ€™opÃ©ration qui consiste Ã  envoyer sur le serveur les commit qui sont sur votre disque local.  Et il y potentiellement des conflits : câ€™est lorsque des commit (les vÃ´tres et ceux dâ€™autres) opÃ¨rent sur un mÃªme endroit dans un mÃªme fichier. Il nâ€™est pas possible simplement dâ€™ajouter ces commit les uns aux autres et câ€™est donc un conflit. Pour sortir dâ€™un conflit, le plus simple est dâ€™utiliser VSCode ou, plus hard core, dâ€™Ã©diter le fichier mergÃ© avec les conflits pour rÃ©soudre Ã  la main les conflits. Dans github desktop, lorsquâ€™il dÃ©tecte des conflits, vous avec la possibilitÃ© de rÃ©soudre les conflits en donnant la prioritÃ© Ã  votre version ou celle du serveur. Warning Attention, choisir local au lieu de main dans un conflit efface le travail de quelquâ€™un.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"commit-push-pull-conflit","dir":"Articles","previous_headings":"","what":"commit, push, pull, conflit","title":"Outils","text":"Le vocabulaire de git est particulier : un commit est une balise dans votre travail. git vous permet de revenir Ã  un commit passÃ©.  git consiste Ã  avoir une copie en local et une copie sur un serveur, dans le cloud, qui dans notre cas sera systÃ©matiquement github.com, qui sert de rÃ©fÃ©rence. Un pull consiste Ã  prendre sur le serveur les derniers commit et Ã  les ajouter sur le disque local. Câ€™est un ajout et non un remplacement. Il est toujours possible de revenir en arriÃ¨re, dâ€™examiner les changements apportÃ©s par les commit. La collaboration se fait par les commit qui sont additionnÃ©s les uns aux autres. Warning Attention, pour les fichiers non diffÃ©rentiables (Excel, word, rds, donnÃ©es non csv), la fusion des modifications nâ€™est pas possible et devra choisir (rÃ©solution des conflits) quelle est la version que lâ€™conserve â€“ celle sur votre disque (local) ou celle dans le cloud (main). Câ€™est pour cela quâ€™ne peut pas utiliser ces types de fichiers dans un travail collaboratif sans une grande discipline ou sans Ã©craser rÃ©guliÃ¨rement le travail des autres. Pour partager des fichiers excel ou des donnÃ©es le mieux est dâ€™utiliser un drive partagÃ©, ou mieux pins. Un push est lâ€™opÃ©ration qui consiste Ã  envoyer sur le serveur les commit qui sont sur votre disque local.  Et il y potentiellement des conflits : câ€™est lorsque des commit (les vÃ´tres et ceux dâ€™autres) opÃ¨rent sur un mÃªme endroit dans un mÃªme fichier. Il nâ€™est pas possible simplement dâ€™ajouter ces commit les uns aux autres et câ€™est donc un conflit. Pour sortir dâ€™un conflit, le plus simple est dâ€™utiliser VSCode ou, plus hard core, dâ€™Ã©diter le fichier mergÃ© avec les conflits pour rÃ©soudre Ã  la main les conflits. Dans github desktop, lorsquâ€™il dÃ©tecte des conflits, vous avec la possibilitÃ© de rÃ©soudre les conflits en donnant la prioritÃ© Ã  votre version ou celle du serveur. Warning Attention, choisir local au lieu de main dans un conflit efface le travail de quelquâ€™un.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"branches","dir":"Articles","previous_headings":"","what":"Branches","title":"Outils","text":"Comme il est expliquÃ© dans la vignette(\"blog\") ou dans la vignette(\"site\"), le travail collaboratif peut demander quelques sÃ©curitÃ©s supplÃ©mentaires. La branche master (ou main pour ceux qui pensent que lâ€™utilisation du mot master fait de vous sans le dire un esclavagiste) est alors protÃ©gÃ©e. Seul lâ€™administrateur du site peut la modifier ou autoriser les modifications. Chaque intervention sur le contenu doit se faire sur une branche ad hoc crÃ©Ã©e pour lâ€™occasion. Le process est reprÃ©sentÃ© sur le diagramme. copie tout le contenu dans une branche, le modifie, le teste. Puis demande Ã  lâ€™intÃ©grer dans master Ã  lâ€™administrateur du dÃ©pÃ´t par une pull request. Lâ€™administrateur peut alors vÃ©rifier que les modifications sont OK et les merger dans master. Pourquoi faire comme Ã§a et pas limiter les droits de modifications Ã  seulement quelques fichiers. 1. Parce que câ€™est plus simple et flexible que de figer des accÃ¨s fichier par fichier 2. ca permet Ã  chacun de tester et de dÃ©bugger ses modifs 3. Ã§a permet de vÃ©rifier que les modifications ne sont pas allÃ© trop loin. 4. peut blamer câ€™est-Ã -dire savoir qui fait quoi.     Ce fichier, Ã  la racine du projet, permet dâ€™exclure de github des fichiers ou des dossiers. Câ€™est trÃ¨s utile, par exemple pour les donnÃ©es ou les informations confidentielles (mot de passe, token) ou encore les nombreux fichiers gÃ©nÃ©rÃ©s par les programmes ou les gÃ©nÃ©rations de site ou le render. peut avoir un .gitgnore dans un sous dossier pour quâ€™il ne sâ€™applique quâ€™Ã  partir de lÃ . Warning Attention en modifiant .gitignore aux effets de bord que cela peut provoquer. Les donnÃ©es ne sont pas les bienvenues sur github : les fichiers (sauf .csv) ne sont pas diffÃ©rentiables, cela gÃ©nÃ¨re beaucoup de conflits, ce qui rend pÃ©nible les pull et push et le risque dâ€™Ã©craser des donnÃ©es modifiÃ©es par quelquâ€™un dâ€™autre. github nâ€™accepte pas les fichiers supÃ©rieurs Ã  100Mo. peut dÃ©passer cette limite en utilisant git LFS. MalgrÃ© tout, il est parfois pratique dâ€™avoir des donnÃ©es dans son github. Il est parfois trÃ¨s pratique de les avoir dans Excel. perd alors toute possibilitÃ© de reproductibilitÃ© et de transparence, sauf si sâ€™astreint Ã  ne stocker que des fichiers tÃ©lÃ©chargÃ©s sur un site. Mais il est mieux de remplacer le stockage par une instruction qui fait le tÃ©lÃ©chargement (dans un dossier spÃ©cifique, data par exemple, qui peut Ãªtre mis dans .gitgnore et qui Ã©ventuellement ne le tÃ©lÃ©charge que si le fichier nâ€™est pas prÃ©sent). peut parfois quand mÃªme prÃ©fÃ©rer la solution de donnÃ©es dans le dÃ©pÃ´t, sur le serveur quand ne sait pas faire autrement (calculs exclusifs Ã  Excel â˜ ï¸, donnÃ©es entrÃ©es manuellement). Sinon, il est prÃ©fÃ©rable dâ€™utiliser un drive partagÃ© pour les donnÃ©es. Je recommande lâ€™utilisation du package pins en conjonction avec Azure (encore Microsoft, mais Ã§a marche avec dâ€™autres systÃ¨mes). cela permet dâ€™avoir un espace partagÃ©, sur lequel peut dÃ©finir facilement des droits dâ€™accÃ¨s et avec un simple token dâ€™avoir tout ce quâ€™il faut pour ouvrir lâ€™accÃ¨s. Câ€™est multi-plateforme et cela intÃ¨gre un versioning intÃ©gral qui peut Ãªtre pratique pour les accÃ¨s simultanÃ©s et trÃ¨s robuste. Un systÃ¨me de cache automatique Ã©vite les tÃ©lÃ©chargements multiples. Cela permet aussi le partage des donnÃ©es entre projets. Il y des cas plus lourds, oÃ¹ veut des accÃ¨s concurrents Ã  une mÃªme base de donnÃ©es. Pas dâ€™autre solution que dâ€™utiliser des outils plus sophistiquÃ©s (serveur SQL par exemple). RÃ¨gle 6 : la faÃ§on dont les donnÃ©es sont stockÃ©es peut entrainer de nombreux problÃ¨mes. Une architecture spÃ©cifique doit Ãªtre rÃ©flÃ©chie et communiquÃ©e Ã  tous les contributeurs du projet. pins est une solution simple, sÃ»re et rapide Ã  dÃ©ployer.","code":"%%{init: {\"theme\": \"neutral\"} }%% flowchart LR A[contenu dans branch master]   A -->|\"<i>clone<i/>\"| B(modifications)   B -->|\"<i>pull request<\/i>\"| D   A -->|\"<b>master est protÃ©gÃ©<b/>\"| D[master modifiÃ©]"},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"gitignore","dir":"Articles","previous_headings":"","what":".gitignore","title":"Outils","text":"Ce fichier, Ã  la racine du projet, permet dâ€™exclure de github des fichiers ou des dossiers. Câ€™est trÃ¨s utile, par exemple pour les donnÃ©es ou les informations confidentielles (mot de passe, token) ou encore les nombreux fichiers gÃ©nÃ©rÃ©s par les programmes ou les gÃ©nÃ©rations de site ou le render. peut avoir un .gitgnore dans un sous dossier pour quâ€™il ne sâ€™applique quâ€™Ã  partir de lÃ . Warning Attention en modifiant .gitignore aux effets de bord que cela peut provoquer.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"donnÃ©es","dir":"Articles","previous_headings":"","what":"DonnÃ©es","title":"Outils","text":"Les donnÃ©es ne sont pas les bienvenues sur github : les fichiers (sauf .csv) ne sont pas diffÃ©rentiables, cela gÃ©nÃ¨re beaucoup de conflits, ce qui rend pÃ©nible les pull et push et le risque dâ€™Ã©craser des donnÃ©es modifiÃ©es par quelquâ€™un dâ€™autre. github nâ€™accepte pas les fichiers supÃ©rieurs Ã  100Mo. peut dÃ©passer cette limite en utilisant git LFS. MalgrÃ© tout, il est parfois pratique dâ€™avoir des donnÃ©es dans son github. Il est parfois trÃ¨s pratique de les avoir dans Excel. perd alors toute possibilitÃ© de reproductibilitÃ© et de transparence, sauf si sâ€™astreint Ã  ne stocker que des fichiers tÃ©lÃ©chargÃ©s sur un site. Mais il est mieux de remplacer le stockage par une instruction qui fait le tÃ©lÃ©chargement (dans un dossier spÃ©cifique, data par exemple, qui peut Ãªtre mis dans .gitgnore et qui Ã©ventuellement ne le tÃ©lÃ©charge que si le fichier nâ€™est pas prÃ©sent). peut parfois quand mÃªme prÃ©fÃ©rer la solution de donnÃ©es dans le dÃ©pÃ´t, sur le serveur quand ne sait pas faire autrement (calculs exclusifs Ã  Excel â˜ ï¸, donnÃ©es entrÃ©es manuellement). Sinon, il est prÃ©fÃ©rable dâ€™utiliser un drive partagÃ© pour les donnÃ©es. Je recommande lâ€™utilisation du package pins en conjonction avec Azure (encore Microsoft, mais Ã§a marche avec dâ€™autres systÃ¨mes). cela permet dâ€™avoir un espace partagÃ©, sur lequel peut dÃ©finir facilement des droits dâ€™accÃ¨s et avec un simple token dâ€™avoir tout ce quâ€™il faut pour ouvrir lâ€™accÃ¨s. Câ€™est multi-plateforme et cela intÃ¨gre un versioning intÃ©gral qui peut Ãªtre pratique pour les accÃ¨s simultanÃ©s et trÃ¨s robuste. Un systÃ¨me de cache automatique Ã©vite les tÃ©lÃ©chargements multiples. Cela permet aussi le partage des donnÃ©es entre projets. Il y des cas plus lourds, oÃ¹ veut des accÃ¨s concurrents Ã  une mÃªme base de donnÃ©es. Pas dâ€™autre solution que dâ€™utiliser des outils plus sophistiquÃ©s (serveur SQL par exemple). RÃ¨gle 6 : la faÃ§on dont les donnÃ©es sont stockÃ©es peut entrainer de nombreux problÃ¨mes. Une architecture spÃ©cifique doit Ãªtre rÃ©flÃ©chie et communiquÃ©e Ã  tous les contributeurs du projet. pins est une solution simple, sÃ»re et rapide Ã  dÃ©ployer.","code":""},{"path":"https://ofce.github.io/ofce/articles/outils.html","id":"vscode-et-positron","dir":"Articles","previous_headings":"","what":"VSCode et Positron","title":"Outils","text":"VSCode est une alternative Ã  RStudio. DÃ©veloppÃ© par Microsoft (et oui, Microsoft est partout et ne fait pas que Word, Excel et Powerpoint), il est en train de sâ€™imposer comme standard dans le domaine des usages avancÃ©s. VSCode est organisÃ© autour dâ€™un Ã©diteur de texte (de code en fait) repose sur une structure trÃ¨s (un peu trop) ouverte. Il peut Ãªtre Ã©tendu facilement et articulÃ© avec de nombreux outils : formateurs, linteurs, highlighters, debogguers, compilateurs, accÃ¨s distants, dockers, correcteurs, IA. La liste est presque infinie et en tout cas grossit chaque jour. Câ€™est aussi un outil assez lÃ©ger, rapide, sÃ»r et trÃ¨s fonctionnel. Il dispose dâ€™un module dâ€™extension github trÃ¨s bien fait et trÃ¨s facile Ã  utiliser. Avec gitlens peut par ailleurs trÃ¨s simplement examiner son code et connaÃ®tre toutes les modifications apportÃ©es au cours des commit. Câ€™est trÃ¨s utile pour sâ€™y retrouver et bÃ©nÃ©ficier de la puissance de git instantanÃ©ment. pusher ou commiter se fait avec une grande sÃ©curitÃ© et un minimum de manipulation (gÃ©nÃ©ralement 1 click). Il est possible dâ€™Ã©diter les documents .qmd en mode visuel dans VSCode et avec son module github, le travail y est plus facile que dans RStudio. Pour ceux qui ne font que la review et lâ€™editing, câ€™est une excellente alternative, avec une interface moins riche (moins confuse surtout) que celle de RStudio. Positron est la fusion entre RStudio et VSCode. Câ€™est encore une version en dÃ©veloppement (la pre release date de juin 2024), mais elle fonctionne Ã  peu prÃ¨s (et de mieux en mieux chaque jour). Il nâ€™est pas recommandÃ© de lâ€™utiliser pour le moment pour des projets, sauf si vous avez le goÃ»t de lâ€™aventure et un peu de patience.","code":""},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"les-graphiques-de-prÃ©vision","dir":"Articles","previous_headings":"","what":"Les graphiques de prÃ©vision","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"Le est dâ€™homogÃ©nÃ©iser le plus possible les graphiques de prÃ©visions. Les consignes sâ€™appliquent surtout aux graphiques en sÃ©ries temporelles, avec une frÃ©quence de donnÃ©es trimestrielle. Les consignes sont quasi obligatoires (.e.Â obligatoires sauf trÃ¨s bonne raison de ne pas les suivre). suit dâ€™abord les consignes qui valent pour les graphiques de sÃ©ries temporelles theme_ofce(), format <date>, et appelle sa colonne dâ€™index temporel time ; les dates sont au format quotidien (\"2024-01-31\") par exemple. Par convention, note les donnÃ©es trimestrielles \"yyyy-[01; 04; 07; 10]-01\" et les annÃ©es au premier janvier (mais voir plus bas pour une nuance importante). scale_ofce_date(), utilise les options pour le geom_point_interactive(linewidth=0.5, shape=21, stroke=0.25, col=\"white\", hover_nearest=TRUE) Chaque .qmd doit commencer par un chunk r qui est formatÃ© comme suit â€“ cette instruction charge les packages nÃ©cessaires, dÃ©finit des options par dÃ©faut et ajoute quelques fonctions utiles : Ã©vite les graphiques spaghetti, double Ã©chelle. privilÃ©gie les facets et si possible rÃ©pÃ¨te en gris clair les donnÃ©es des autres facets pour permettre la comparaison. place la lÃ©gende, dans la mesure du possible, dans le graphique. Dans la mesure du possible, met la lÃ©gende sous forme de labels. indique, lorsque câ€™est pertinent, la pÃ©riode de prÃ©vision par un grisÃ© et en utilisant la fonction annotate_prevision(posy = y), oÃ¹ y est la coordonnÃ©e Ã  laquelle veut que le texte â€œprÃ©visionsâ€ sâ€™affiche (si size=0 il nâ€™y aura pas de texte). nâ€™utilise pas dâ€™autres moyens pour indiquer les prÃ©visions (par exemple des pointillÃ©s). rend le graphique interactif, en utilisant girafy et : avec un geom_point_interactive(aes(tooltip=tooltip, data_id = time)) â€“ et donc pas dâ€™autres Ã©lÃ©ments interactifs sauf si nÃ©cessaire (notamment les barres), en construisant un tooltip le plus signifiant possible, en mettant Ã  disposition les donnÃ©es avec un margin_download(), utilise ofce::ofce_caption() afin de normaliser lâ€™aspect et la prÃ©sentation des notes de graphique. ofce_caption() permet de spÃ©cifier la source, les notes, les indications de lecture, le champ, le lien vers le code, un texte comme â€œprÃ©visions OFCE 2025â€ systÃ©matique, etcâ€¦ (reportez vous Ã  lâ€™aide de cette fonction qui est dans le package ofce). met le code du graphique (le ggplot, etcâ€¦) dans le .qmd qui contient le texte. Cela permet dâ€™Ã©diter les textes, dâ€™un cÃ´tÃ©, et de normaliser les prÃ©sentations, de lâ€™autre. La construction du tooltip est aussi Ã  ce niveau pour pouvoir lâ€™Ã©diter. Il est nÃ©cessaire que le girafy() soit dans le qmd, sinon, lâ€™objet interactif nâ€™aura pas le bon format suivant les support (site, prÃ©sentation, etcâ€¦). utilise ofce::source_data() pour la construction des donnÃ©es, ce nâ€™est pas obligatoire, mais trÃ¨s efficace et trÃ¨s recommandÃ© pour le travail collaboratif (comme celui de la prÃ©vision). Voir la vignette correspondante. met le code de construction dans un fichier .r, joint dont le nom est simple, signifiant, en minuscule et qui est enregistrÃ© au mÃªme niveau que le .qmd ou en dessous. utilise source_data pour Ã©viter de bloquer le fonctionnement de la compilation des qmd et faciliter la portabilitÃ© des codes de donnÃ©es â€“ câ€™est important. Chacun de ces Ã©lÃ©ments est dÃ©taillÃ©s et avec des exemples de codes ci-dessous.","code":"#| include: false ofce::init_qmd()"},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"un-exemple-de-graphique","dir":"Articles","previous_headings":"","what":"Un exemple de graphique","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"Lâ€™exemple de graphique est celui qui apparaÃ®t sur toutes les fiches et la partie France en dÃ©but de texte. Les donnÃ©es sont stockÃ©es dans un fichier excel, ce qui est une pratique qui devra disparaÃ®tre, mais bonâ€¦ Le code original se trouve dans le rÃ©pertoire dâ€™une prÃ©vision (fiches/data_pays.R). Il est ici un peu simplifiÃ©, parce que data_pays.R produit une fonction qui prend comme paramÃ¨tre le pays quâ€™veut afficher. Câ€™est donc le mÃªme code pour tous les pays. Il y dâ€™autres exemples dans le cahier de graphiques et les codes sont copiables directement. Les donnÃ©es, dans data, sont en format long, câ€™est Ã  dire en ligne pour les dates, les pays et les variables. Rien de particulier Ã  ce stade, si ce nâ€™est la construction du tooltip, pour chaque ligne de data. choisit un pays qui sera le principal, fait un facet sur les variables (pib, chÃ´mage, inflation, dÃ©ficit), et ajoute les autres pays dans le fond, en gris clair pour la comparaison. Ce chunk peut tout Ã  fait Ãªtre dans un script r (data.r)1 et utilise alors source_data pour lâ€™exÃ©cuter avec data <- source_data(\"data.r\").","code":"gt <- function(x, na.rm = FALSE) (100*(x/lag(x,1)-1)) ga <- function(x, na.rm = FALSE) (100*(x/lag(x,4)-1)) data_pays <- fs::path_package(\"ofce\", \"extdata/data_pays.xlsx\") data_gpib <- read_excel(data_pays, sheet = \"pib\", col_names = TRUE) |>   mutate(date = as.Date(date)+ days(45)) %>%   mutate(across(c(usa, euz, deu, fra , ita, esp, gbr, jpn), ~gt(.x))) |>   pivot_longer(cols=-date, names_to= \"pays\", values_to = \"value\")  |>   mutate(     variable = \"Croissance du PIB\",     long = pays_long[toupper(pays)],     tooltip = glue(\"<b>{long}<\/b><br>{date_trim(date)}<br>croissance trimestrielle du PIB : {round(value,1)}%\")) Error in read_excel(data_pays, sheet = \"pib\", col_names = TRUE): could not find function \"read_excel\" data_tcho <- read_excel(data_pays, sheet = \"tcho\", col_names = TRUE) |>   mutate(date = as.Date(date)+ days(45)) |>   pivot_longer(cols=-date, names_to=\"pays\", values_to = \"value\") |>   mutate(     variable = \"ChÃ´mage\",     long = pays_long[toupper(pays)],     tooltip = glue(\"<b>{long}<\/b><br>{date_trim(date)}<br>Taux de chÃ´mage : {round(value,1)}% de la population active\")) Error in read_excel(data_pays, sheet = \"tcho\", col_names = TRUE): could not find function \"read_excel\" data_prix <- read_excel(data_pays, sheet = \"prix\", col_names = TRUE) |>   mutate(date = as.Date(date) + days(45)) %>%   mutate_at(c(\"usa\", \"euz\",\"deu\",\"fra\",\"ita\",\"esp\",\"gbr\",\"jpn\"), list(~ga(.))) |>   pivot_longer(cols=-date, names_to=\"pays\", values_to = \"value\") |>   mutate(     variable = \"Inflation (prix Ã  la consommation)\",     long = pays_long[toupper(pays)],     tooltip = glue(\"<b>{long}<\/b><br>{date_trim(date)}<br>Glissement annuel des prix : {round(value,1)}%\")) Error in read_excel(data_pays, sheet = \"prix\", col_names = TRUE): could not find function \"read_excel\" data_solde <- read_excel(data_pays, sheet = \"solde\", col_names = TRUE) |>   mutate(date = as.Date(date) -days(15))|>   pivot_longer(cols=-c(\"date\"), names_to=\"pays\", values_to = \"value\") %>%   mutate(value=as.numeric(value)) |>   mutate(     date = date,     variable = \"Solde public (APU)\",     long = pays_long[toupper(pays)],     tooltip = glue(\"<b>{long}<\/b><br>{year(date)} (fin d'annÃ©e)<br>Solde des administrations publiques : {round(value,1)}%\")) Error in read_excel(data_pays, sheet = \"solde\", col_names = TRUE): could not find function \"read_excel\" data <- bind_rows(data_gpib, data_tcho, data_prix, data_solde) |>   filter(date > \"2020-12-31\") |>   mutate(     pays = toupper(pays),     variable = factor(     variable,     c(\"Croissance du PIB\", \"ChÃ´mage\", \"Inflation (prix Ã  la consommation)\", \"Solde public (APU)\" ))) Error: object 'data_gpib' not found"},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"chargement-des-donnÃ©es-et-tooltip","dir":"Articles","previous_headings":"","what":"Chargement des donnÃ©es et tooltip","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"Les donnÃ©es, dans data, sont en format long, câ€™est Ã  dire en ligne pour les dates, les pays et les variables. Rien de particulier Ã  ce stade, si ce nâ€™est la construction du tooltip, pour chaque ligne de data. choisit un pays qui sera le principal, fait un facet sur les variables (pib, chÃ´mage, inflation, dÃ©ficit), et ajoute les autres pays dans le fond, en gris clair pour la comparaison. Ce chunk peut tout Ã  fait Ãªtre dans un script r (data.r)1 et utilise alors source_data pour lâ€™exÃ©cuter avec data <- source_data(\"data.r\").","code":"gt <- function(x, na.rm = FALSE) (100*(x/lag(x,1)-1)) ga <- function(x, na.rm = FALSE) (100*(x/lag(x,4)-1)) data_pays <- fs::path_package(\"ofce\", \"extdata/data_pays.xlsx\") data_gpib <- read_excel(data_pays, sheet = \"pib\", col_names = TRUE) |>   mutate(date = as.Date(date)+ days(45)) %>%   mutate(across(c(usa, euz, deu, fra , ita, esp, gbr, jpn), ~gt(.x))) |>   pivot_longer(cols=-date, names_to= \"pays\", values_to = \"value\")  |>   mutate(     variable = \"Croissance du PIB\",     long = pays_long[toupper(pays)],     tooltip = glue(\"<b>{long}<\/b><br>{date_trim(date)}<br>croissance trimestrielle du PIB : {round(value,1)}%\")) Error in read_excel(data_pays, sheet = \"pib\", col_names = TRUE): could not find function \"read_excel\" data_tcho <- read_excel(data_pays, sheet = \"tcho\", col_names = TRUE) |>   mutate(date = as.Date(date)+ days(45)) |>   pivot_longer(cols=-date, names_to=\"pays\", values_to = \"value\") |>   mutate(     variable = \"ChÃ´mage\",     long = pays_long[toupper(pays)],     tooltip = glue(\"<b>{long}<\/b><br>{date_trim(date)}<br>Taux de chÃ´mage : {round(value,1)}% de la population active\")) Error in read_excel(data_pays, sheet = \"tcho\", col_names = TRUE): could not find function \"read_excel\" data_prix <- read_excel(data_pays, sheet = \"prix\", col_names = TRUE) |>   mutate(date = as.Date(date) + days(45)) %>%   mutate_at(c(\"usa\", \"euz\",\"deu\",\"fra\",\"ita\",\"esp\",\"gbr\",\"jpn\"), list(~ga(.))) |>   pivot_longer(cols=-date, names_to=\"pays\", values_to = \"value\") |>   mutate(     variable = \"Inflation (prix Ã  la consommation)\",     long = pays_long[toupper(pays)],     tooltip = glue(\"<b>{long}<\/b><br>{date_trim(date)}<br>Glissement annuel des prix : {round(value,1)}%\")) Error in read_excel(data_pays, sheet = \"prix\", col_names = TRUE): could not find function \"read_excel\" data_solde <- read_excel(data_pays, sheet = \"solde\", col_names = TRUE) |>   mutate(date = as.Date(date) -days(15))|>   pivot_longer(cols=-c(\"date\"), names_to=\"pays\", values_to = \"value\") %>%   mutate(value=as.numeric(value)) |>   mutate(     date = date,     variable = \"Solde public (APU)\",     long = pays_long[toupper(pays)],     tooltip = glue(\"<b>{long}<\/b><br>{year(date)} (fin d'annÃ©e)<br>Solde des administrations publiques : {round(value,1)}%\")) Error in read_excel(data_pays, sheet = \"solde\", col_names = TRUE): could not find function \"read_excel\" data <- bind_rows(data_gpib, data_tcho, data_prix, data_solde) |>   filter(date > \"2020-12-31\") |>   mutate(     pays = toupper(pays),     variable = factor(     variable,     c(\"Croissance du PIB\", \"ChÃ´mage\", \"Inflation (prix Ã  la consommation)\", \"Solde public (APU)\" ))) Error: object 'data_gpib' not found"},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"graphique-proprement-dit","dir":"Articles","previous_headings":"","what":"Graphique proprement dit","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"Le graphique est construit ensuite par un ggplot et la mise en oeuvre des recommandations ci-dessus :","code":"pays <- \"FRA\" pays2 <- \"EUZ\" # on dÃ©finit les donnÃ©es, le pays en Ã©vidence, `pays2` moins mis en Ã©vidence et `autres` pas mis en Ã©vidence du tout autres <- data |> distinct(pays) |> pull() |> setdiff(c(pays, pays2)) Error in UseMethod(\"distinct\"): no applicable method for 'distinct' applied to an object of class \"c('gt_tbl', 'list')\" gg <- ggplot(data) +   # l'`aes` commun Ã  plusieurs geom, une bonne pratique qui rend le code plus simple   aes(x=date, y=value, group = pays, color = variable, fill = variable) +   # la bande grise qui indique les prÃ©visions (spÃ©cifique Ã  chque exercice de prÃ©vision)   annotate_prevision(size=0) +   # le `facet`, avec une Ã©chelle libre sur les y -- jamais de spaghettis   facet_wrap(vars(variable), scales = \"free_y\") +   # dans ce geom_line on filtre les pays en fond de graphique, qui sont en gris clair et en trait fin ce qui peut se faire aussi avec le pkg `{highlitght}`   geom_line(     data =  ~.x |> filter(pays %in% autres),     size = 2, color = \"gray85\", linewidth = 0.25) +   geom_line(data = ~.x |> filter(pays==pays2),             size = 2, color = \"gray35\", linewidth = 0.25) +   # le premier geom_point_interactive, pour les pays du fond, en gris clair   geom_point_interactive(     data =  ~.x |> filter(pays %in% autres),     aes(tooltip = tooltip, data_id = date),     size = 0.75, stroke = 0.25, shape = 21,     col = \"white\", fill = \"gray85\",     hover_nearest = TRUE) +   # le second geom_point_interactive() pour le pays moins en Ã©vidence en gris foncÃ©   geom_point_interactive(     data = ~.x |> filter(pays==pays2),     aes(tooltip = tooltip, data_id = date),     size = 0.75, stroke = 0.25, shape = 21,     col = \"white\", fill = \"gray35\",     hover_nearest = TRUE) +   # les lignes colorÃ©es (en fonction des variables, voir l'`aes`) pour le pays principal (notez `!!pays` qui signifie utiliser la variable globale, pas celle du data.frame)   geom_line(     data = ~ .x |> filter(pays==!!pays)) +   # les points pour le pays principal, de `shape 21` et colorÃ©s par `fill` avec un cercle blanc   geom_point_interactive(     data = ~ .x |> filter(pays==!!pays),     aes(tooltip = tooltip, data_id = date),     stroke = 0.5, shape = 21, col = \"white\", hover_nearest = TRUE) +   # l'Ã©chelle des dates qui utilise la fonction du package `{ofce}`, avec des ticks mineurs pour les trimestres   scale_ofce_date(     date_breaks = \"1 year\",     date_minor_breaks = \"3 months\",     expand = expansion(mult=c(0.05, 0.0))) +   # les labels des axes, on garde Ã§a simple et on indique principalement l'unitÃ©   labs(y=\"En %\", x=NULL) +   # le theme ofce (l'ordre des Ã©lÃ©ments n'est pas critique) !!!   theme_ofce() +   # les couleurs : procÃ©der ainsi permet la normalisation des couleurs a posteriori   PrettyCols::scale_color_pretty_d(\"Summer\") +   PrettyCols::scale_fill_pretty_d(\"Summer\") +   # l'aspect des labels, avec le bon nombre de chiffres aprÃ¨s la virgule et l'utilisation de `scales::pretty_breaks()` pour des labels choisis astucieusement   scale_y_continuous(labels = label_number(decimal.mark = \",\", accuracy = 1, suffix = \"%\"),                      breaks = scales::breaks_pretty()) +   # on ne met pas les lÃ©gendes de couleur ou de remplissage, ce n'est pas utile dans ce graphique, on essaye de ne pas les mettre en dessous de faÃ§on gÃ©nÃ©rale si elles sont nÃ©cessaire   guides(color = \"none\", fill = \"none\") +   # les notes et sources, standardisÃ©es, avec en particulier les derniers points connus.   ofce_caption(     source = \"INSEE, Eurostat, instituts nationaux\",     note = \"La zone euro est en gris foncÃ©\",     dpt = \"2024-04-01\", dptf = \"quarter\") Error in `fortify()`: ! `data` must be a <data.frame>, or an object coercible by `fortify()`,   or a valid <data.frame>-like object coercible by `as.data.frame()`. Caused by error in `check_data_frame_like()`: ! `dim(data)` must return an <integer> of length 2. gg Error: object 'gg' not found"},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"des-couleurs-par-pays","dir":"Articles","previous_headings":"","what":"Des couleurs par pays","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"La fonction ofce::scale_color_pays() applique une Ã©chelle de couleur (et de remplissage) qui suit le choix de la charte graphique de lâ€™ofce. Pour que cela fonctionne, il faut que dans lâ€™aes qui dÃ©finit la couleur (aes(color=pays)) ou le remplissage (aes(fill=pays)) soit un code iso Ã  3 lettres. Si le code est un code eurostat il suffit de le prÃ©ciser (format=\"eurostat\" en paramÃ¨tre Ã  scale_color_pays()). Cela donne comme code :","code":"ggplot(mes_donnees) +   aes(x=time, y= pib, color = pays, fill = pays) +   ...+   scale_color_pays()"},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"interactivitÃ©","dir":"Articles","previous_headings":"","what":"InteractivitÃ©","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"Pour finir, enveloppe le graphique dâ€™un girafy, qui fait fonctionner et normalise lâ€™interactivitÃ© (dont les tooltips). peut demander aussi Ã  ce stade dâ€™inclure lâ€™instruction graph2prev(gg) qui effectue un enregistrement du graphique pour usages ultÃ©rieurs (par exemple dans une prÃ©sentation). Et voilÃ  !","code":"girafy(gg) Error: object 'gg' not found"},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"des-usages-plus-avancÃ©s","dir":"Articles","previous_headings":"","what":"Des usages plus avancÃ©s","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"Pour empiler des graphiques peut utiliser patchwork â€“ câ€™est mieux que les autres solutions comme cowplot. La syntaxe est trÃ¨s simple, pour empiler lâ€™un sur lâ€™autre le graphique g1 et g2 il suffit dâ€™Ã©crire g <- g1/g2 et lâ€™un Ã  cÃ´tÃ© de lâ€™autre g <- g1 + g2. Lâ€™objet g ressemble beaucoup Ã  un graphique ggplot, mais pas complÃ¨tement. Il peut cependant Ãªtre utilisÃ© dans {giraph} comme un ggplot. Lâ€™interactivitÃ© est alors synchrone pour tous les graphiques du patchwork. Parfois peut prÃ©fÃ©rer patchwork Ã  un facet, parce que patchwork autorise le mÃ©lange de graphique trÃ¨s diffÃ©rents (des line sur un panel, des bar sur un autre). patchwork rÃ©unit les lÃ©gendes communes, et les notes communes, aligne les axes et permet de faire des dÃ©corations communes. La syntaxe pour ces opÃ©rations avancÃ©es est sur lâ€™aide de patchwork avec quelques exemples dans le cahier de graphiques. peut aligner les axes de graphiques dans des chunks diffÃ©rents avec patchwork. Câ€™est assez simple et il y un exemple sur les graphiques â€œimmobiliersâ€ du cahier de graphiques. dÃ©finit un graphique de rÃ©fÃ©rence et en prend les â€œmesuresâ€ avec dim <- get_dim(g0). Les graphiques que lâ€™veut aligner seront produits par set_dim(g1, dim). Le graphique de rÃ©fÃ©rence doit Ãªtre celui dont les labels de lâ€™axe des y sont les plus larges, ce qui peut demander un peu dâ€™organisation dans lâ€™Ã©criture des chunks â€“ rien de bien compliquÃ©. Ceci permet de produire des pages plus soignÃ©es. En utilisant lâ€™option metadata=TRUE dans source_data() peut rÃ©cupÃ©rer des informations sur, par exemple, la date de tÃ©lÃ©chargement. Câ€™est illustrÃ© sur quelques graphiques du cahier de graphique. En code cela donne le chunk ci dessous. Les donnÃ©es sont accessibles par $data et la date de tÃ©lÃ©chargement par $date. Cela permet de construire la note (noter que glue::glue() est appliquÃ© aux textes passÃ©s Ã  ofce_caption()). Pour dÃ©finir la taille dâ€™un graphique, ne spÃ©cifie jamais la largeur ou la hauteur du graphique2 . Celle-ci est dÃ©finie en fonction du support dâ€™affichage et donc nâ€™est pas connue Ã  lâ€™avance. En la fixant dans le .qmd empÃªche la mise Ã  lâ€™Ã©chelle conditionnelle au support de sortie et cela produit des rÃ©sultats embettant. utilise donc le ratio hauteur/largeur qui sâ€™appelle asp (pour aspect ratio). Il est fixÃ© Ã  0.61 (lâ€™inverse du nombre dâ€™) par dÃ©faut. Lorsquâ€™une note de graphique trÃ¨s longue, peut lâ€™augmenter (malheureusement lâ€™asp inclue le graphique et le texte des notes), Ã  0.7 ou 0.8. Si empile deux graphiques (un facet par exemple), un asp de 1 est possible. Câ€™est Ã©galement un bon ratio pour les cartes (1 donne un format carrÃ©). Pour un graphique pleine page A4, lâ€™asp est celui dâ€™une page A4 soit 1.41. Au delÃ  de cet asp, cela nâ€™pas beaucoup de sens et en tout cas cela posera des problÃ¨mes Ã  lâ€™impression sur papier. Pour un graphique destinÃ© Ã  une prÃ©sentation, le ratio doit Ãªtre celui de lâ€™Ã©cran de projection soit 9/16=0,56, ce qui nâ€™est pas trÃ¨s loin de la valeur par dÃ©faut (coincidence ? je ne crois pas) Le code le plus simple pour dÃ©finir lâ€™asp est celui-lÃ  (pour une Ã©trange raison, il faut mettre le 0 et bine sÃ»r utiliser le point pour les dÃ©cimales, pas dâ€™opÃ©rations possibles comme 9/16) :","code":"transactions <- source_data(\"immo/data_transaction.r\", metadata=TRUE)  trsc <- ggplot(transactions$data) +   aes(x=date, y=t*1000) +   geom_line(alpha = 0.5, col = bluish) +   geom_point_interactive(aes(tooltip = tooltip, data_id = date),                          shape = 21, size = 1, stroke = 0.2, col = \"white\",                          fill = bluish,                          hover_nearest = TRUE, show.legend = FALSE)+   theme_ofce() +   scale_y_log10(labels = scales::number_format(scale = 1/1000, suffix=\"k\")) +   scalex +   ofce_caption(     source = \"IGEDD d'aprÃ¨s DGFiP (MEDOC) et bases notariale\",     dpt = transactions$data$date,     note = \"Transactions cumulÃ©es sur 12 mois, dans l'ancien, maisons et appartements, Ã©chelle log, donnÃ©es tÃ©lÃ©chargÃ©es le {date_jour(transactions$date)}\",     sub= \"Nombre de transactions\") #| label: fig-fig1 #| fig-cap: Le titre de la figure #| fig-asp: 0.7 ... # le code du graphique ..."},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"composition-de-graphiques-patchwork","dir":"Articles","previous_headings":"","what":"Composition de graphiques : patchwork","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"Pour empiler des graphiques peut utiliser patchwork â€“ câ€™est mieux que les autres solutions comme cowplot. La syntaxe est trÃ¨s simple, pour empiler lâ€™un sur lâ€™autre le graphique g1 et g2 il suffit dâ€™Ã©crire g <- g1/g2 et lâ€™un Ã  cÃ´tÃ© de lâ€™autre g <- g1 + g2. Lâ€™objet g ressemble beaucoup Ã  un graphique ggplot, mais pas complÃ¨tement. Il peut cependant Ãªtre utilisÃ© dans {giraph} comme un ggplot. Lâ€™interactivitÃ© est alors synchrone pour tous les graphiques du patchwork. Parfois peut prÃ©fÃ©rer patchwork Ã  un facet, parce que patchwork autorise le mÃ©lange de graphique trÃ¨s diffÃ©rents (des line sur un panel, des bar sur un autre). patchwork rÃ©unit les lÃ©gendes communes, et les notes communes, aligne les axes et permet de faire des dÃ©corations communes. La syntaxe pour ces opÃ©rations avancÃ©es est sur lâ€™aide de patchwork avec quelques exemples dans le cahier de graphiques.","code":""},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"aligner-des-graphiques-dans-des-chunks-diffÃ©rents","dir":"Articles","previous_headings":"","what":"Aligner des graphiques dans des chunks diffÃ©rents","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"peut aligner les axes de graphiques dans des chunks diffÃ©rents avec patchwork. Câ€™est assez simple et il y un exemple sur les graphiques â€œimmobiliersâ€ du cahier de graphiques. dÃ©finit un graphique de rÃ©fÃ©rence et en prend les â€œmesuresâ€ avec dim <- get_dim(g0). Les graphiques que lâ€™veut aligner seront produits par set_dim(g1, dim). Le graphique de rÃ©fÃ©rence doit Ãªtre celui dont les labels de lâ€™axe des y sont les plus larges, ce qui peut demander un peu dâ€™organisation dans lâ€™Ã©criture des chunks â€“ rien de bien compliquÃ©. Ceci permet de produire des pages plus soignÃ©es.","code":""},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"rÃ©cupÃ©rer-les-mÃ©tadonnÃ©es-de-source_data","dir":"Articles","previous_headings":"","what":"RÃ©cupÃ©rer les mÃ©tadonnÃ©es de source_data()","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"En utilisant lâ€™option metadata=TRUE dans source_data() peut rÃ©cupÃ©rer des informations sur, par exemple, la date de tÃ©lÃ©chargement. Câ€™est illustrÃ© sur quelques graphiques du cahier de graphique. En code cela donne le chunk ci dessous. Les donnÃ©es sont accessibles par $data et la date de tÃ©lÃ©chargement par $date. Cela permet de construire la note (noter que glue::glue() est appliquÃ© aux textes passÃ©s Ã  ofce_caption()).","code":"transactions <- source_data(\"immo/data_transaction.r\", metadata=TRUE)  trsc <- ggplot(transactions$data) +   aes(x=date, y=t*1000) +   geom_line(alpha = 0.5, col = bluish) +   geom_point_interactive(aes(tooltip = tooltip, data_id = date),                          shape = 21, size = 1, stroke = 0.2, col = \"white\",                          fill = bluish,                          hover_nearest = TRUE, show.legend = FALSE)+   theme_ofce() +   scale_y_log10(labels = scales::number_format(scale = 1/1000, suffix=\"k\")) +   scalex +   ofce_caption(     source = \"IGEDD d'aprÃ¨s DGFiP (MEDOC) et bases notariale\",     dpt = transactions$data$date,     note = \"Transactions cumulÃ©es sur 12 mois, dans l'ancien, maisons et appartements, Ã©chelle log, donnÃ©es tÃ©lÃ©chargÃ©es le {date_jour(transactions$date)}\",     sub= \"Nombre de transactions\")"},{"path":"https://ofce.github.io/ofce/articles/prevision.html","id":"la-taille-dun-graphique","dir":"Articles","previous_headings":"","what":"La taille dâ€™un graphique","title":"SÃ©ries temporelles II : les graphiques de prÃ©vision","text":"Pour dÃ©finir la taille dâ€™un graphique, ne spÃ©cifie jamais la largeur ou la hauteur du graphique2 . Celle-ci est dÃ©finie en fonction du support dâ€™affichage et donc nâ€™est pas connue Ã  lâ€™avance. En la fixant dans le .qmd empÃªche la mise Ã  lâ€™Ã©chelle conditionnelle au support de sortie et cela produit des rÃ©sultats embettant. utilise donc le ratio hauteur/largeur qui sâ€™appelle asp (pour aspect ratio). Il est fixÃ© Ã  0.61 (lâ€™inverse du nombre dâ€™) par dÃ©faut. Lorsquâ€™une note de graphique trÃ¨s longue, peut lâ€™augmenter (malheureusement lâ€™asp inclue le graphique et le texte des notes), Ã  0.7 ou 0.8. Si empile deux graphiques (un facet par exemple), un asp de 1 est possible. Câ€™est Ã©galement un bon ratio pour les cartes (1 donne un format carrÃ©). Pour un graphique pleine page A4, lâ€™asp est celui dâ€™une page A4 soit 1.41. Au delÃ  de cet asp, cela nâ€™pas beaucoup de sens et en tout cas cela posera des problÃ¨mes Ã  lâ€™impression sur papier. Pour un graphique destinÃ© Ã  une prÃ©sentation, le ratio doit Ãªtre celui de lâ€™Ã©cran de projection soit 9/16=0,56, ce qui nâ€™est pas trÃ¨s loin de la valeur par dÃ©faut (coincidence ? je ne crois pas) Le code le plus simple pour dÃ©finir lâ€™asp est celui-lÃ  (pour une Ã©trange raison, il faut mettre le 0 et bine sÃ»r utiliser le point pour les dÃ©cimales, pas dâ€™opÃ©rations possibles comme 9/16) :","code":"#| label: fig-fig1 #| fig-cap: Le titre de la figure #| fig-asp: 0.7 ... # le code du graphique ..."},{"path":"https://ofce.github.io/ofce/articles/qa.html","id":"quand-tout-va-mal","dir":"Articles","previous_headings":"","what":"Quand tout va mal","title":"Quand tout va mal : questions et rÃ©ponses","text":"rÃ©pertorie ici les erreurs rencontrÃ©es dans lâ€™utilisation du packge ofce et les astuces qui permettent de faire avec.","code":""},{"path":"https://ofce.github.io/ofce/articles/qa.html","id":"pakpak-ne-fonctionne-pas","dir":"Articles","previous_headings":"","what":"pak::pak ne fonctionne pas","title":"Quand tout va mal : questions et rÃ©ponses","text":"Cela arrive parfois. Essayez devtools::install_github(\"ofce/ofce\")","code":""},{"path":"https://ofce.github.io/ofce/articles/qa.html","id":"pas-dextensions","dir":"Articles","previous_headings":"","what":"Pas dâ€™extensions","title":"Quand tout va mal : questions et rÃ©ponses","text":"Quand le message dâ€™erreur anonce quâ€™il nâ€™pas trouvÃ© lâ€™extension, il suffit dâ€™installer lâ€™extension : soit dans le dossier oÃ¹ se trouve le qmd, sâ€™il nâ€™y pas de _quarto.yml gÃ©nÃ©ral ou dasn un dossier au dessus soit lÃ  oÃ¹ est le _quarto_yml Pour installer les extensions dans un dossier ofce::setupe_quarto(\"le_dossier\") fait lâ€™affaire (le_dossier est bien sÃ»r Ã  remplacer par votre dossierâ€¦ ou rien pour le mettre Ã  la racine du projet â€“ le working directory en fait)","code":"ERROR: Unable to read the extension 'pres'. Please ensure that you provided the correct id and that the extension is installed."},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"quelques-conseils-dÃ©criture-et-de-format","dir":"Articles","previous_headings":"","what":"Quelques conseils dâ€™Ã©criture et de format","title":"Premiers pas avec Quarto","text":"Tout commence par un .qmd. Il doit Ãªtre placÃ© dans un sous dossier du projet gÃ©nÃ©ral, pour Ãªtre rangÃ© de faÃ§on comprÃ©hensible par tout le monde. Demandez Ã  votre administratrice de projet les rÃ¨gles quâ€™elle souhaite voir appliquÃ©es. Un exemple de projet est ci-dessous. Il ne respecte pas toutes les rÃ¨gles recommandÃ©es, mais câ€™est souvent comme Ã§a. Notez les fichiers importants : _quarto.yml : dans lequel sont spÃ©cifiÃ©s les options principales et communes ainsi que les menus et la structure du site index.qmd qui est la page de dÃ©marrage du site et qui doit toujours Ãªtre Ã  la racine du projet et sâ€™appeler index.qmd rinit.r qui contient des options par dÃ©faut pour les chunks R (câ€™est important pour le rendu des graphiques) README.md qui apparaÃ®t sur la premiÃ¨re page du projet sur github.com _extensions qui contient tous les templates quarto, il faut absolument que ce dossier soit prÃ©sent (et il ne faut pas y toucher). Donnez un nom simple (court, explicite, pas de majuscules, pas de caractÃ¨res spÃ©ciaux), pour que le contenu soit clair, mais aussi quâ€™il soit facile Ã  retaper quelque part si nÃ©cessaire. Les noms Ã  rallonge sont donc Ã  proscrire. TÃ¢chez aussi dâ€™Ã©viter la multiplication des versions dans le dossier (dont une seule est ok), si vous avez des dÃ©chets, mettez dans un sous dossier spÃ©cifique (moi je lâ€™appelle rkiv) de faÃ§on Ã  garder les vieux morceaux dâ€™essais. Le .qmd est trÃ¨s simple, lâ€™entÃªte yaml nâ€™besoin que dâ€™un champ : le titre. Lâ€™auteur est aussi utile, mais pas obligatoire. Pas besoin dâ€™ajouter un format (ils sont communs au site et dÃ©fini dans _quarto.yml), ni dâ€™options spÃ©cifiques (dÃ©finies aussi ailleurs). Eventuellement, peut ajouter des Ã©lÃ©ments spÃ©cifiques au texte comme le champ date ou keyword ou bibliography. Notez quâ€™il nâ€™y pas de section de niveau header 1. Ce nâ€™est pas possible parce quâ€™il y un titre et que le titre est considÃ©rÃ© comme la section header 1 : une alternative au titre dans le yml est une section de niveau header 1 ou simple #. Sâ€™il nâ€™y pas dâ€™auteur ou dâ€™autre champ, lâ€™ensemble yml peut Ãªtre omis avec simplement le header 1. Dernier petit dÃ©tail, il faut sourcer le fichier rinit.r. Ce fichier dÃ©finit les options par dÃ©faut des chunks et permet dâ€™avoir les bonnes polices de caractÃ¨re dans la bonne taille pour tous les graphiques. La fonction ofce::init_qmd() simplifie le process et trouve le fichier rinit.r mÃªme sâ€™il est bien cachÃ©. Il faut le mettre au dÃ©but et Ã  part pour que ces options sâ€™appliquent aux chunks suivants. Il est toujours possible de modifier le rinit.r de votre projet pour des variables globales, comme la taille de la police de tous les graphiques, et des fonctions disponibles dans chaque .qmd. Si vos graphiques sont moches, si les polices de caractÃ¨re sont toutes petites ou trop grandes, avant dâ€™appeler Ã  lâ€™aide, vÃ©rifiez 1. que ofce::init_qmd() est bien appelÃ© ; 2. que vous nâ€™avez pas un fig-width ou un fig-heigth quelque part dans le chunk ou dans le yml de votre .qmd. Gardez vos yml les plus simples possibles, câ€™est le moyen dâ€™assurer lâ€™homogÃ©nÃ©itÃ© des documents sur le site. Quarto.org est une excellente source dâ€™informations et dâ€™aide sur lâ€™Ã©criture en markdown et la variante particuliÃ¨re que nous utilisons ici. La section â€œAuthoringâ€ est Ã  avoir lu au moins une fois. Grace Ã  quarto et un filtre dÃ©veloppÃ© par Romain Lesur de lâ€™INSEE, les rÃ¨gles typographiques standards au franÃ§ais sont appliquÃ©es automatiquement. Par exemple les guillemets sont mis conformÃ©ment Ã  la pratique en France Â«â€¦Â» Ã  partir du caractÃ¨re tapÃ© directement (â€œ). Les espaces avant les signes de ponctuation ( : ;) sont remplacÃ©s par des demi cadratins et les espaces sÃ©parateurs des milliers sont remplacÃ©s par des espaces insÃ©cables. Pas besoin donc de sâ€™embÃªter avec Ã§a. Juste, pensez Ã  mettre les espaces avantâ€:â€œ. Pour un document en anglais, il suffit de rajouter dans le yml la langue anglaise pour que la typographie correspondante soit appliquÃ©e. Les principaux champs (date, auteur, tableau, figure, graphique) sont aussi traduits. Les rÃ©fÃ©rences croisÃ©es demandent un peu de soin, mais permettent de produire des documents plus riches dans lesquels : La numÃ©rotation des tableaux et figures, mais aussi tout autre type de documents (un encadrÃ© par ex.) est faite automatiquement. La mise en page est automatisÃ©e (avec quelques gains en html), les mots rÃ©currents sont traduits automatiquement. peut appeler la rÃ©fÃ©rence croisÃ©e dans le texte. En html, cela crÃ©Ã© un lien qui permet de naviguer directement vers la rÃ©fÃ©rence croisÃ©e. peut gÃ©nÃ©rer des tables des tableaux et des figures. Le secret dâ€™une rÃ©fÃ©rence croisÃ©e câ€™est lâ€™instruction (le tag) #| label: xxx que lâ€™met en tÃªte dâ€™un chunk. â€œxxxâ€ est lâ€™id du document. Il dÃ©finit le type (fig pour un graphique ; tbl pour un tableau ; tip pour un encadrÃ© ; eq pour une Ã©quation) et aprÃ¨s le tiret le nom (sans espace ni tiret) qui sera appelÃ© dans le texte par la sÃ©quence @fig-id ou @tbl-id (voir quarto cross references pour plus de dÃ©tails). dÃ©finit Ã©galement le titre du graphique qui est donc identifiÃ© pour Ãªtre mis en page, utilisÃ© par ailleurs (par exemple la table des figures) et agrÃ©mentÃ© des mots rÃ©currents (par exemple tableau pour un tableau, donc ne met pas dans le titre tableau ou son numÃ©ro). Le titre est dÃ©ini par le tag #| fig-caption: xxx Pour un graphique (ne met pas le numÃ©ro du graphique dans le titre, câ€™est fait automatiquement) : Si câ€™est un graphique produit autrement que par R, la syntaxe standard de markdown fonctionne aussi de cette faÃ§on (en changeant image en fonction du contexte !): Pour un tableau (ne met pas le numÃ©ro du tableau dans le titre, câ€™est fait automatiquement) : Pour un encadrÃ©, câ€™est un peu plus compliquÃ© (pour le moment). tip est le hack pour la catÃ©gorie, .callout-tip pour le style. Le champ collapse permet de replier lâ€™encadrÃ© par dÃ©faut et lâ€™option \"false\" (notez les guillemets et les minuscules) permet de le dÃ©plier par dÃ©faut. Lâ€™encadrÃ© sera numÃ©rotÃ© et peut le cross rÃ©fÃ©rencer par @tip_id. peut Ãªtre dans le cas oÃ¹ le contenu nâ€™est pas une image ou un tableau (par exemple une composition dâ€™images, un tableau sous forme dâ€™un png). Dans ce cas quarto protestera. Câ€™est dans la documentation de Quarto et cela prend la forme suivante (lâ€™utilisation du tag fig implique une figure, la premiÃ¨re ligne est le contenu, la derniÃ¨re est le titre, les autres lignes sont affichÃ©es comme CONTENT) : Par ailleurs, peut dÃ©finir dâ€™autres catÃ©gories de rÃ©fÃ©rences croisÃ©es si nÃ©cessaire, par exemple en distinguant les cartes des figures. Les tabsets sont un moyen commode de proposer des options pour un tableau, un graphique sans entrer dans des complications trop grandes dâ€™interactivitÃ©. Il est facile dâ€™insÃ©rer une bibliographie. La premiÃ¨re chose est dâ€™indiquer un (ou plusieurs) fichier .bib Ã  quarto : Le fichier references.bib doit Ãªtre Ã  la racine du projet et contient dans la syntaxe bibtex les rÃ©fÃ©rences. Pour entrer une rÃ©fÃ©rence, avec RStudio, il y plusieurs faÃ§on de faire. Dans RStudio, en mode visuel, fait insÃ©rer une citation. Plusieurs sources sont possibles : Zotero, un DOI, une recherche sur Crossref, etcâ€¦ Directement en copiant dans le .bib les rÃ©fÃ©rences (peut ainsi utiliser la biblio dâ€™un autre document). Les appels de rÃ©fÃ©rences sont alors simplement fait en utilisant @angel2021 oÃ¹ angel2021 est lâ€™id de la rÃ©fÃ©rence. Lâ€™appel de rÃ©fÃ©rence, la biblio sera insÃ©rÃ©e et formattÃ©e automatiquement. Les appels de rÃ©fÃ©rence peuvent se mettre Ã©galement en note de bas de page ou dans un tableau en syntaxe markdown.","code":"legislatives2024     _quarto.yml     index.qmd     about.qmd     rinit.r     README.md     .gitignore         _extensions/             ofce/             ...     programmes/         rn.qmd         nfp.qmd         Comparatif programmes lÃ©gislatives 2024.xlsx         ...     analyses/         transition.qmd         tissu_productif.qmd         ...         Tables/             Tableau_retraite.xlsx             Spreads.xlsx             spread.rds             ... --- title: Mon texte en qmd author: Georgette --- ```{r, include=FALSE} ofce::init_qmd() ``` ## section 1 blabla ## section 2 blabla --- title: English Version of the Document author: William  lang: en --- ``` {{r}} #| label: fig-id #| fig-cap: Le titre du graphique #| fig-asp: 0.8 ``` ![Le titre de l'image](limage.png){#fig-image}  This is illustrated well by @fig-image. ``` {{r}} #| label: tbl-id #| tbl-cap: Le titre du tableau ``` ::: {#tip-id .callout-tip collapse=\"true\"} ## titre  l'encadrÃ© texte de l'encadrÃ© ::: ::: {#fig-example}  CONTENT  Caption  ::: ::: {.panel-tabset} ## tab 1  du code R, du texte ou des images  ## tab2  du code R, du texte ou des images ::: --- title: Mon titre bibliography: references.bib ---"},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"au-commencement","dir":"Articles","previous_headings":"","what":"au commencement","title":"Premiers pas avec Quarto","text":"Tout commence par un .qmd. Il doit Ãªtre placÃ© dans un sous dossier du projet gÃ©nÃ©ral, pour Ãªtre rangÃ© de faÃ§on comprÃ©hensible par tout le monde. Demandez Ã  votre administratrice de projet les rÃ¨gles quâ€™elle souhaite voir appliquÃ©es. Un exemple de projet est ci-dessous. Il ne respecte pas toutes les rÃ¨gles recommandÃ©es, mais câ€™est souvent comme Ã§a. Notez les fichiers importants : _quarto.yml : dans lequel sont spÃ©cifiÃ©s les options principales et communes ainsi que les menus et la structure du site index.qmd qui est la page de dÃ©marrage du site et qui doit toujours Ãªtre Ã  la racine du projet et sâ€™appeler index.qmd rinit.r qui contient des options par dÃ©faut pour les chunks R (câ€™est important pour le rendu des graphiques) README.md qui apparaÃ®t sur la premiÃ¨re page du projet sur github.com _extensions qui contient tous les templates quarto, il faut absolument que ce dossier soit prÃ©sent (et il ne faut pas y toucher). Donnez un nom simple (court, explicite, pas de majuscules, pas de caractÃ¨res spÃ©ciaux), pour que le contenu soit clair, mais aussi quâ€™il soit facile Ã  retaper quelque part si nÃ©cessaire. Les noms Ã  rallonge sont donc Ã  proscrire. TÃ¢chez aussi dâ€™Ã©viter la multiplication des versions dans le dossier (dont une seule est ok), si vous avez des dÃ©chets, mettez dans un sous dossier spÃ©cifique (moi je lâ€™appelle rkiv) de faÃ§on Ã  garder les vieux morceaux dâ€™essais. Le .qmd est trÃ¨s simple, lâ€™entÃªte yaml nâ€™besoin que dâ€™un champ : le titre. Lâ€™auteur est aussi utile, mais pas obligatoire. Pas besoin dâ€™ajouter un format (ils sont communs au site et dÃ©fini dans _quarto.yml), ni dâ€™options spÃ©cifiques (dÃ©finies aussi ailleurs). Eventuellement, peut ajouter des Ã©lÃ©ments spÃ©cifiques au texte comme le champ date ou keyword ou bibliography. Notez quâ€™il nâ€™y pas de section de niveau header 1. Ce nâ€™est pas possible parce quâ€™il y un titre et que le titre est considÃ©rÃ© comme la section header 1 : une alternative au titre dans le yml est une section de niveau header 1 ou simple #. Sâ€™il nâ€™y pas dâ€™auteur ou dâ€™autre champ, lâ€™ensemble yml peut Ãªtre omis avec simplement le header 1. Dernier petit dÃ©tail, il faut sourcer le fichier rinit.r. Ce fichier dÃ©finit les options par dÃ©faut des chunks et permet dâ€™avoir les bonnes polices de caractÃ¨re dans la bonne taille pour tous les graphiques. La fonction ofce::init_qmd() simplifie le process et trouve le fichier rinit.r mÃªme sâ€™il est bien cachÃ©. Il faut le mettre au dÃ©but et Ã  part pour que ces options sâ€™appliquent aux chunks suivants. Il est toujours possible de modifier le rinit.r de votre projet pour des variables globales, comme la taille de la police de tous les graphiques, et des fonctions disponibles dans chaque .qmd. Si vos graphiques sont moches, si les polices de caractÃ¨re sont toutes petites ou trop grandes, avant dâ€™appeler Ã  lâ€™aide, vÃ©rifiez 1. que ofce::init_qmd() est bien appelÃ© ; 2. que vous nâ€™avez pas un fig-width ou un fig-heigth quelque part dans le chunk ou dans le yml de votre .qmd. Gardez vos yml les plus simples possibles, câ€™est le moyen dâ€™assurer lâ€™homogÃ©nÃ©itÃ© des documents sur le site. Quarto.org est une excellente source dâ€™informations et dâ€™aide sur lâ€™Ã©criture en markdown et la variante particuliÃ¨re que nous utilisons ici. La section â€œAuthoringâ€ est Ã  avoir lu au moins une fois.","code":"legislatives2024     _quarto.yml     index.qmd     about.qmd     rinit.r     README.md     .gitignore         _extensions/             ofce/             ...     programmes/         rn.qmd         nfp.qmd         Comparatif programmes lÃ©gislatives 2024.xlsx         ...     analyses/         transition.qmd         tissu_productif.qmd         ...         Tables/             Tableau_retraite.xlsx             Spreads.xlsx             spread.rds             ... --- title: Mon texte en qmd author: Georgette --- ```{r, include=FALSE} ofce::init_qmd() ``` ## section 1 blabla ## section 2 blabla"},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"les-rÃ¨gles-typographiques","dir":"Articles","previous_headings":"","what":"les rÃ¨gles typographiques","title":"Premiers pas avec Quarto","text":"Grace Ã  quarto et un filtre dÃ©veloppÃ© par Romain Lesur de lâ€™INSEE, les rÃ¨gles typographiques standards au franÃ§ais sont appliquÃ©es automatiquement. Par exemple les guillemets sont mis conformÃ©ment Ã  la pratique en France Â«â€¦Â» Ã  partir du caractÃ¨re tapÃ© directement (â€œ). Les espaces avant les signes de ponctuation ( : ;) sont remplacÃ©s par des demi cadratins et les espaces sÃ©parateurs des milliers sont remplacÃ©s par des espaces insÃ©cables. Pas besoin donc de sâ€™embÃªter avec Ã§a. Juste, pensez Ã  mettre les espaces avantâ€:â€œ. Pour un document en anglais, il suffit de rajouter dans le yml la langue anglaise pour que la typographie correspondante soit appliquÃ©e. Les principaux champs (date, auteur, tableau, figure, graphique) sont aussi traduits.","code":"--- title: English Version of the Document author: William  lang: en ---"},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"les-rÃ©fÃ©rences-croisÃ©es","dir":"Articles","previous_headings":"","what":"les rÃ©fÃ©rences croisÃ©es","title":"Premiers pas avec Quarto","text":"Les rÃ©fÃ©rences croisÃ©es demandent un peu de soin, mais permettent de produire des documents plus riches dans lesquels : La numÃ©rotation des tableaux et figures, mais aussi tout autre type de documents (un encadrÃ© par ex.) est faite automatiquement. La mise en page est automatisÃ©e (avec quelques gains en html), les mots rÃ©currents sont traduits automatiquement. peut appeler la rÃ©fÃ©rence croisÃ©e dans le texte. En html, cela crÃ©Ã© un lien qui permet de naviguer directement vers la rÃ©fÃ©rence croisÃ©e. peut gÃ©nÃ©rer des tables des tableaux et des figures. Le secret dâ€™une rÃ©fÃ©rence croisÃ©e câ€™est lâ€™instruction (le tag) #| label: xxx que lâ€™met en tÃªte dâ€™un chunk. â€œxxxâ€ est lâ€™id du document. Il dÃ©finit le type (fig pour un graphique ; tbl pour un tableau ; tip pour un encadrÃ© ; eq pour une Ã©quation) et aprÃ¨s le tiret le nom (sans espace ni tiret) qui sera appelÃ© dans le texte par la sÃ©quence @fig-id ou @tbl-id (voir quarto cross references pour plus de dÃ©tails). dÃ©finit Ã©galement le titre du graphique qui est donc identifiÃ© pour Ãªtre mis en page, utilisÃ© par ailleurs (par exemple la table des figures) et agrÃ©mentÃ© des mots rÃ©currents (par exemple tableau pour un tableau, donc ne met pas dans le titre tableau ou son numÃ©ro). Le titre est dÃ©ini par le tag #| fig-caption: xxx","code":""},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"le-cas-des-graphiques","dir":"Articles","previous_headings":"","what":"le cas des graphiques","title":"Premiers pas avec Quarto","text":"Pour un graphique (ne met pas le numÃ©ro du graphique dans le titre, câ€™est fait automatiquement) : Si câ€™est un graphique produit autrement que par R, la syntaxe standard de markdown fonctionne aussi de cette faÃ§on (en changeant image en fonction du contexte !):","code":"``` {{r}} #| label: fig-id #| fig-cap: Le titre du graphique #| fig-asp: 0.8 ``` ![Le titre de l'image](limage.png){#fig-image}  This is illustrated well by @fig-image."},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"le-cas-des-tableaux","dir":"Articles","previous_headings":"","what":"le cas des tableaux","title":"Premiers pas avec Quarto","text":"Pour un tableau (ne met pas le numÃ©ro du tableau dans le titre, câ€™est fait automatiquement) :","code":"``` {{r}} #| label: tbl-id #| tbl-cap: Le titre du tableau ```"},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"les-encadrÃ©s","dir":"Articles","previous_headings":"","what":"les encadrÃ©s","title":"Premiers pas avec Quarto","text":"Pour un encadrÃ©, câ€™est un peu plus compliquÃ© (pour le moment). tip est le hack pour la catÃ©gorie, .callout-tip pour le style. Le champ collapse permet de replier lâ€™encadrÃ© par dÃ©faut et lâ€™option \"false\" (notez les guillemets et les minuscules) permet de le dÃ©plier par dÃ©faut. Lâ€™encadrÃ© sera numÃ©rotÃ© et peut le cross rÃ©fÃ©rencer par @tip_id.","code":"::: {#tip-id .callout-tip collapse=\"true\"} ## titre  l'encadrÃ© texte de l'encadrÃ© :::"},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"un-cas-plus-gÃ©nÃ©ral","dir":"Articles","previous_headings":"","what":"un cas plus gÃ©nÃ©ral","title":"Premiers pas avec Quarto","text":"peut Ãªtre dans le cas oÃ¹ le contenu nâ€™est pas une image ou un tableau (par exemple une composition dâ€™images, un tableau sous forme dâ€™un png). Dans ce cas quarto protestera. Câ€™est dans la documentation de Quarto et cela prend la forme suivante (lâ€™utilisation du tag fig implique une figure, la premiÃ¨re ligne est le contenu, la derniÃ¨re est le titre, les autres lignes sont affichÃ©es comme CONTENT) : Par ailleurs, peut dÃ©finir dâ€™autres catÃ©gories de rÃ©fÃ©rences croisÃ©es si nÃ©cessaire, par exemple en distinguant les cartes des figures.","code":"::: {#fig-example}  CONTENT  Caption  :::"},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"les-tabsets","dir":"Articles","previous_headings":"","what":"Les tabsets","title":"Premiers pas avec Quarto","text":"Les tabsets sont un moyen commode de proposer des options pour un tableau, un graphique sans entrer dans des complications trop grandes dâ€™interactivitÃ©.","code":"::: {.panel-tabset} ## tab 1  du code R, du texte ou des images  ## tab2  du code R, du texte ou des images :::"},{"path":"https://ofce.github.io/ofce/articles/quarto.html","id":"une-bibliographie","dir":"Articles","previous_headings":"","what":"une bibliographie","title":"Premiers pas avec Quarto","text":"Il est facile dâ€™insÃ©rer une bibliographie. La premiÃ¨re chose est dâ€™indiquer un (ou plusieurs) fichier .bib Ã  quarto : Le fichier references.bib doit Ãªtre Ã  la racine du projet et contient dans la syntaxe bibtex les rÃ©fÃ©rences. Pour entrer une rÃ©fÃ©rence, avec RStudio, il y plusieurs faÃ§on de faire. Dans RStudio, en mode visuel, fait insÃ©rer une citation. Plusieurs sources sont possibles : Zotero, un DOI, une recherche sur Crossref, etcâ€¦ Directement en copiant dans le .bib les rÃ©fÃ©rences (peut ainsi utiliser la biblio dâ€™un autre document). Les appels de rÃ©fÃ©rences sont alors simplement fait en utilisant @angel2021 oÃ¹ angel2021 est lâ€™id de la rÃ©fÃ©rence. Lâ€™appel de rÃ©fÃ©rence, la biblio sera insÃ©rÃ©e et formattÃ©e automatiquement. Les appels de rÃ©fÃ©rence peuvent se mettre Ã©galement en note de bas de page ou dans un tableau en syntaxe markdown.","code":"--- title: Mon titre bibliography: references.bib ---"},{"path":"https://ofce.github.io/ofce/articles/semio.html","id":"quelques-rÃ©fÃ©rences-pour-aller-plus-loin","dir":"Articles","previous_headings":"","what":"Quelques rÃ©fÃ©rences pour aller plus loin","title":"Le language des graphiques","text":"SÃ©miologie graphique â€” GÃ©oconfluences (ens-lyon.fr).) Guide de sÃ©miologie graphique (INSEE) et lâ€™ensemble de lâ€™oeuvre de Jacques Bertin, bien sÃ»r.","code":""},{"path":"https://ofce.github.io/ofce/articles/site.html","id":"comment-contribuer-pull-request","dir":"Articles","previous_headings":"","what":"Comment contribuer : pull request","title":"Des sites dÃ©diÃ©s","text":"Pour contribuer nous vous demandons de suivre une procÃ©dure stricte. Elle peut paraÃ®tre compliquÃ©e, mais elle est fluide et permet dâ€™Ã©viter des bÃªtises. En effet, la branche master et la branche du site (gh-pages) sont protÃ©gÃ©es : il faut des droits administrateur pour les modifier. Cela Ã©vite les mauvaises manipulations et sÃ©curise le site. Il est possible dâ€™utiliser plusieurs outils pour travailler. Le premier combo est RStudio, combinÃ© Ã  github desktop et github.com. Une alternative est VSCode qui regroupe lâ€™Ã©diteur quarto et lâ€™interface github dans un mÃªme logiciel. La vignette(\"outils\") dÃ©taille les configurations et les instructions dâ€™installation. crÃ©er une branche Ã  partir de master. Câ€™est simple avec github desktop (menu branch/new branch). Cette branche est modifiable par celui qui lâ€™crÃ©Ã©e (mais aussi par dâ€™autres, sâ€™il le souhaite, ce qui peut permettre la mise au point). Elle contient une copie de master donc vous pouvez tout modifier dedans. Cependant, afin dâ€™Ã©viter le chaos, il est prÃ©fÃ©rable de modifier le contenu pour lequel est contributeur et sâ€™en tenir Ã  Ã§a. Si vous voulez corriger le contenu dâ€™autres auteurs ou intervenir sur la structure gÃ©nÃ©rale câ€™est bien sÃ»r possible. Si vous continuez sur votre branche, elle est sans doute en retard. Vous pouvez la mettre Ã  jour Ã  partir de master (menu branch/Update master dans github desktop) afin dâ€™Ã©viter de vous trouver trop en retard et Vous pouvez aussi faire un merge de master dans votre branche. Ne pas le faire va multiplier les conflits et rendre lâ€™inclusion de vos modifications pÃ©nibles. Modifier, ajouter, bricoler etâ€¦ tester. Dans RStudio vous pouvez Ã  tout moment faire un render du site (bouton render). Si Ã§a ne marche pas dans votre branche, il y peu de chance que Ã§a sâ€™arrange tout seul en suite. Vous pouvez toujours appeler Ã  lâ€™aide quand Ã§a ne marche pas. VÃ©rifiez que les liens sont bons, que la mise en page vous convient, etc. chaque fois que vous avez franchi une Ã©tape dans votre travail, faites un commit. Pas besoin nÃ©cessairement de le pusher (câ€™est mieux pour sauvegarder ou partager avec quelquâ€™un ce quâ€™il y dans votre branche). Un commit câ€™est une sauvegarde. Avant de lancer une nouvelle tÃ¢che, faites le commit, Ã§a pourra toujours servir et il nâ€™y pas dâ€™excÃ¨s de commit. Quand vous Ãªtes satisfait, vous faites une pull request (facile dans github desktop, il le propose une fois pushÃ© votre dernier commit). La pull request nâ€™est possible que lorsque tous vos changements sont commitÃ©s et que votre branche est pushÃ©e. La possibilitÃ© de le faire apparaÃ®t dans la fenÃªtre principale de github desktop lorsque les conditions sont rÃ©unies. Si vous Ãªtes consciencieux, vous pouvez vÃ©rifier que votre branche est compatible avec master et faire le merge. Passez par le menu branch/update master avant de faire la pull request. Cela permet de vÃ©rifier (et de rÃ©soudre) les Ã©ventuels conflits qui existeraient entre votre branche la branche master. Une fois la pull request envoyÃ©e, elle va Ãªtre validÃ©e par les administrateurs (et les conflits rÃ©solus si vous ne lâ€™avez pas fait). Au moment de la pull request vous pouvez assigner un reviewer. Une fois validÃ©e, votre branche est intÃ©grÃ©e (mergÃ©e) Ã  la branche master ce qui permettra de mettre Ã  jour le site en ligne et de dÃ©truire votre branche. (Pourquoi la dÃ©truire ? 1. votre travail est intÃ©grÃ© dans master donc il est en sÃ©curitÃ©, 2. si vous refaites des modifications, il faut partir de la derniÃ¨re version disponible, .e.Â master et non pas votre branche qui va devenir trÃ¨s en retard).","code":""},{"path":"https://ofce.github.io/ofce/articles/site.html","id":"comment-faire","dir":"Articles","previous_headings":"","what":"Comment faire ?","title":"Des sites dÃ©diÃ©s","text":"crÃ©er une branche Ã  partir de master. Câ€™est simple avec github desktop (menu branch/new branch). Cette branche est modifiable par celui qui lâ€™crÃ©Ã©e (mais aussi par dâ€™autres, sâ€™il le souhaite, ce qui peut permettre la mise au point). Elle contient une copie de master donc vous pouvez tout modifier dedans. Cependant, afin dâ€™Ã©viter le chaos, il est prÃ©fÃ©rable de modifier le contenu pour lequel est contributeur et sâ€™en tenir Ã  Ã§a. Si vous voulez corriger le contenu dâ€™autres auteurs ou intervenir sur la structure gÃ©nÃ©rale câ€™est bien sÃ»r possible. Si vous continuez sur votre branche, elle est sans doute en retard. Vous pouvez la mettre Ã  jour Ã  partir de master (menu branch/Update master dans github desktop) afin dâ€™Ã©viter de vous trouver trop en retard et Vous pouvez aussi faire un merge de master dans votre branche. Ne pas le faire va multiplier les conflits et rendre lâ€™inclusion de vos modifications pÃ©nibles. Modifier, ajouter, bricoler etâ€¦ tester. Dans RStudio vous pouvez Ã  tout moment faire un render du site (bouton render). Si Ã§a ne marche pas dans votre branche, il y peu de chance que Ã§a sâ€™arrange tout seul en suite. Vous pouvez toujours appeler Ã  lâ€™aide quand Ã§a ne marche pas. VÃ©rifiez que les liens sont bons, que la mise en page vous convient, etc. chaque fois que vous avez franchi une Ã©tape dans votre travail, faites un commit. Pas besoin nÃ©cessairement de le pusher (câ€™est mieux pour sauvegarder ou partager avec quelquâ€™un ce quâ€™il y dans votre branche). Un commit câ€™est une sauvegarde. Avant de lancer une nouvelle tÃ¢che, faites le commit, Ã§a pourra toujours servir et il nâ€™y pas dâ€™excÃ¨s de commit. Quand vous Ãªtes satisfait, vous faites une pull request (facile dans github desktop, il le propose une fois pushÃ© votre dernier commit). La pull request nâ€™est possible que lorsque tous vos changements sont commitÃ©s et que votre branche est pushÃ©e. La possibilitÃ© de le faire apparaÃ®t dans la fenÃªtre principale de github desktop lorsque les conditions sont rÃ©unies. Si vous Ãªtes consciencieux, vous pouvez vÃ©rifier que votre branche est compatible avec master et faire le merge. Passez par le menu branch/update master avant de faire la pull request. Cela permet de vÃ©rifier (et de rÃ©soudre) les Ã©ventuels conflits qui existeraient entre votre branche la branche master. Une fois la pull request envoyÃ©e, elle va Ãªtre validÃ©e par les administrateurs (et les conflits rÃ©solus si vous ne lâ€™avez pas fait). Au moment de la pull request vous pouvez assigner un reviewer. Une fois validÃ©e, votre branche est intÃ©grÃ©e (mergÃ©e) Ã  la branche master ce qui permettra de mettre Ã  jour le site en ligne et de dÃ©truire votre branche. (Pourquoi la dÃ©truire ? 1. votre travail est intÃ©grÃ© dans master donc il est en sÃ©curitÃ©, 2. si vous refaites des modifications, il faut partir de la derniÃ¨re version disponible, .e.Â master et non pas votre branche qui va devenir trÃ¨s en retard).","code":""},{"path":"https://ofce.github.io/ofce/articles/site.html","id":"quelques-conseils-aux-administrateurs-de-projets","dir":"Articles","previous_headings":"","what":"Quelques conseils aux administrateurs de projets","title":"Des sites dÃ©diÃ©s","text":"DÃ©finissez Ã  lâ€™avance la structure du projet et communiquez lÃ  aux auteurs. Parfois, envie de changer en cours de route, câ€™est toujours possible, mais source de confusion et potentiellement dâ€™erreurs. ProtÃ©gez la branche master et dÃ©finissez ceux qui ont droit de la modifier. Cela Ã©vitera aussi de nombreuses erreurs. ProtÃ©gez aussi gh-pages. Ces opÃ©rations se rÃ©alisent trÃ¨s simplement depuis github.com. Si votre dÃ©pÃ´t est sur OFCE, il sera lisible par les membres de lâ€™OFCE et les admins dâ€™OFCE pourront intervenir dessus. Si il est dans votre espace personnel, vous Ãªtes seul maÃ®tre Ã  bord et donc sans assistance possible. Au dÃ©marrage du projet, il y quelques configurations Ã  faire. Rien de compliquÃ©, mais câ€™est dispersÃ© dans de nombreux Ã©crans. Une fois configurÃ©, câ€™est assez simple Ã  faire fonctionner. Ne bricolez pas trop le _quarto.yml. Certaines options assurent lâ€™homogÃ©nÃ©itÃ© des sites entre eux. Pensez faire aussi ofce::quarto_setup() dans R pour sâ€™assurer dâ€™avoir la derniÃ¨re version des templates. Attention, il faut quand mÃªme modifier le _quarto.yml puisquâ€™il contient la structure des menus et lâ€™architecture du site, ainsi que les twitter cards ou le numÃ©ro google analytics. Nâ€™hÃ©sitez pas Ã  la faire la police (qmd dans les bons dossiers, yml nettoyÃ©s, chasse aux chemins absolus. force, les dÃ©viances devraient se rÃ©duire. RÃ©pondez rapidement aux pull request. est souvent impatient de voir son travail dÃ©ployÃ©.","code":""},{"path":"https://ofce.github.io/ofce/articles/source_data.html","id":"mettre-en-cache-le-rÃ©sultat-des-calculs-avec-source_data-aka-sourcoisesourcoise","dir":"Articles","previous_headings":"","what":"Mettre en cache le rÃ©sultat des calculs avec source_data() (aka sourcoise::sourcoise())","title":"source_data() : plus rapide, plus sÃ»r","text":"source_data() est un alias vers la fonction du package sourcoise::sourcoise() qui permet de mettre en cache les rÃ©sultats dâ€™un script r et de ne pas avoir Ã  rÃ©-exÃ©cuter le code Ã  chaque fois. Les bÃ©nÃ©fices sont nombreux : un gain de temps lorsque lâ€™exÃ©cution du code est longue (accÃ¨s Ã  une API, tÃ©lÃ©chargement de grosses donnÃ©es, traitements importants). La lecture dâ€™un fichier excel peut aussi Ãªtre assez longue. Le temps dâ€™accÃ¨s aux donnÃ©es en cache dÃ©pend de leur taille, mais mÃªme pour des donnÃ©es volumineuses (et il nâ€™y pas de raisons quâ€™elles le soient tant que Ã§a), lâ€™ordre de grandeur est la milliseconde, grÃ¢ce aux optimisations. le cache est transfÃ©rable par github. Il se trouve dans un dossier (cachÃ©), mais enregistrÃ© dans le dossier de projet et commitÃ© par github. Le cache produit sur un poste est donc accessible par pull sur les autres postes. si le code source dÃ©clenche une erreur, peut passer outre : En cas de package non installÃ©, donnÃ©es absentes (par exemple un chemin absolu dans le code), ou une API qui bloque (comme celle de lâ€™OCDE) alors source_data() essaye de prendre la derniÃ¨re exÃ©cution rÃ©sussie. Bien que cela puisse Ãªtre problÃ©matique, câ€™est-Ã -dire une erreur non signalÃ©e, cela lâ€™Ã©norme avantage de ne pas bloquer le processus et de permettre de traiter lâ€™erreur en parallÃ¨le. source_data() cherche de faÃ§on astucieuse le fichier source dans le projet et exÃ©cute le code dans un environnement local, en changeant le rÃ©pertoire de travail pour Ãªtre celui oÃ¹ se trouve le code source. Cela permet dâ€™appeler dans le code source (le script r mon_script.r passÃ© en paramÃ¨tre Ã  source_data(\"mon_script.r\"), des scripts r, des fichiers de donnÃ©es .csv ou .xlsx qui sont enregistrÃ© dans le mÃªme rÃ©pertoire que le fichier mon_script.r. peut donc rÃ©utiliser le code sans se soucier de modifier les chemins qui sont relatifs au dossier oÃ¹ se trouve mon_script.r. cela fournit un embryon de reproductibilitÃ© en dÃ©signant le script qui fabrique les donnÃ©es.","code":""},{"path":"https://ofce.github.io/ofce/articles/source_data.html","id":"comment-lutiliser","dir":"Articles","previous_headings":"","what":"Comment lâ€™utiliser ?","title":"source_data() : plus rapide, plus sÃ»r","text":"PremiÃ¨re chose mettre son code de donnÃ©es dans un script et lâ€™enregistrer lÃ  oÃ¹ est le qmd, dans cet exemple souverains.qmd et un dossier remplis de csv, scripts R, etc : Dans souverains.qmd trouve le chunk suivant. source_data est capable de retrouver le dossier dans le mÃªme dossier que le qmd (ce nâ€™est pas automatique, dans un projet commme la prÃ©vision, les chemins sont relatifs Ã  la racine du projet, ici le qmd et ses fichiers peuvent Ãªtre mis nâ€™importe oÃ¹ grÃ¢ce Ã  cette heuristique). Le source est ensuite exÃ©cutÃ© en changeant le dossier de travail Ã  celui qui le contient (dans cet exemple, souverains) ce qui permet dâ€™utiliser des chemins relatifs et donc de pouvoir transporter le code nâ€™importe oÃ¹. Le script doit se terminer par un return qui renvoie les donnÃ©es calculÃ©es ou tÃ©lÃ©chargÃ©es. Ce sont ces donnÃ©es qui sont mises en cache. source_data() dispose dâ€™un cache (cachÃ© dans un dossier .data). Il repÃ¨re le fichier source et dÃ©tecte les changements faits au code source et invalide le cache. Si le cache est valide, les donnÃ©es sont renvoyÃ©es, sinon, le script est exÃ©cutÃ© et les nouvelles donnÃ©es mises en cache. Il existe dâ€™autres moyens dâ€™invalider le cache : il peut avoir une durÃ©e de vie maximale, comme avec lâ€™argument lapse=\"day\". Cette option dit que si le cache est plus vieux que 24h, il est renouvelÃ© par une rÃ©-exÃ©cution du script. Ce paramÃ¨tre peut prendre plusieurs valeurs et des formes comme 2 hours ou 3 weeks. Dâ€™autres dÃ©clencheurs temporels seront ajoutÃ©s pour introduire des calendriers (comme 45 jours aprÃ¨s la fin du trimestre). Attention, cependant, source_cache nâ€™est pas capable dâ€™aller vÃ©rifier que les donnÃ©es tÃ©lÃ©chargÃ©es ont un point de plus et donc de ne pas valider le cache si la donnÃ©e nâ€™pas encore Ã©tÃ© publiÃ©e. Il est aussi possible de dÃ©clencher lâ€™invalidation du cache si un fichier Ã©tÃ© modifiÃ©. Il suffit de fournir une liste de fichiers (dont les chemins sont relatifs au script) qui seront suivis. Ces fichiers peuvent Ãªtre des .csv ou des fichiers .xlsx (ou encore tout autre type de fichier) et donc sont utiles pour dÃ©clencher lâ€™exÃ©cution du script quand fait une modification manuelle ou par un autre programme de ces fichiers. peut en mettre autant quâ€™veut. peut Ã©galement forcer le dÃ©clenchement du script. Cela se fait par une option force_exec=TRUE. Cependant, il vaut mieux ne pas spÃ©cifier cette option, il existe dâ€™autres moyens pour opÃ©rer un rafraÃ®chissement du cache. Il est possible de bloquer lâ€™exÃ©cution du code par une option (prevent_exec) qui peut Ãªtre dÃ©finie comme une option globale (par options(ofce.source_data.prevent_exec=TRUE)). Dans ce cas, aucun script ne sera exÃ©cutÃ©, ce qui peut servir lorsquâ€™veut faire un rendu du site sans prendre le risque dâ€™une erreur dâ€™API ou dâ€™un blocage.","code":"â”œâ”€â”€ souverains â”‚Â Â  â”œâ”€â”€ ratings.R â”‚Â Â  â”œâ”€â”€ ratings.rds â”‚Â Â  â”œâ”€â”€ ratings_legende.rds â”‚Â Â  â”œâ”€â”€ ratings_taux.rds â”‚Â Â  â”œâ”€â”€ taux_souverains_historiques.R â”‚Â Â  â””â”€â”€ taux_souverains_historiques.rds â””â”€â”€ souverains.qmd ```{r} ofce::init_qmd(echo=TRUE)   taux_souverains_historiques <- source_data(\"souverains/taux_souverains_historiques.R\", lapse = \"day\")  ratings_taux <- source_data(\"souverains/ratings\", lapse = \"day\") ``` ... tÃ©lÃ©charge et modifie, calcule, etc ... return(taux_souverains_historiques)"},{"path":"https://ofce.github.io/ofce/articles/source_data.html","id":"usage-avancÃ©-passer-des-paramÃ¨tres","dir":"Articles","previous_headings":"","what":"Usage avancÃ© : passer des paramÃ¨tres","title":"source_data() : plus rapide, plus sÃ»r","text":"Il est possible de passer des paramÃ¨tres avec source_data(), bien que ce soit plus pratique dâ€™Ã©crire une fonction. Les paramÃ¨tres sont passÃ©s sous forme dâ€™une liste (list(param1=\"1\") par exemple) et sont disponibles dans le script (dans la variable args, donc pour avoir le paramÃ¨tre param1 il faut Ã©crire args$param1 dans le script. Changer les paramÃ¨tres invalide le cache. Notez que le script est toujours exÃ©cutÃ© en â€œlocalâ€ ce qui veut dire que toute variable crÃ©Ã©e ou tout package ouvert Ã  lâ€™intÃ©rieur du script nâ€™est pas renvoyÃ© (comme dans une fonction, en fait).","code":""},{"path":"https://ofce.github.io/ofce/articles/source_data.html","id":"usage-avancÃ©-rÃ©cupÃ©rer-les-mÃ©tadonnÃ©es","dir":"Articles","previous_headings":"","what":"Usage avancÃ© : rÃ©cupÃ©rer les mÃ©tadonnÃ©es","title":"source_data() : plus rapide, plus sÃ»r","text":"En utlisant lâ€™option metadata=TRUE dans source_data() peut rÃ©cupÃ©rer des informations sur, par exmple, la date de tÃ©lÃ©chargement. Câ€™est illustrÃ© sur quelques graphiques du cachier de graphique. En code cela donne le chunk ci dessous. Les donnÃ©es sont accessibles par $data et la date de tÃ©lÃ©chargement par $date. Cela permet de construire la note (noter que glue::glue() est appliquÃ© aux textes passÃ©s Ã  ofce_caption()).","code":"transactions <- source_data(\"immo/data_transaction.r\", metadata=TRUE)  trsc <- ggplot(transactions$data) +    aes(x=date, y=t*1000) +   geom_line(alpha = 0.5, col = bluish) +   geom_point_interactive(aes(tooltip = tooltip, data_id = date),                          shape = 21, size = 1, stroke = 0.2, col = \"white\",                           fill = bluish,                          hover_nearest = TRUE, show.legend = FALSE)+   theme_ofce() +   scale_y_log10(labels = scales::number_format(scale = 1/1000, suffix=\"k\")) +   scalex +   ofce_caption(     source = \"IGEDD d'aprÃ¨s DGFiP (MEDOC) et bases notariale\",      dpt = transactions$data$date,     note = \"Transactions cumulÃ©es sur 12 mois, dans l'ancien, maisons et appartements, Ã©chelle log, donnÃ©es tÃ©lÃ©chargÃ©es le {date_jour(transactions$date)}\",     sub= \"Nombre de transactions\")"},{"path":"https://ofce.github.io/ofce/articles/source_data.html","id":"quelques-opÃ©rations-sur-le-cache","dir":"Articles","previous_headings":"","what":"Quelques opÃ©rations sur le cache","title":"source_data() : plus rapide, plus sÃ»r","text":"Le package ofce fournit des outils pour sâ€™occuper des caches. Le premier est source_data_status(). il scanne le rÃ©pertoire et fournit la liste de tous les caches enregistrÃ©s et suivis. Il indique si les caches sont valides ou non et les principaux paramÃ¨tres utilisÃ©s pour chaque script. source_data_refresh() rafraÃ®chit (en le forÃ§ant) tous les caches. peut passer Ã  source_data-refresh() un tibble comme celui renvoyÃ© par souce_data_status() mais filtrÃ© pour ne rafraÃ®chir que la liste voulue (attention passer toutes les colonnes). Cela sert lorsquâ€™un processus plus complexe dâ€™invalidation du cache (en fonction dâ€™un calendrier, en interrogeant une API, etcâ€¦) et quâ€™dÃ©clenche en fonction de cette logique lâ€™exÃ©cution des caches. peut Ã©galement Ã  partir de source_data_status() accÃ©der aux donnÃ©es en cache. Elles sont enregistrÃ©es en .qs et donc se chargent avec un qs::qread(). peut Ã©galement nettoyer complÃ¨tement le cache (ce qui provoquera sa rÃ© exÃ©cution) avec clear_source_cache(). prune_source_cache() fait la mÃªme chose mais garde les derniÃ¨res versions du cache (il nettoie lâ€™historique donc).","code":""},{"path":"https://ofce.github.io/ofce/articles/tableaux.html","id":"les-tableaux-dans-quarto","dir":"Articles","previous_headings":"","what":"Les tableaux dans quarto","title":"Recommandations pour les tableaux OFCE","text":"Pour faire figurer un tableau dans un markdown, il y plusieurs mÃ©thodes La capture dâ€™Ã©cran Ã‡a peut se faire, mais Ã§a ne se fait pas, donc ne fera pas. Lâ€™intÃ©gration brute du data.frame dans le qmd Dans lâ€™absolu, un data.frame peut Ãªtre directement intÃ©grÃ© dans un qmd sans manipulation supplÃ©mentaire. Quelques remarques : En cas de base de donnÃ©es larges, cela prend trop de place sur le documents le formatage reste sommaire et difficile Ã  amÃ©liorer des packages markdown peuvent Ãªtre appelÃ©s pour La syntaxe markdown Ce format peut convenir pour les tableaux Ã  texte. Il est cependant difficile Ã  formater et Ã©diter. Lâ€™utilisation de packages R pour les tableaux formatÃ©s Cette mÃ©thode est Ã  priviligier pour tout tableau contenant des donnÃ©es principalement numÃ©riques ou extraites de base de donnÃ©es. Plusieurs packages existent: huxtable, flextable, formattable, gt etc.. Le package privilÃ©giÃ© pour lâ€™ofce est gt. notera cependant que dâ€™autres package peuvent prÃ©senter quelques fonctionnalitÃ©s supplÃ©mentaires qui peuvent Ãªtre intÃ©ressantes pour certaines applications. Par exemple, le package flextable est trÃ¨s utiles si le document de sortie est un .docx et est plus flexible sur la gestion des cellules mergÃ©es. Pour faire un tableau, nous conseillons vivement dâ€™utiliser gt. Le principe est assez simple, un peu comme dans ggplot2 ajoute des couches qui petit Ã  petit construisent le tableau. Ca peut paraÃ®tre fastidieux, mais Ã§a ne lâ€™est pas tant que Ã§a : câ€™est ce quâ€™fait dans excel ou word pour mettre en forme un tableau. Lâ€™intÃ©rÃªt de gt câ€™est de dissocier la phase donnÃ©es de la phase mise en page. Le manuel de gt est dâ€™une lecture simple, avec plein dâ€™exemples : Easily Create Presentation-Ready Display Tables â€¢ gt (rstudio.com) Le code dâ€™un gt est du genre : Le pire du pire est de mettre le tableau comme une copie dâ€™Ã©cran dâ€™excel ou dâ€™un pdf. Câ€™est Ã  banir. Moins pire est dâ€™utiliser la syntaxe markdown. Ca peut paraÃ®tre plus simple mais câ€™est rapidement dÃ©passÃ© et permet trÃ¨s peu de prÃ©sentation avancÃ©e.","code":"library(gt)  # le fichier excel est prÃ©formatÃ©, un onglet contient les donnÃ©es  # prÃªtes Ã  l'utilisation readxl::read_xlsx(   \"analyses/Tables/patrimoine menages.v2.xlsx\",    sheet = \"masspat\") |>    # on filtre les lignes les colonnes dont on a besoin   filter(tranche %in% c(\"0-90%\", \"90-99%\", \"99-100%\", \"Total\")) |>    select(-revraw) |>    # on les met dans l'ordre souhaitÃ©,    # plus le tibble est comme le tableau final le mieux c'est   relocate(tranche, revdisp) |>    # pour avoir les chiffres par tÃªte on fait un dernier mutate   mutate(across(c(revdisp, tot, fi, pro, imm, autre), ~.x/30.5*1000/men)) |>   select(-men) |>    mutate(tranche = str_replace(tranche, \"Total\", \"Moyenne\")) |>   # gt sert Ã  fabriquer le tableau mis en forme   # a partir de lÃ , plus de manip possible    gt() |>    # le spanner regroupe des colonnes sous un mÃªme label    tab_spanner(columns = -c(tranche, revdisp), label  = \"Patrimoine\") |>    # on a gardÃ© les noms simples dans les donnÃ©es, on les traduit en clair ici   # on privilÃ©gie cette approche : qui permet de corriger dans le qmd le texte   # qui permet de traduire   # qui permet d'uniformiser les labels si on a plusieurs tableaux   cols_label(tranche = \"\", revdisp = \"Revenu disponible\",               tot = \"Total\", fi = \"Financier\",               pro  = \"Professionnel\", imm = \"Immobilier\",               autre = \"Autres\") |>    # idem, on passe des nombres, on les formatte ici   fmt_number(columns = -tranche, scale = 1,              n_sigfig = 3,  decimals = 0, sep_mark = \" \" ) |>    # on met en gras en en darkred une ligne -- notez la syntaxe Ã©lÃ©gante de gt   tab_style(style = cell_text(weight = \"bold\", color = \"darkred\"),              locations = cells_body(rows = tranche == \"Moyenne\")) |>    # indispensable, les sources. md() permet d'avoir un texte enrichi qui comprend markdown   # <br> retourne Ã  la ligne dans la note   # on met les notes ici, ca permet corrections, uniformisation et traduction   tab_source_note(     md(    22222   \"Revenu disponible brut et actifs bruts (hors passif) par mÃ©nage, en euros, annÃ©e 2022       <br>Calculs rÃ©alisÃ©s Ã  partir de l'enquÃªte patrimoine des mÃ©nages 2017-2018 de l'Insee croisÃ©s avec les comptes nationaux du patrimoine de l'Insee de 2022       <br>*Sources* : Insee, calculs OFCE\"))"},{"path":"https://ofce.github.io/ofce/articles/tableaux.html","id":"diffÃ©rentes-faÃ§ons-de-faire-apparaÃ®tre-un-tableau-dans-un-quarto","dir":"Articles","previous_headings":"","what":"DiffÃ©rentes faÃ§ons de faire apparaÃ®tre un tableau dans un quarto","title":"Recommandations pour les tableaux OFCE","text":"Pour faire figurer un tableau dans un markdown, il y plusieurs mÃ©thodes La capture dâ€™Ã©cran Ã‡a peut se faire, mais Ã§a ne se fait pas, donc ne fera pas. Lâ€™intÃ©gration brute du data.frame dans le qmd Dans lâ€™absolu, un data.frame peut Ãªtre directement intÃ©grÃ© dans un qmd sans manipulation supplÃ©mentaire. Quelques remarques : En cas de base de donnÃ©es larges, cela prend trop de place sur le documents le formatage reste sommaire et difficile Ã  amÃ©liorer des packages markdown peuvent Ãªtre appelÃ©s pour La syntaxe markdown Ce format peut convenir pour les tableaux Ã  texte. Il est cependant difficile Ã  formater et Ã©diter. Lâ€™utilisation de packages R pour les tableaux formatÃ©s Cette mÃ©thode est Ã  priviligier pour tout tableau contenant des donnÃ©es principalement numÃ©riques ou extraites de base de donnÃ©es. Plusieurs packages existent: huxtable, flextable, formattable, gt etc.. Le package privilÃ©giÃ© pour lâ€™ofce est gt. notera cependant que dâ€™autres package peuvent prÃ©senter quelques fonctionnalitÃ©s supplÃ©mentaires qui peuvent Ãªtre intÃ©ressantes pour certaines applications. Par exemple, le package flextable est trÃ¨s utiles si le document de sortie est un .docx et est plus flexible sur la gestion des cellules mergÃ©es.","code":""},{"path":"https://ofce.github.io/ofce/articles/tableaux.html","id":"comment-faire-un-tableau","dir":"Articles","previous_headings":"","what":"Comment faire un tableau","title":"Recommandations pour les tableaux OFCE","text":"Pour faire un tableau, nous conseillons vivement dâ€™utiliser gt. Le principe est assez simple, un peu comme dans ggplot2 ajoute des couches qui petit Ã  petit construisent le tableau. Ca peut paraÃ®tre fastidieux, mais Ã§a ne lâ€™est pas tant que Ã§a : câ€™est ce quâ€™fait dans excel ou word pour mettre en forme un tableau. Lâ€™intÃ©rÃªt de gt câ€™est de dissocier la phase donnÃ©es de la phase mise en page. Le manuel de gt est dâ€™une lecture simple, avec plein dâ€™exemples : Easily Create Presentation-Ready Display Tables â€¢ gt (rstudio.com) Le code dâ€™un gt est du genre : Le pire du pire est de mettre le tableau comme une copie dâ€™Ã©cran dâ€™excel ou dâ€™un pdf. Câ€™est Ã  banir. Moins pire est dâ€™utiliser la syntaxe markdown. Ca peut paraÃ®tre plus simple mais câ€™est rapidement dÃ©passÃ© et permet trÃ¨s peu de prÃ©sentation avancÃ©e.","code":"library(gt)  # le fichier excel est prÃ©formatÃ©, un onglet contient les donnÃ©es  # prÃªtes Ã  l'utilisation readxl::read_xlsx(   \"analyses/Tables/patrimoine menages.v2.xlsx\",    sheet = \"masspat\") |>    # on filtre les lignes les colonnes dont on a besoin   filter(tranche %in% c(\"0-90%\", \"90-99%\", \"99-100%\", \"Total\")) |>    select(-revraw) |>    # on les met dans l'ordre souhaitÃ©,    # plus le tibble est comme le tableau final le mieux c'est   relocate(tranche, revdisp) |>    # pour avoir les chiffres par tÃªte on fait un dernier mutate   mutate(across(c(revdisp, tot, fi, pro, imm, autre), ~.x/30.5*1000/men)) |>   select(-men) |>    mutate(tranche = str_replace(tranche, \"Total\", \"Moyenne\")) |>   # gt sert Ã  fabriquer le tableau mis en forme   # a partir de lÃ , plus de manip possible    gt() |>    # le spanner regroupe des colonnes sous un mÃªme label    tab_spanner(columns = -c(tranche, revdisp), label  = \"Patrimoine\") |>    # on a gardÃ© les noms simples dans les donnÃ©es, on les traduit en clair ici   # on privilÃ©gie cette approche : qui permet de corriger dans le qmd le texte   # qui permet de traduire   # qui permet d'uniformiser les labels si on a plusieurs tableaux   cols_label(tranche = \"\", revdisp = \"Revenu disponible\",               tot = \"Total\", fi = \"Financier\",               pro  = \"Professionnel\", imm = \"Immobilier\",               autre = \"Autres\") |>    # idem, on passe des nombres, on les formatte ici   fmt_number(columns = -tranche, scale = 1,              n_sigfig = 3,  decimals = 0, sep_mark = \" \" ) |>    # on met en gras en en darkred une ligne -- notez la syntaxe Ã©lÃ©gante de gt   tab_style(style = cell_text(weight = \"bold\", color = \"darkred\"),              locations = cells_body(rows = tranche == \"Moyenne\")) |>    # indispensable, les sources. md() permet d'avoir un texte enrichi qui comprend markdown   # <br> retourne Ã  la ligne dans la note   # on met les notes ici, ca permet corrections, uniformisation et traduction   tab_source_note(     md(    22222   \"Revenu disponible brut et actifs bruts (hors passif) par mÃ©nage, en euros, annÃ©e 2022       <br>Calculs rÃ©alisÃ©s Ã  partir de l'enquÃªte patrimoine des mÃ©nages 2017-2018 de l'Insee croisÃ©s avec les comptes nationaux du patrimoine de l'Insee de 2022       <br>*Sources* : Insee, calculs OFCE\"))"},{"path":"https://ofce.github.io/ofce/articles/tableaux.html","id":"dautres-solutions-pour-les-tableaux","dir":"Articles","previous_headings":"","what":"Dâ€™autres solutions pour les tableaux","title":"Recommandations pour les tableaux OFCE","text":"Le pire du pire est de mettre le tableau comme une copie dâ€™Ã©cran dâ€™excel ou dâ€™un pdf. Câ€™est Ã  banir. Moins pire est dâ€™utiliser la syntaxe markdown. Ca peut paraÃ®tre plus simple mais câ€™est rapidement dÃ©passÃ© et permet trÃ¨s peu de prÃ©sentation avancÃ©e.","code":""},{"path":"https://ofce.github.io/ofce/articles/temporelles.html","id":"rÃ¨gles-dor","dir":"Articles","previous_headings":"","what":"5 RÃ¨gles dâ€™or","title":"SÃ©ries temporelles","text":"RÃ¨gle 1 : utilise theme_ofce() pour les graphiques ! RÃ¨gle 2 : Les dates sont au format <date> mÃªme lorsque la frÃ©quence est annuelle. RÃ¨gle 3 : utilise scale_x_date(date_breaks = \"5 years\", date_minor_breaks = \"1 year\", guide = \"minor_ticks\") en dÃ©finissant date_breaks Ã  la frÃ©quence souhaitÃ©e (en Ã©vitant trop de dates) et date_minor_breaks Ã  une annÃ©e (\"1 year\"). RÃ¨gle 4 : Si les y sont en %, alors mettre â€œ%â€ dans le format de lâ€™axe des y. RÃ¨gle 5 : choisit un line_width entre 0.5 et 1 pour le geom_line(), ajoute un geom_point(shape=21, stroke=0.25, col=\"white\") pour marquer les points auxquels des donnÃ©es. Si peut mettre la lÃ©gende sous forme de labels, câ€™est mieux car cela allÃ¨ge le graphique.","code":""},{"path":"https://ofce.github.io/ofce/articles/temporelles.html","id":"les-donnÃ©es","dir":"Articles","previous_headings":"","what":"Les donnÃ©es","title":"SÃ©ries temporelles","text":"Pour les sÃ©ries temporelles, il y deux recommandations pour les donnÃ©es : utilisez le format long pour les donnÃ©es du graphique. Il peut Ãªtre plus simple pour calculer des taux de croissance ou des ratios de passer en format large, mais câ€™est mieux de passer en format long pour la partie graphique, avec une ou plusieurs colonnes pour diffÃ©rencier les lignes. Cela permettra dâ€™associer une couleur Ã  chaque sÃ©rie et une facette Ã  chaque pays par exemple. le champ dÃ©crivant les dates doit Ãªtre en type date. ce nâ€™est pas toujours Ã©vident quand les sÃ©ries sont Ã  frÃ©quence annuelle, mais câ€™est trÃ¨s utile pour mÃ©langer des sÃ©ries de frÃ©quence irrÃ©guliÃ¨re, pour homogÃ©nÃ©iser lâ€™aspect des axes de dates et mieux maÃ®triser le formatage des dates. Pour convertir une date en date, soit elle est au format <character> sous la forme \"2022-12-01\" et la fonction base::.Date() fonctionne trÃ¨s bien. Sinon, pour les autres cas, le package lubridate (formation R niv. 1) est trÃ¨s pratique et propose de nombreuses fonctions permettant dâ€™absorber beaucoup de cas (les fonctions sont par exemple lubridate::ymd() lubridate::dmy() lubridate::() etcâ€¦). Note Dans le cas oÃ¹ les donnÃ©es proviennent dâ€™Excel et sont en format numÃ©rique peut utiliser .Date(df$date, origin = \"1899-12-30\") pour les convertir en <date>. Prenons lâ€™exemple du graphiques sur les spreads (legislatives2024, Blot Geerolf Plane). Les donnÃ©es sont gÃ©nÃ©rÃ©es par un scrapping sur investing.com (en attendant une solution API sur une banque de donnÃ©es bien faite). Les donnÃ©es se prÃ©sentent sous la forme. Les donnÃ©es sont au format long (avec deux modalitÃ©s pour pays et donc 3 colonnes), les dates sont au format <date>, donc tout va presque bien. La colonne pays est un peu brute. la transforme pour avoir un label plus propre et en facteur, pour contrÃ´ler lâ€™ordre (met France en premier, Italie en second). Il y plusieurs mÃ©thodes pour arriver Ã  ce rÃ©sultat. Ici, reste trÃ¨s simple parce quâ€™il nâ€™y que deux modalitÃ©s. Si il y en avait plus de deux (et surtout un grand nombre, possiblement Ã©volutif), aurait fait quelques manipulations de chaÃ®nes et aurait utilisÃ© le package countrycode pour transformer les code pays en texte lisible, possiblement traduit dans diffÃ©rentes langues.","code":"dates <- c(2023, 2024, 2025) as.Date(as.character(dates), format  = \"%Y\") [1] \"2023-12-03\" \"2024-12-03\" \"2025-12-03\" # si on veut prÃ©ciser le jour et le mois de l'annÃ©e as.Date(str_c(dates, \"-01-01\")) [1] \"2023-01-01\" \"2024-01-01\" \"2025-01-01\" dates <- c(\"1/2023\", \"2/2024\", \"3/2025\") lubridate::my(dates) [1] \"2023-01-01\" \"2024-02-01\" \"2025-03-01\" spreads # A tibble: 10,117 Ã— 3    date       pays        taux    <date>     <chr>      <dbl>  1 2007-01-02 spreadfra 0.0130  2 2007-01-03 spreadfra 0.0360  3 2007-01-04 spreadfra 0.0280  4 2007-01-05 spreadfra 0.0190  5 2007-01-08 spreadfra 0.0440  6 2007-01-09 spreadfra 0.0430  7 2007-01-10 spreadfra 0.0290  8 2007-01-11 spreadfra 0.0370  9 2007-01-12 spreadfra 0.0340 10 2007-01-15 spreadfra 0.0380 # â„¹ 10,107 more rows spreads_data <- spreads |>   distinct(date, pays, .keep_all = TRUE) |>   mutate(pays = factor( pays, c(\"spreadfra\", \"spreadita\"), c(\"France\", \"Italie\"))) spreads # A tibble: 10,117 Ã— 3    date       pays        taux    <date>     <chr>      <dbl>  1 2007-01-02 spreadfra 0.0130  2 2007-01-03 spreadfra 0.0360  3 2007-01-04 spreadfra 0.0280  4 2007-01-05 spreadfra 0.0190  5 2007-01-08 spreadfra 0.0440  6 2007-01-09 spreadfra 0.0430  7 2007-01-10 spreadfra 0.0290  8 2007-01-11 spreadfra 0.0370  9 2007-01-12 spreadfra 0.0340 10 2007-01-15 spreadfra 0.0380 # â„¹ 10,107 more rows"},{"path":"https://ofce.github.io/ofce/articles/temporelles.html","id":"la-base-du-graphique","dir":"Articles","previous_headings":"","what":"La base du graphique","title":"SÃ©ries temporelles","text":"Le graphique de base est alors simple Ã  construire. utilise une couche geom_line() et geom_point(), une couche aes() avec comme x les dates, y les taux et couleurs les pays. Pour geom_line(), il faut prÃ©ciser le groupe (cela peut paraÃ®tre redondant, mais cela peut servir si veut colorer en fonction dâ€™une autre variable). Lâ€™ordre est important et le geom_line() est en premier et donc en dessous du geom_point().  utilise la palette summer de PrettyCols (affaire de goÃ»t). utilise la fonction theme_ofce() pour homogÃ©nÃ©iser la prÃ©sentation des graphiques. prÃ©cise les labels des axes inutile pour x, explicite pour y. Et la source, en notant que lâ€™peut utiliser markdown dans le texte de la source, ce qui permet de mettre Source en italique. Le recours Ã  scale_x_date() permet de spÃ©cifier facilement le format des dates (avec la syntaxe de base::strptime()) et la fonction scale::label_date_short() permet un formatage Ã©lÃ©gant des dates (voir plus bas la partie insert). ajoute au graphique des annotations. Câ€™est ici faid de faÃ§on laborieuse, peut construire des fonctions (formation R niv. 2) ou utiliser esquisse ou {gganotate} mais ces deux solutions ont des dÃ©fauts.","code":"library(ofce) cc <- PrettyCols::prettycols(\"Summer\", n=2) date_maj <- \"2024-07-01\" main <- ggplot(spreads_data) +   aes(x=date, y=taux, fill = pays, color=pays, group=pays) +   geom_line(linewidth = 0.75, alpha = 0.5, show.legend = FALSE) +   geom_point(stroke = 0.5, size = 1,   col = \"white\", shape = 21, show.legend = FALSE)+       scale_color_manual(         aesthetics = c(\"fill\", \"color\"),         name = NULL, values = cc) +   theme_ofce()+   scale_ofce_date() +    guides(       y = guide_axis(minor.ticks = TRUE)) +   labs(         y=\"Ecart de taux Ã  10 ans\",         x=NULL,         colour=NULL,         caption = glue::glue(\"*Source*Â : investing.com<br>Mis Ã  jourÂ : {date_maj}\")) +       scale_y_continuous(         labels = ~str_c(.x, \"%\"),         minor_breaks = scales::breaks_width(0.1))   main |> add_logo()"},{"path":"https://ofce.github.io/ofce/articles/temporelles.html","id":"les-annotations","dir":"Articles","previous_headings":"","what":"Les annotations","title":"SÃ©ries temporelles","text":"Pour les annotations peut utiliser diffÃ©rentes mÃ©thodes. La plus laborieuse est la fonction ggplot2::annotate(). La plus Ã©lÃ©gante est ggforce::geom_mark_circle() ou ggrepel::geom_repel_text().   Le rÃ©sultat est intÃ©ressant, mais le graphique cependant un dÃ©faut, il y trop de points, ce qui est du Ã  la frÃ©quence quotidienne et donc il perd en clartÃ©. va donc faire deux choses : rÃ©duire la frÃ©quence en agrÃ©geant les donnÃ©es par mois, puis va ajouter un insert.","code":"# mÃ©thode 1 : annotate  annotations <-  list(   annotate(     \"text\", x = as.Date(\"2013-12-01\"), y= 1,     label=\"France\" , color=cc[[1]] , size=3, fontface =\"bold\"),   annotate(     \"text\", x = as.Date(\"2010-06-01\"), y= 3 ,     label=\"Italie\" , color=cc[[2]], size=3, fontface =\"bold\"),   annotate(     \"text\",     x = as.Date(\"2009-12-01\"),     y= 5 ,     label=\"Crise des dettes souveraines\\n26 juillet 2012 : Mario Draghi \\n 'Whatever it takes'\" ,     color= \"grey33\",     size=2,     hjust=1),   annotate(     \"segment\",     x = as.Date(\"2010-03-01\"),     xend = as.Date(\"2011-07-01\"),     y = 5,     yend = 4.6,     colour = \"grey33\",     linewidth=0.25,     arrow= arrow(length = unit(4, \"point\"))),   annotate(     \"text\",         x = as.Date(\"2016-9-01\"),     y= 4.5 ,     size = 2,     label=\"4 mars 2018 : Ã‰lections italiennes\\n1er juin : gouvernement de coalition\" ,     color= \"grey33\"),   annotate(     \"segment\",     x = as.Date(\"2016-09-01\"),     xend = as.Date(\"2018-05-01\"),     y = 4.2,     yend = 3,     colour = \"grey33\",     linewidth=0.25,     arrow=arrow(length = unit(4, \"point\"))),   annotate(     \"text\",     x = as.Date(\"2022-01-01\"),     hjust = 1,     y= 0.8,     label=\"Annonce de la dissolution\" ,     color= \"grey33\",     size=2),   annotate(     \"segment\",     x = as.Date(\"2022-03-01\"),     xend = as.Date(\"2024-04-01\"),     y = 0.8,     yend = 0.7,     colour = \"grey33\",     linewidth=0.25,     arrow= arrow(length = unit(4, \"point\"))))  (main + annotations) |> add_logo() # mÃ©thode 2 : ggrepel # on enrichit les donnÃ©es des labels, # le code est plus compact et surtout plus facile Ã  manier # (pour modifier les annotations, on le fait dans les deux tribbles)  library(ggrepel)  events <- tribble(   ~date, ~pays, ~event,   \"2012-01-02\", \"Italie\", \"Crise des dettes souveraines\\n26 juillet 2012 : Mario Draghi \\n 'Whatever it takes'\",   \"2018-06-01\", \"Italie\", \"4 mars 2018 : Ã‰lections italiennes\\n1er juin : gouvernement de coalition\",   \"2024-06-10\", \"France\", \"Annonce de la dissolution\" ) |>   mutate(date = as.Date(date) |> floor_date(\"week\", week_start = 1))  label_pays <- tribble(   ~date, ~pays,   \"2009-01-01\", \"Italie\",   \"2013-12-01\", \"France\" ) |>   mutate(     date = as.Date(date),     date = floor_date(date, \"week\", week_start = 1),     label_pays = pays   )  ss <- spreads_data |>   left_join(events, by = c(\"date\", \"pays\")) |>   left_join(label_pays, by = c(\"date\", \"pays\")) |>   mutate(     label_pays = replace_na(label_pays, \"\"),     event = replace_na(event, \"\")   ) |>   arrange(pays, date)  add_logo(main %+% ss) +   ggrepel::geom_text_repel(     aes(label = label_pays, color = pays),     fontface = \"bold\",     size = 3, show.legend = FALSE,     min.segment.length = Inf,     max.overlaps = Inf, hjust = 0.5   ) +   ggrepel::geom_text_repel(     aes(label = event),     color = \"black\",     size = 2, show.legend = FALSE,     segment.size = 0.2, min.segment.length = 0.1,     max.overlaps = Inf, hjust = 0.5,     nudge_x = c(-500, -250, -250), nudge_y = c(-0.3, 1, -0.5),     arrow = arrow(length = unit(0.015, \"npc\"))   ) +   scale_y_continuous(labels = ~ str_c(.x, \"%\"), limits = c(0, 6),                      minor_breaks = scales::breaks_width(0.1),                      guide = \"axis_minor\") +   scale_ofce_date(limits = c(as.Date(\"2008-01-01\"), NA))"},{"path":"https://ofce.github.io/ofce/articles/temporelles.html","id":"frÃ©quence-mensuelle-et-insert","dir":"Articles","previous_headings":"","what":"FrÃ©quence mensuelle et insert","title":"SÃ©ries temporelles","text":"Pour construire les donnÃ©es Ã  la frÃ©quence mensuelle, va crÃ©er un champ de date, mais retenant une seule date par mois (au milieu du mois). En agrÃ©geant par mois (summarise) construit la sÃ©rie en mensuel. peut alors facilement modifier le graphique main en utilisant %+% (cette instruction modifie les donnÃ©es en entrÃ©e du graphique par le nouveau jeu de donnÃ©es quâ€™vient de construire qui exactement la mÃªme structure, comme utilisÃ© les dates le passage du quotidien au mensuel se fait automatiquement, les axes sont parfaitement construits) :  Lâ€™insert est le mÃªme graphique, en enlevant les annotations, en simplifiant les axes et en zoomant sur les deux derniers mois.  lâ€™insÃ¨re dans le graphique principal en utilisant patchwork, ce qui donne le graphique, plus lisible et plus Ã©lÃ©gant. Les paramÃ¨tres de inset sont choisis aprÃ¨s quelques essais et erreurs. rÃ©duit la taille de la police de caractÃ¨re pour accentuer lâ€™effet visuel.  TipÂ 1: Une alternative avec {ggmagnify} Le package ggmagnify simplifie la tÃ¢che et offre quelques amÃ©liorations esthÃ©tiques. Il faut cependant que les dataset principal et inset soit les mÃªmes [pas sÃ»r en fait]. reprend lâ€™agrÃ©gation temporelle en lâ€™arrÃªtant aux deux derniers mois. complexifie lâ€™insert pour intÃ©grer plus dâ€™Ã©lÃ©ments en utilisant lâ€™argument plot de ggmagnify::geom_magnify().","code":"md <- max(spreads_data$date) dates <- spreads_data$date # on force le jour Ã  Ãªtre le 15 du mois, il n'y aura qu'une date par mois! lubridate::day(dates) <- 15 spreads_m <- spreads_data |>   mutate( date = dates) |>   group_by(date, pays) |>   summarize(taux_max = max(taux, na.rm=TRUE),             taux_min = min(taux, na.rm=TRUE),             taux = mean(taux, na.rm=TRUE)) spreads_m # A tibble: 422 Ã— 5 # Groups:   date [211]    date       pays   taux_max taux_min   taux    <date>     <fct>     <dbl>    <dbl>  <dbl>  1 2007-01-15 France   0.0580   0.0130 0.0409  2 2007-01-15 Italie   0.278    0.154  0.229  3 2007-02-15 France   0.0560   0.0380 0.0440  4 2007-02-15 Italie   0.284    0.17   0.211  5 2007-03-15 France   0.0630   0.0350 0.0466  6 2007-03-15 Italie   0.318    0.192  0.239  7 2007-04-15 France   0.0690   0.0410 0.0496  8 2007-04-15 Italie   0.285    0.153  0.225  9 2007-05-15 France   0.0980   0.0330 0.0464 10 2007-05-15 Italie   0.291    0.175  0.222 # â„¹ 412 more rows add_logo(main %+% spreads_m) inset <- main +   theme_ofce(     base_size = 7,     axis.line.x = element_blank(),     axis.line.y = element_blank(),     plot.background = element_rect(fill = \"white\")   ) +   scale_ofce_date(     labels = scales::label_date_short(format = c(\"%Y\", \"%B\")),     date_breaks = \"1 month\",     limits = c(md - months(3), NA)) +   geom_vline(     xintercept = as.Date(\"2024-06-09\"),     linewidth = 0.1,     color = \"grey50\"   ) +   geom_vline(     xintercept = as.Date(\"2024-07-08\"),     linewidth = 0.1,     color = \"grey50\"   ) +   scale_y_continuous(labels = ~ str_c(.x, \"%\"), limits = c(0, 2),                      minor_breaks = scales::breaks_width(0.1),                      guide = \"axis_minor\") +   labs(y = NULL, caption = NULL, color = NULL, fill = NULL) inset library(patchwork) main_m <- add_logo((main + annotations) %+% spreads_m) main_m  + inset_element(inset, 0.75, 0.66, 1, 1) # pak::pak(\"hughjonesd/ggmagnify\") library(ggmagnify)  md <- max(spreads_data$date) date_inset <- floor_date(md - months(3), unit = \"month\") spreads_hyb <- spreads_data |>   mutate(     date_h = floor_date(date, unit = \"month\"),     date_h = if_else(date < date_inset, date_h, date)   ) |>   group_by(date_h, pays) |>   summarize(     taux = mean(taux, na.rm = TRUE),     n = n(), .groups = \"drop\"   ) |>   rename(     date = date_h   ) |>   mutate(     date_label = ifelse(n > 1,       stamp(         orders = \"%B %Y\",         locale = \"fr_FR.utf8\", exact = TRUE, quiet = TRUE       )(date),       stamp(\"22/12/2024\",         orders = \"%d/%m/%Y\",         locale = \"fr_FR.utf8\", quiet = TRUE       )(date)     ),     tooltip = str_c(       \"<b>\", pays, \"<\/b><br>\",       date_label,       \"<br>Ecart de taux avec l'Allemagne : \", f_taux(taux)     ),   ) Error in `mutate()`: â„¹ In argument: `tooltip = str_c(...)`. Caused by error in `f_taux()`: ! could not find function \"f_taux\" inset_plot <- ggplot(spreads_hyb) +   aes(x = date, y = taux, fill = pays, color = pays, group = pays) +   geom_line(linewidth = 0.75, alpha = 0.5, show.legend = FALSE) +   geom_point_interactive(     aes(tooltip = tooltip, data_id = date),     stroke = 0.5, size = 1,     col = \"white\", shape = 21, show.legend = FALSE   ) +   scale_color_manual(     aesthetics = c(\"fill\", \"color\"),     name = NULL, values = cc   ) +   theme_ofce(     base_size = 7,     panel.grid.major.y = element_line(color = \"gray\", linewidth = 0.25),     axis.line = element_blank()   ) +   geom_vline(xintercept = as.Date(\"2024-6-30\"), linewidth = 0.25, color = \"grey\") +   labs(     y = NULL,     x = NULL,     colour = NULL,     caption = NULL   ) +   scale_x_date(     labels = scales::label_date_short(format = c(\"%Y\", \"%B\")),     date_breaks = \"1 month\"   ) +   scale_y_continuous(     labels = ~ str_c(.x, \"%\"), breaks = seq(0, 2)) Error: object 'spreads_hyb' not found from <- list(md - days(50), md, 0, 2) to <- list(md - years(4), md + years(1), 3.75, 5) sh <- ggplot(spreads_hyb) +   aes(x = date, y = taux, fill = pays, color = pays, group = pays) +   geom_line(linewidth = 0.75, alpha = 0.5, show.legend = FALSE) +   geom_point_interactive(     aes(tooltip = tooltip, data_id = date),     stroke = 0.5, size = 1,     col = \"white\", shape = 21, show.legend = FALSE   ) +   scale_color_manual(     aesthetics = c(\"fill\", \"color\"),     name = NULL, values = cc   ) +   theme_ofce(plot.margin = ggplot2::margin(10, 60, 10, 10)) +   guides(     x = guide_axis(minor.ticks = TRUE),     y = guide_axis(minor.ticks = TRUE)   ) +   labs(     y = \"Ecart de taux Ã  10 ans\",     x = NULL,     colour = NULL,     caption = glue::glue(\"*Source*Â : investing.com<br>Mis Ã  jourÂ : {date_maj}\")   ) +   scale_ofce_date(     labels = scales::label_date_short(format = c(\"%Y\")) ) +   scale_y_continuous(     labels = ~ str_c(.x, \"%\"), breaks = seq(0, 5),     minor_breaks = scales::breaks_width(0.1),     guide = \"axis_minor\",     expand = expansion(), limits = c(-0.25, NA),   ) +   annotations +   coord_cartesian(clip = \"off\") +   ggmagnify::geom_magnify(     from = from, to = to, linewidth = 0.1,     colour = \"grey25\", shadow = TRUE,     plot = inset_plot, axes = \"xy\",     shadow.args = list(sigma = 5, colour = \"grey80\", x_offset = 5, y_offset = 5)   ) Error: object 'spreads_hyb' not found girafy(add_logo(sh), r = 2.5) Error: object 'sh' not found"},{"path":"https://ofce.github.io/ofce/articles/temporelles.html","id":"linteractivitÃ©","dir":"Articles","previous_headings":"","what":"Lâ€™interactivitÃ©","title":"SÃ©ries temporelles","text":"La derniÃ¨re Ã©tape est lâ€™interactivitÃ©. utilise le package ggiraph qui va permettre dâ€™intÃ©grer des tooltips trÃ¨s simplement et trÃ¨s efficacement. peut aussi avec des sÃ©lections dynamiques ou encore des zooms. Pour ajouter lâ€™interactivitÃ©, la premiÃ¨re Ã©tape est de gÃ©nÃ©rer le texte des tooltips dans le tableau de donnÃ©es. Notez lâ€™utilisation de lubridate::stamp_date() pour formater les dates simplement. Lâ€™interactivitÃ© est alors ajoutÃ©e par des instructions spÃ©cifiques qui se substituent aux geom_* en ajoutant un suffix, geom_*_interactive. Ces geom_*_interactive acceptent un aes avec deux paramÃ¨tres supplÃ©mentaire, le premier dÃ©finissant le tooltip et le second, data_id, une variable qui relie les Ã©lÃ©ments graphiques entre eux pour quâ€™ils soient modifiÃ©s lors du survol avec la souris. La fonction girafy qui est dÃ©finie par source(\"rinit.r\") et finalise le rendu. ggiraph conserve tous les Ã©lÃ©ments du graphique et il est possible de lâ€™appliquer avec patchwork pour combiner les interactivitÃ©s. La clef pour lâ€™interactivitÃ© est dâ€™apporter de lâ€™information Ã  lâ€™utilisateur par le texte du tooltip. Il est possible dâ€™avoir des interactivitÃ©s plus avancÃ©es, en dÃ©clenchant une action sur un click par exemple. Lâ€™approche par ggiraph est applicable simplement Ã  de nombreux graphiques avec un rendu satisfaisant. Cela marche Ã©galement pour des facet et donc Ã§a ouvre beaucoup de possibilitÃ©s.","code":"spreads_m <- spreads_m |>   mutate(     tooltip = str_c(\"<b>\", pays, \"<\/b><br>\",                     stamp(exact = TRUE, orders = \"%B %Y\",                           locale = \"fr_FR.utf8\", quiet = TRUE)(date),                     \"<br>Ecart de taux avec l'Allemagne : \", f_taux(taux))) Error in `mutate()`: â„¹ In argument: `tooltip = str_c(...)`. â„¹ In group 1: `date = 2007-01-15`. Caused by error in `f_taux()`: ! could not find function \"f_taux\" library(ggiraph) main_i <- ggplot(spreads_m) +   aes(x = date, y = taux, color = pays, group = pays, fill = pays) +   geom_line(linewidth = 0.75, alpha = 0.5, show.legend = FALSE) +   geom_point_interactive(aes(tooltip = tooltip, data_id = date),     stroke = 0.5, size = 1, col = \"white\", shape = 21,     hover_nearest = TRUE, show.legend = FALSE   ) +   scale_color_manual(name = NULL, values = cc, aesthetics = c(\"fill\", \"color\")) +   labs(     y = \"Ecart de taux Ã  10 ans\",     x = NULL,     caption = \"Source: investing.com\"   ) +   theme_ofce() +   guides(     y = guide_axis(minor.ticks = TRUE)   ) +   labs(     colour = NULL,     caption = glue::glue(\"*Source*Â : investing.com<br>Mis Ã  jourÂ : {date_maj}\")   ) +   scale_ofce_date(     labels = scales::label_date_short(format = c(\"%Y\", \"%B\")) ) +   scale_y_continuous(labels = ~ str_c(.x, \"%\"))  spreads_data <- spreads_data |>   mutate(     tooltip = str_c(       \"<b>\", pays, \"<\/b><br>\",       stamp_date(\"24/7/2024\", locale = \"fr_FR.utf8\", quiet = TRUE)(date),       \"<br>Ecart de taux avec l'Allemagne : \", f_taux(taux)     )   ) Error in `mutate()`: â„¹ In argument: `tooltip = str_c(...)`. Caused by error in `f_taux()`: ! could not find function \"f_taux\" inset_i <- (main_i %+% spreads_data) +   theme_ofce(     base_size = 7,     axis.line.x = element_blank(),     axis.line.y = element_blank(),     plot.background = element_rect(fill = \"white\")   ) +   scale_x_date(     labels = scales::label_date_short(format = c(\"%Y\", \"%B\")),     date_breaks = \"1 month\",     date_minor_breaks = \"1 week\",     limits = c(md - months(2), NA),     guide = \"minor_ticks\"   ) +   geom_vline(     xintercept = as.Date(\"2024-06-09\"),     linewidth = 0.1,     color = \"grey50\"   ) +   scale_y_continuous(labels = ~ str_c(.x, \"%\"),                      limits = c(0, 2),                      minor_breaks = scales::breaks_width(0.1),                      guide = \"axis_minor\") +   labs(y = NULL, caption = NULL, color = NULL, fill = NULL)  main_i <- ((main_i + annotations) %+% spreads_m) |> add_logo() main_i <- main_i + inset_element(inset_i, 0.75, 0.66, 1, 1) girafy(main_i, r = 2.5) Error: ! Problem while computing aesthetics. â„¹ Error occurred in the 2nd layer. Caused by error: ! object 'tooltip' not found"},{"path":"https://ofce.github.io/ofce/articles/temporelles.html","id":"frÃ©quence-trimestrielle","dir":"Articles","previous_headings":"","what":"FrÃ©quence trimestrielle","title":"SÃ©ries temporelles","text":"transforme les donnÃ©es en frÃ©quence trimestrielle en utilisant la fonction lubridate::floor_date(). En calculant les variables annÃ©e (y) et trimestre (q), peut avec le package ggh4x produire facilement un joli graphique trimestriel. Les clefs sont de mettre en x lâ€™interaction entre ces deux Ã©lÃ©ments discrets (attention Ã  lâ€™ordre, attention Ã  trier les donnÃ©es avec arrange). La magie opÃ¨re ensuite avec guide = \"axis_nested\". Cete fonction est gÃ©nÃ©ralisable Ã  bien des cas.","code":"library(lubridate) # pak::pak(\"teunbrand/ggh4x\") library(ggh4x)  spreads_q <- spreads_data |>   mutate(     y = lubridate::year(date),     q = str_c(\"T\", lubridate::quarter(date)),     date_q = lubridate::floor_date(date, unit = \"quarter\")   ) |>   group_by(date_q, y, q, pays) |>   summarize(     taux_max = max(taux, na.rm = TRUE),     taux_min = min(taux, na.rm = TRUE),     taux = mean(taux, na.rm = TRUE), .groups = \"drop\"   ) |>   rename(date = date_q) |>   arrange(date) |>   filter(date >= \"2018-01-01\")  (ggplot(spreads_q) +   aes(x = interaction(q, y), y = taux, fill = pays, color = pays, group = pays) +   geom_line(linewidth = 0.75, alpha = 0.5, show.legend = FALSE) +   geom_point(     stroke = 0.5, size = 1,     col = \"white\", shape = 21, show.legend = FALSE   ) +   scale_color_manual(     aesthetics = c(\"fill\", \"color\"),     name = NULL, values = cc   ) +   theme_ofce(     axis.text.x = element_text(size = rel(0.8), margin = margin(t = 6)),     ggh4x.axis.nesttext.x = element_text(size = rel(1.2), margin = margin(t = 3))   ) +   labs(     y = \"Ecart de taux Ã  10 ans\",     x = NULL,     colour = NULL,     caption = glue::glue(\"*Source*Â : investing.com<br>Mis Ã  jourÂ : {date_maj}\")   ) +   scale_y_continuous(labels = ~ str_c(.x, \"%\"),                      minor_breaks = scales::breaks_width(0.1),                      guide = \"axis_minor\") +   scale_x_discrete(guide = \"axis_nested\")) |> add_logo()"},{"path":"https://ofce.github.io/ofce/articles/temporelles.html","id":"double-Ã©chelle","dir":"Articles","previous_headings":"","what":"Double Ã©chelle","title":"SÃ©ries temporelles","text":"Non mais ca va pas ?","code":""},{"path":"https://ofce.github.io/ofce/articles/temporelles.html","id":"une-derniÃ¨re-chose-la-mise-Ã -dispostion-des-donnÃ©es","dir":"Articles","previous_headings":"","what":"Une derniÃ¨re chose : la mise Ã  dispostion des donnÃ©es","title":"SÃ©ries temporelles","text":"Une bonne pratique est de mettre Ã  disposition les donnÃ©es et le code ayant servi Ã  produire le graphique. Une faÃ§on est dâ€™utiliser les boutons code prÃ©sents dans ce document pour publier le code. La seconde est de mettre tous les codes sur un dÃ©pÃ´t github ğŸ˜¸ public. minima, ajoute un bouton pour tÃ©lÃ©charger les donnÃ©es. Câ€™est simple Ã  faire avec downloadthis et ce bout de code qui peut Ãªtre mis juste aprÃ¨s un graphique. reprend le fichier de donnÃ©es, tel quel, modifiÃ© Ã©ventuellement pour enlever ou renommer une colonne, et qui sera disponible en csv, UTF8, avec des virgules comme sÃ©pÃ©rateurs et des points comme marque dÃ©cimale (.e.Â pas ce quâ€™Excel attend â˜ ï¸). Pour que les boutons soient sur la mÃªme ligne utilise la syntaxe inline 'r une_expression_R' : peut aussi les mettre dans la marge en entourant le chunk R de ::: column-margin â un_code_r â ::: (visuellement câ€™est mieux quand il y le graphique juste avant le div).","code":"library(downloadthis) b1 <- download_this(   spreads_m |> select(-tooltip),   icon = \"fa fa-download\",   class = \"dbtn\",   button_label  = \"Taux mensuels\",   output_name = \"taux_mensuels\" ) Error in `select()`: ! Can't select columns that don't exist. âœ– Column `tooltip` doesn't exist. b2 <- download_this(   spreads_data,   icon = \"fa fa-download\",   class = \"dbtn\",   button_label  = \"Taux quotidiens\",   output_name = \"taux_quotidiens\" )"},{"path":[]},{"path":[]},{"path":[]},{"path":"https://ofce.github.io/ofce/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Paul Malliet. Author. Anissa Saumtally. Author. Xavier Timbeau. Author, maintainer.","code":""},{"path":"https://ofce.github.io/ofce/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Malliet P, Saumtally , Timbeau X (2025). ofce: Documents scientifiques aux normes OFCE. R package version 1.3.27, https://ofce.github.io/ofce.","code":"@Manual{,   title = {ofce: Documents scientifiques aux normes OFCE},   author = {Paul Malliet and Anissa Saumtally and Xavier Timbeau},   year = {2025},   note = {R package version 1.3.27},   url = {https://ofce.github.io/ofce}, }"},{"path":"https://ofce.github.io/ofce/index.html","id":"publication-de-documents-scientifiques-","dir":"","previous_headings":"","what":"Documents scientifiques aux normes OFCE","title":"Documents scientifiques aux normes OFCE","text":"Ce package met Ã  disposition des outils utilisÃ©s rÃ©guliÃ¨rement Ã  lâ€™OFCE, que ce soit pour la production de documents quarto ou de mise en page de graphiques ggplot2. La charte graphique, les instructions de flux de travail, des exemples de documents et de code, des tutos sont sur https://ofce.github.io/ofce/. Nâ€™hÃ©sitez pas Ã  poster des issues sur ce dÃ©pÃ´t pour toute remarque ou requÃªte.","code":""},{"path":"https://ofce.github.io/ofce/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Documents scientifiques aux normes OFCE","text":"Le package sâ€™installe par la commande du package pak (si vous ne lâ€™avez pas dÃ©jÃ  installÃ©, install.packages(\"pak\"))","code":"pak::pak(\"ofce/ofce\")"},{"path":"https://ofce.github.io/ofce/index.html","id":"mise-Ã -jour-des-templates-quarto-ofce","dir":"","previous_headings":"","what":"Mise Ã  jour des templates quarto OFCE","title":"Documents scientifiques aux normes OFCE","text":"Les templates existants sont mis Ã  jour ; pour rÃ©cupÃ©rer la derniÃ¨re version, il suffit de lancer la commande ofce::setup_quarto() qui installera en local la derniÃ¨re version des extensions pour votre projet. Les formats disponibles sont :","code":"--- format:   ofce-html: default # une page en html   wp-html: default # Document de travail en html   wp-pdf: default # Document de travail en pdf   wp-en-html: default # Document de travail html en anglais   wp-en-html: default # Document de travail pdf en anglais   pres-revealjs: default # presentation   blog-html: default # Post de blog en html   blog-pdf: default # Post de blog en pdf ---"},{"path":"https://ofce.github.io/ofce/index.html","id":"utilisation","dir":"","previous_headings":"","what":"Utilisation","title":"Documents scientifiques aux normes OFCE","text":"Pour une description plus complÃ¨te, vous pouvez lancez la commande suivante dans la console RStudio qui recense lâ€™ensemble des fonctions du package : library(help=\"ofce\") ou ?nom_de_la_function. Sur le site qui documente le package vous trouverez des documents dÃ©taillant tous les aspects de lâ€™utilisation du package et de la rÃ©alisation de documents Ã  lâ€™OFCE â€“ les chartes graphiques.","code":""},{"path":"https://ofce.github.io/ofce/reference/add_label_unit.html","id":null,"dir":"Reference","previous_headings":"","what":"Add label unit â€” add_label_unit","title":"Add label unit â€” add_label_unit","text":"Ajoute un label pour les unitÃ©s sur le plus grand des labels y","code":""},{"path":"https://ofce.github.io/ofce/reference/add_label_unit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add label unit â€” add_label_unit","text":"","code":"add_label_unit(plot, ylabel = \"\")"},{"path":"https://ofce.github.io/ofce/reference/add_label_unit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add label unit â€” add_label_unit","text":"plot un graphique ggplot ylabel string, un label","code":""},{"path":"https://ofce.github.io/ofce/reference/add_label_unit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add label unit â€” add_label_unit","text":"un graphique ggplot","code":""},{"path":"https://ofce.github.io/ofce/reference/add_label_unit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add label unit â€” add_label_unit","text":"","code":"if (FALSE) { # \\dontrun{ library(ggplot2) plot <- ggplot(mtcars) +         geom_point(aes(x=mpg, y=hp, size=cyl, col=gear)) +         theme_ofce(base_family=\"Nunito\") # plot |> add_label_unit(\"horse power\") } # }"},{"path":"https://ofce.github.io/ofce/reference/add_logo.html","id":null,"dir":"Reference","previous_headings":"","what":"Add logo â€” add_logo","title":"Add logo â€” add_logo","text":"Ajoute le logo de l'OFCE sur le graphique (inside donc)","code":""},{"path":"https://ofce.github.io/ofce/reference/add_logo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add logo â€” add_logo","text":"","code":"add_logo(plot, logo = NULL, size = 0.25)"},{"path":"https://ofce.github.io/ofce/reference/add_logo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add logo â€” add_logo","text":"plot un graphique ggplot logo un logo au format png, avec une transparence (si NULL utilise le logo OFCE) size la taille du logo (relative)","code":""},{"path":"https://ofce.github.io/ofce/reference/add_logo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add logo â€” add_logo","text":"un graphique ggplot","code":""},{"path":"https://ofce.github.io/ofce/reference/add_logo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add logo â€” add_logo","text":"Fin de vie. Ne plus utiliser","code":""},{"path":"https://ofce.github.io/ofce/reference/add_logo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add logo â€” add_logo","text":"","code":"if (FALSE) { # \\dontrun{ library(ggplot2) plot <- ggplot(mtcars) +         geom_point(aes(x=mpg, y=hp, size=cyl, col=gear)) +         theme_ofce() # plot |> add_logo() } # }"},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce.html","id":null,"dir":"Reference","previous_headings":"","what":"Add logo â€” add_logo_ofce","title":"Add logo â€” add_logo_ofce","text":"Ajoute le logo de l'OFCE en bas Ã  droite du graphique","code":""},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add logo â€” add_logo_ofce","text":"","code":"add_logo_ofce(plot, logo = NULL, size = 0.04)"},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add logo â€” add_logo_ofce","text":"plot un graphique ggplot logo un logo au format png, avec une transparence size la taille du logo (relative)","code":""},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add logo â€” add_logo_ofce","text":"un graphique ggplot","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add logo â€” add_logo_ofce","text":"","code":"if (FALSE) { # \\dontrun{ library(ggplot2) plot <- ggplot(mtcars) +     geom_point(aes(x=mpg, y=hp, size=cyl, col=gear)) +     theme_ofce() # plot |> add_logo_ofce() } # }"},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce_inside.html","id":null,"dir":"Reference","previous_headings":"","what":"Add logo inside â€” add_logo_ofce_inside","title":"Add logo inside â€” add_logo_ofce_inside","text":"Ajoute le logo de l'OFCE sur le graphique (inside donc)","code":""},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce_inside.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add logo inside â€” add_logo_ofce_inside","text":"","code":"add_logo_ofce_inside(plot, logo = NULL, size = 0.25)"},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce_inside.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add logo inside â€” add_logo_ofce_inside","text":"plot un graphique ggplot logo un logo au format png, avec une transparence size la taille du logo (relative)","code":""},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce_inside.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add logo inside â€” add_logo_ofce_inside","text":"un graphique ggplot","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/add_logo_ofce_inside.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add logo inside â€” add_logo_ofce_inside","text":"","code":"if (FALSE) { # \\dontrun{ library(ggplot2) plot <- ggplot(mtcars) +         geom_point(aes(x=mpg, y=hp, size=cyl, col=gear)) +         theme_ofce() # plot |> add_logo_ofce_inside() } # }"},{"path":"https://ofce.github.io/ofce/reference/annotate2.html","id":null,"dir":"Reference","previous_headings":"","what":"Annotate2 from ggplot2 â€” annotate2","title":"Annotate2 from ggplot2 â€” annotate2","text":"Variation de ggplot2::annotate pour intÃ©grer une position","code":""},{"path":"https://ofce.github.io/ofce/reference/annotate2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Annotate2 from ggplot2 â€” annotate2","text":"","code":"annotate2(   geom,   x = NULL,   y = NULL,   xmin = NULL,   xmax = NULL,   ymin = NULL,   ymax = NULL,   xend = NULL,   yend = NULL,   position = PositionIdentity,   ...,   na.rm = FALSE )"},{"path":"https://ofce.github.io/ofce/reference/annotate2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Annotate2 from ggplot2 â€” annotate2","text":"geom name geom use annotation x, y, xmin, ymin, xmax, ymax, xend, yend positioning aesthetics - must specify least one . position fonction position (comme position_nudge()) pour modifier la position de l'annotation ... arguments passed layer()'s params argument. arguments broadly fall one 4 categories . Notably, arguments position argument, aesthetics required can passed .... Unknown arguments part 4 categories ignored. Static aesthetics mapped scale, fixed value apply layer whole. example, colour = \"red\" linewidth = 3. geom's documentation Aesthetics section lists available options. 'required' aesthetics passed params. Please note passing unmapped aesthetics vectors technically possible, order required length guaranteed parallel input data. constructing layer using stat_*() function, ... argument can used pass parameters geom part layer. example stat_density(geom = \"area\", outline.type = \"\"). geom's documentation lists parameters can accept. Inversely, constructing layer using geom_*() function, ... argument can used pass parameters stat part layer. example geom_area(stat = \"density\", adjust = 0.5). stat's documentation lists parameters can accept. key_glyph argument layer() may also passed .... can one functions described key glyphs, change display layer legend. na.rm FALSE, default, missing values removed warning. TRUE, missing values silently removed.","code":""},{"path":"https://ofce.github.io/ofce/reference/annotate2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Annotate2 from ggplot2 â€” annotate2","text":"une layer","code":""},{"path":"https://ofce.github.io/ofce/reference/bd_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Lit sur le board l'objet specifiÃ© â€” bd_read","title":"Lit sur le board l'objet specifiÃ© â€” bd_read","text":"Lit sur le board l'objet specifiÃ©","code":""},{"path":"https://ofce.github.io/ofce/reference/bd_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lit sur le board l'objet specifiÃ© â€” bd_read","text":"","code":"bd_read(obj)"},{"path":"https://ofce.github.io/ofce/reference/bd_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Lit sur le board l'objet specifiÃ© â€” bd_read","text":"obj (chaine de caractÃ¨re) nom de l'objet sur le board","code":""},{"path":"https://ofce.github.io/ofce/reference/bd_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Lit sur le board l'objet specifiÃ© â€” bd_read","text":"un objet R","code":""},{"path":"https://ofce.github.io/ofce/reference/bd_write.html","id":null,"dir":"Reference","previous_headings":"","what":"Ecrit sur le board â€” bd_write","title":"Ecrit sur le board â€” bd_write","text":"Wrapper pour pins. la fonction suppose qu'il existe un blob Azure qui Ã©tÃ© prÃ©alablement crÃ©Ã© et dont les Ã©lÃ©ments sont dans .Renviron (azure_url et azure_jeton) et dont les droits d'accÃ¨s douvent Ãªtre corrects.","code":""},{"path":"https://ofce.github.io/ofce/reference/bd_write.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ecrit sur le board â€” bd_write","text":"","code":"bd_write(   obj,   name = NULL,   title = NULL,   description = NULL,   metadata = NULL,   tags = NULL,   versioned = NULL )"},{"path":"https://ofce.github.io/ofce/reference/bd_write.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ecrit sur le board â€” bd_write","text":"obj l'objet que l'souhaite Ã©crire name le nom qu'il aura dans le pins::board, le nom de l'objet si ce n'est pas spÃ©cifiÃ© title le titre du pins, optionel, mais aide Ã  la comprÃ©hension de ce que l'objet contient description une description, idem, pour faciliter l'usage metadata des mÃ©tadonnÃ©es utilisÃ©es par pins et stockÃ©es dans le board tags idem, des tags versioned verisoning du board (NULL par dÃ©faut, donc suit celui du board)","code":""},{"path":"https://ofce.github.io/ofce/reference/bd_write.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ecrit sur le board â€” bd_write","text":"(invisible) le nom du pins","code":""},{"path":"https://ofce.github.io/ofce/reference/board.html","id":null,"dir":"Reference","previous_headings":"","what":"Board avec Azure â€” board","title":"Board avec Azure â€” board","text":"Lit les dentifiants dans .Renviron et les utilise pour connecter avec Azure. Les identifiants doivent Ãªtre azure_url et un azure_jeton un jeton sas Ã  obtenir sur le portail azure.","code":""},{"path":"https://ofce.github.io/ofce/reference/board.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Board avec Azure â€” board","text":"","code":"board()"},{"path":"https://ofce.github.io/ofce/reference/board.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Board avec Azure â€” board","text":"un board (de {pins})","code":""},{"path":"https://ofce.github.io/ofce/reference/board.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Board avec Azure â€” board","text":"Cette fonction permet d'utiliser les fonctions de {pins}.","code":""},{"path":"https://ofce.github.io/ofce/reference/clear_source_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Vide le cache â€” clear_source_cache","title":"Vide le cache â€” clear_source_cache","text":"Vide le cache","code":""},{"path":"https://ofce.github.io/ofce/reference/clear_source_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vide le cache â€” clear_source_cache","text":"","code":"clear_source_cache(   what = source_data_status(root = root),   cache_rep = NULL,   root = NULL )"},{"path":"https://ofce.github.io/ofce/reference/clear_source_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Vide le cache â€” clear_source_cache","text":"(â€“) un tibble issu de source_data, Ã©ventuellement filtrÃ© data_rep le rÃ©pertoire de cache","code":""},{"path":"https://ofce.github.io/ofce/reference/clear_source_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Vide le cache â€” clear_source_cache","text":"la liste des fichiers supprimÃ©s","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/date1.html","id":null,"dir":"Reference","previous_headings":"","what":"Magnifiques labels des dates â€” date1","title":"Magnifiques labels des dates â€” date1","text":"Magnifiques labels des dates","code":""},{"path":"https://ofce.github.io/ofce/reference/date1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Magnifiques labels des dates â€” date1","text":"","code":"date1(x)"},{"path":"https://ofce.github.io/ofce/reference/date1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Magnifiques labels des dates â€” date1","text":"x les breaks","code":""},{"path":"https://ofce.github.io/ofce/reference/date1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Magnifiques labels des dates â€” date1","text":"les labels","code":""},{"path":"https://ofce.github.io/ofce/reference/date_jour.html","id":null,"dir":"Reference","previous_headings":"","what":"Date en jour â€” date_jour","title":"Date en jour â€” date_jour","text":"Transforme une date dans le format trimestriel standard (revue de l'OFCE) 2025-01-01 -> 1 janvier 2025","code":""},{"path":"https://ofce.github.io/ofce/reference/date_jour.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Date en jour â€” date_jour","text":"","code":"date_jour(date)"},{"path":"https://ofce.github.io/ofce/reference/date_jour.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Date en jour â€” date_jour","text":"date la date","code":""},{"path":"https://ofce.github.io/ofce/reference/date_jour.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Date en jour â€” date_jour","text":"une chaine de caractÃ¨res","code":""},{"path":"https://ofce.github.io/ofce/reference/date_jour.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Date en jour â€” date_jour","text":"","code":"date_jour(\"2025-10-01\") #> [1] \"1 October 2025\""},{"path":"https://ofce.github.io/ofce/reference/date_mois.html","id":null,"dir":"Reference","previous_headings":"","what":"Date en mois â€” date_mois","title":"Date en mois â€” date_mois","text":"Transforme une date dans le format mensuel standard (revue de l'OFCE) 2025-01-01 -> janvier 2025 2025-04 -> avril 2025","code":""},{"path":"https://ofce.github.io/ofce/reference/date_mois.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Date en mois â€” date_mois","text":"","code":"date_mois(date)"},{"path":"https://ofce.github.io/ofce/reference/date_mois.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Date en mois â€” date_mois","text":"date la date","code":""},{"path":"https://ofce.github.io/ofce/reference/date_mois.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Date en mois â€” date_mois","text":"une chaine de caractÃ¨res","code":""},{"path":"https://ofce.github.io/ofce/reference/date_mois.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Date en mois â€” date_mois","text":"","code":"date_mois(\"2025-10-01\") #> [1] \"October 2025\""},{"path":"https://ofce.github.io/ofce/reference/date_trim.html","id":null,"dir":"Reference","previous_headings":"","what":"Date en trimestriel â€” date_trim","title":"Date en trimestriel â€” date_trim","text":"Transforme une date dans le format trimestriel standard (revue de l'OFCE) 2025-01-01 -> T1 2025 2025-04 -> T2 2025","code":""},{"path":"https://ofce.github.io/ofce/reference/date_trim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Date en trimestriel â€” date_trim","text":"","code":"date_trim(date)"},{"path":"https://ofce.github.io/ofce/reference/date_trim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Date en trimestriel â€” date_trim","text":"date la date","code":""},{"path":"https://ofce.github.io/ofce/reference/date_trim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Date en trimestriel â€” date_trim","text":"une chaine de caractÃ¨res","code":""},{"path":"https://ofce.github.io/ofce/reference/date_trim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Date en trimestriel â€” date_trim","text":"","code":"date_trim(\"2025-10-01\") #> [1] \"T4 2025\""},{"path":"https://ofce.github.io/ofce/reference/dernier_point.html","id":null,"dir":"Reference","previous_headings":"","what":"fabricateur de dernier point pour les sources de graphiques â€” dernier_point","title":"fabricateur de dernier point pour les sources de graphiques â€” dernier_point","text":"fabricateur de dernier point pour les sources de graphiques","code":""},{"path":"https://ofce.github.io/ofce/reference/dernier_point.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fabricateur de dernier point pour les sources de graphiques â€” dernier_point","text":"","code":"dernier_point(date, freq = \"month\", lang = \"fr\")"},{"path":"https://ofce.github.io/ofce/reference/dernier_point.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fabricateur de dernier point pour les sources de graphiques â€” dernier_point","text":"date liste de date freq soit day, month, quarter, year lang langue de retour","code":""},{"path":"https://ofce.github.io/ofce/reference/dernier_point.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fabricateur de dernier point pour les sources de graphiques â€” dernier_point","text":"chaine de charactÃ¨res","code":""},{"path":"https://ofce.github.io/ofce/reference/f2si2.html","id":null,"dir":"Reference","previous_headings":"","what":"Utilise le SI pour formatter les nombres en fonction des mulitples de 10^3 â€” f2si2","title":"Utilise le SI pour formatter les nombres en fonction des mulitples de 10^3 â€” f2si2","text":"Utilise le SI pour formatter les nombres en fonction des mulitples de 10^3","code":""},{"path":"https://ofce.github.io/ofce/reference/f2si2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Utilise le SI pour formatter les nombres en fonction des mulitples de 10^3 â€” f2si2","text":"","code":"f2si2(number, rounding = TRUE, digits = 1, unit = \"median\")"},{"path":"https://ofce.github.io/ofce/reference/f2si2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Utilise le SI pour formatter les nombres en fonction des mulitples de 10^3 â€” f2si2","text":"number le nombre ou le vecteur Ã  formatter (numÃ©rique) rounding doit-arrondir le chiffre ? digits Combien de chiffres aprÃ¨s la virgule unit Arrondi soit Ã  la \"median\" soit au \"max\"","code":""},{"path":"https://ofce.github.io/ofce/reference/f2si2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Utilise le SI pour formatter les nombres en fonction des mulitples de 10^3 â€” f2si2","text":"une chaine de caractÃ¨re (character) formattÃ©e","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/f2si2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Utilise le SI pour formatter les nombres en fonction des mulitples de 10^3 â€” f2si2","text":"","code":"f2si2(100000) #> [1] \"100k\""},{"path":"https://ofce.github.io/ofce/reference/fmt_mds.html","id":null,"dir":"Reference","previous_headings":"","what":"Formate en milliards d'euros â€” fmt_mds","title":"Formate en milliards d'euros â€” fmt_mds","text":"Semblable aux innombrables fonctions de formatage formate en franÃ§ais (\",\" et \" \" comme sÃ©parateurs)","code":""},{"path":"https://ofce.github.io/ofce/reference/fmt_mds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formate en milliards d'euros â€” fmt_mds","text":"","code":"fmt_mds(x, log = 3, digits = 1, suffix = \" Mds â‚¬\")"},{"path":"https://ofce.github.io/ofce/reference/fmt_mds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formate en milliards d'euros â€” fmt_mds","text":"x le nombre log (defaut 3) diffÃ©rence en log10 entre l'origine et la destination 3 passe de millions Ã  milliards digits (defaut 1) nombre de chiffres aprÃ¨s la virgule suffix (defaut \" Mds â‚¬\") ajoute un suffix","code":""},{"path":"https://ofce.github.io/ofce/reference/fmt_mds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formate en milliards d'euros â€” fmt_mds","text":"string","code":""},{"path":"https://ofce.github.io/ofce/reference/fmt_mds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Formate en milliards d'euros â€” fmt_mds","text":"","code":"fmt_mds(0.12) #> [1] \"120,0 Mds â‚¬\""},{"path":"https://ofce.github.io/ofce/reference/fmt_pct.html","id":null,"dir":"Reference","previous_headings":"","what":"Formate un nombre en pourcent â€” fmt_pct","title":"Formate un nombre en pourcent â€” fmt_pct","text":"Semblable aux innombrables fonctions de formatage formate en franÃ§ais (\",\" et \" \" comme sÃ©parateurs)","code":""},{"path":"https://ofce.github.io/ofce/reference/fmt_pct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formate un nombre en pourcent â€” fmt_pct","text":"","code":"fmt_pct(x, digits = 0)"},{"path":"https://ofce.github.io/ofce/reference/fmt_pct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formate un nombre en pourcent â€” fmt_pct","text":"x le nombre digits (defaut 0) nombre de chiffres aprÃ¨s la virgule","code":""},{"path":"https://ofce.github.io/ofce/reference/fmt_pct.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formate un nombre en pourcent â€” fmt_pct","text":"string","code":""},{"path":"https://ofce.github.io/ofce/reference/fmt_pct.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Formate un nombre en pourcent â€” fmt_pct","text":"","code":"fmt_pct(0.12) #> [1] \"12%\""},{"path":"https://ofce.github.io/ofce/reference/fmt_val.html","id":null,"dir":"Reference","previous_headings":"","what":"Formate un nombre â€” fmt_val","title":"Formate un nombre â€” fmt_val","text":"Semblable aux innombrables fonctions de formatage formate en franÃ§ais (\",\" et \" \" comme sÃ©parateurs)","code":""},{"path":"https://ofce.github.io/ofce/reference/fmt_val.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formate un nombre â€” fmt_val","text":"","code":"fmt_val(x, digits = 1, scale = 1, suffix = \"\")"},{"path":"https://ofce.github.io/ofce/reference/fmt_val.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formate un nombre â€” fmt_val","text":"x le nombre digits (defaut 1) nombre de chiffres aprÃ¨s la virgule scale (defaut 1) Ã©chelle (mulitplie par ce nombre) suffix (defaut \"\") ajoute un suffix","code":""},{"path":"https://ofce.github.io/ofce/reference/fmt_val.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formate un nombre â€” fmt_val","text":"string","code":""},{"path":"https://ofce.github.io/ofce/reference/fmt_val.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Formate un nombre â€” fmt_val","text":"","code":"fmt_val(10.56, 1, 1, \" euros\") #> [1] \"10,6 euros\""},{"path":"https://ofce.github.io/ofce/reference/girafy.html","id":null,"dir":"Reference","previous_headings":"","what":"Rend un graphique interactif (avec ggiraph) â€” girafy","title":"Rend un graphique interactif (avec ggiraph) â€” girafy","text":"Cette fonction prend en charge le passage par ggirapoh, en spÃ©cifiant les options importantes (dont les tooltips) Possiblement, elle enregistre le graphique pour usage ultÃ©rieur (dans une prÃ©sentation) ainf de garantir l'unicitÃ© des sources Elle prend en charge Ã©galement la sortie pdf si nÃ©cessaire L'interactivitÃ© repose sur l'utilisation des fonctions de ggiraph geom_*_interactive()","code":""},{"path":"https://ofce.github.io/ofce/reference/girafy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rend un graphique interactif (avec ggiraph) â€” girafy","text":"","code":"girafy(plot, r = 2.5, o = 0.5, id = NULL, tooltip_css = .tooltip_css, ...)"},{"path":"https://ofce.github.io/ofce/reference/girafy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rend un graphique interactif (avec ggiraph) â€” girafy","text":"plot le graphique ggplot r (1.5) le rayon du zoom sur le point en cas de hover o (0.5) l'opacitÃ© des autres Ã©lÃ©ments en cas de hover id utilisÃ© pour tabsetize ... autres options passÃ©es Ã  girafe_options() (NULL) rÃ©pertoire pour enregistrer","code":""},{"path":"https://ofce.github.io/ofce/reference/girafy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rend un graphique interactif (avec ggiraph) â€” girafy","text":"un ggplot ou un objet ggiraph","code":""},{"path":"https://ofce.github.io/ofce/reference/graph2jpg.html","id":null,"dir":"Reference","previous_headings":"","what":"Enregistre un graphe en jpg Ã  la taille revue â€” graph2jpg","title":"Enregistre un graphe en jpg Ã  la taille revue â€” graph2jpg","text":"Enregistrement d'un graphique avec une taille par dÃ©faut de 18 cm de large et un ratio de 4/3 Les paramÃ¨tres peuvent Ãªtre facilement modifiÃ©s","code":""},{"path":"https://ofce.github.io/ofce/reference/graph2jpg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enregistre un graphe en jpg Ã  la taille revue â€” graph2jpg","text":"","code":"graph2jpg(   graph,   file = \"\",   rep = \"svg\",   ratio = 4/3,   height = width/ratio,   width = 18,   units = \"cm\",   bg = \"white\",   quality = 100,   dpi = 600,   ... )"},{"path":"https://ofce.github.io/ofce/reference/graph2jpg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enregistre un graphe en jpg Ã  la taille revue â€” graph2jpg","text":"graph un objet graphique (grid, un ggplot plus communÃ©ment mais aussi un objet tmap) file Le chemin vers le fichier rÃ©sultat (string) rep le rÃ©pertoire dans lequel met les graphiques ratio le ratio entre largeu r et hauteur height la hauteur, si la hauteur est spÃ©cifiÃ©e la ratio est ignorÃ© width la largeur units l'unitÃ© (\"cm\" par exemple) bg couleur du fond (background) quality qualitÃ© du fichier (par dÃ©fault 100) dpi rÃ©solution du fichier image crÃ©e (par dÃ©fault 600) ... autres arguments Ã  passer dans la fonction","code":""},{"path":"https://ofce.github.io/ofce/reference/graph2jpg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enregistre un graphe en jpg Ã  la taille revue â€” graph2jpg","text":"l'objet en entrÃ©e, invisible, enregistre un .jpeg dans le rÃ©pertoire avec le nom donnÃ©","code":""},{"path":"https://ofce.github.io/ofce/reference/graph2png.html","id":null,"dir":"Reference","previous_headings":"","what":"Enregistre un graphe en png Ã  la taille revue â€” graph2png","title":"Enregistre un graphe en png Ã  la taille revue â€” graph2png","text":"Enregistrement d'un graphique avec une taille par dÃ©faut de 18 cm de large et un ratio de 4/3 Les paramÃ¨tres peuvent Ãªtre facilement modifiÃ©s. Le propblÃ¨me de la rÃ©solution est rÃ©solu (dsl) en utilisant showtext.","code":""},{"path":"https://ofce.github.io/ofce/reference/graph2png.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enregistre un graphe en png Ã  la taille revue â€” graph2png","text":"","code":"graph2png(   graph,   file = \"\",   rep = \"svg\",   ratio = 4/3,   height = width/ratio,   width = 18,   units = \"cm\",   bg = \"white\",   dpi = 600,   ... )"},{"path":"https://ofce.github.io/ofce/reference/graph2png.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enregistre un graphe en png Ã  la taille revue â€” graph2png","text":"graph un objet graphique (grid, un ggplot plus communÃ©ment mais aussi un objet tmap) file Le chemin vers le fichier rÃ©sultat (string) rep le rÃ©pertoire dans lequel met les graphiques ratio le ratio entre largeur et hauteur height la hauteur, si la hauteur est spÃ©cifiÃ©e la ratio est ignorÃ© width la largeur units l'unitÃ© (\"cm\" par exemple) bg couleur du fond (background) dpi rÃ©solution du fichier image crÃ©e (par dÃ©fault 600) ... autres arguments Ã  passer dans la fonction","code":""},{"path":"https://ofce.github.io/ofce/reference/graph2png.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enregistre un graphe en png Ã  la taille revue â€” graph2png","text":"l'objet en entrÃ©e, invisible, enregistre un .png dans le rÃ©pertoire avec le nom donnÃ©","code":""},{"path":"https://ofce.github.io/ofce/reference/graph2svg.html","id":null,"dir":"Reference","previous_headings":"","what":"Enregistre un graphe en svg Ã  la taille revue â€” graph2svg","title":"Enregistre un graphe en svg Ã  la taille revue â€” graph2svg","text":"Enregistrement d'un graphique avec une taille par dÃ©faut de 18 cm de large et un ratio de 4/3 Les paramÃ¨tres peuvent Ãªtre facilement modifiÃ©s","code":""},{"path":"https://ofce.github.io/ofce/reference/graph2svg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enregistre un graphe en svg Ã  la taille revue â€” graph2svg","text":"","code":"graph2svg(   graph,   file = \"\",   rep = \"svg\",   ratio = 4/3,   height = width/ratio,   width = 18,   units = \"cm\",   bg = \"white\",   ... )"},{"path":"https://ofce.github.io/ofce/reference/graph2svg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enregistre un graphe en svg Ã  la taille revue â€” graph2svg","text":"graph un objet graphique (grid, un ggplot plus communÃ©ment, mais aussi un objet tmap) file Le chemin vers le fichier rÃ©sultat (string) rep le rÃ©pertoire dans lequel met les graphiques ratio le ratio entre largeur et hauteur height la hauteur, si la hauteur est spÃ©cifiÃ©e la ratio est ignorÃ© width la largeur units l'unitÃ© (\"cm\" par exemple) bg couleur du fond (background) ... autres arguments Ã  passer dans la fonction","code":""},{"path":"https://ofce.github.io/ofce/reference/graph2svg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enregistre un graphe en svg Ã  la taille revue â€” graph2svg","text":"l'objet en entrÃ©e, invisible, enregistre un .svg dans le rÃ©pertoire avec le nom donnÃ©","code":""},{"path":"https://ofce.github.io/ofce/reference/if2si2.html","id":null,"dir":"Reference","previous_headings":"","what":"Transforme une chaÃ®ne formattÃ© SI en nombre â€” if2si2","title":"Transforme une chaÃ®ne formattÃ© SI en nombre â€” if2si2","text":"Transforme une chaÃ®ne formattÃ© SI en nombre","code":""},{"path":"https://ofce.github.io/ofce/reference/if2si2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transforme une chaÃ®ne formattÃ© SI en nombre â€” if2si2","text":"","code":"if2si2(text)"},{"path":"https://ofce.github.io/ofce/reference/if2si2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transforme une chaÃ®ne formattÃ© SI en nombre â€” if2si2","text":"text le nombre ou le vecteur de nombres formattÃ©s Ã  transformer","code":""},{"path":"https://ofce.github.io/ofce/reference/if2si2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transforme une chaÃ®ne formattÃ© SI en nombre â€” if2si2","text":"un nombre","code":""},{"path":"https://ofce.github.io/ofce/reference/if2si2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transforme une chaÃ®ne formattÃ© SI en nombre â€” if2si2","text":"","code":"if2si2(\"100k\") #>     k  #> 1e+05"},{"path":"https://ofce.github.io/ofce/reference/init_qmd.html","id":null,"dir":"Reference","previous_headings":"","what":"exÃ©cute le fichier rinit.R Ã  la racine du projet, ou dans _utils, ou en dessous. s'il ne le trouve pas il utilise une version par dÃ©faut, stockÃ©e dans le package et qui est copiÃ©e dans le rÃ©pertoire du projet â€” init_qmd","title":"exÃ©cute le fichier rinit.R Ã  la racine du projet, ou dans _utils, ou en dessous. s'il ne le trouve pas il utilise une version par dÃ©faut, stockÃ©e dans le package et qui est copiÃ©e dans le rÃ©pertoire du projet â€” init_qmd","text":"exÃ©cute le fichier rinit.R Ã  la racine du projet, ou dans _utils, ou en dessous. s'il ne le trouve pas il utilise une version par dÃ©faut, stockÃ©e dans le package et qui est copiÃ©e dans le rÃ©pertoire du projet","code":""},{"path":"https://ofce.github.io/ofce/reference/init_qmd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"exÃ©cute le fichier rinit.R Ã  la racine du projet, ou dans _utils, ou en dessous. s'il ne le trouve pas il utilise une version par dÃ©faut, stockÃ©e dans le package et qui est copiÃ©e dans le rÃ©pertoire du projet â€” init_qmd","text":"","code":"init_qmd(   init = \"rinit.r\",   echo = FALSE,   message = FALSE,   warning = FALSE,   local = getOption(\"ofce.init_qmd.local\") )"},{"path":"https://ofce.github.io/ofce/reference/init_qmd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"exÃ©cute le fichier rinit.R Ã  la racine du projet, ou dans _utils, ou en dessous. s'il ne le trouve pas il utilise une version par dÃ©faut, stockÃ©e dans le package et qui est copiÃ©e dans le rÃ©pertoire du projet â€” init_qmd","text":"init nom du fichier Ã  utiliser (\"rinit.r\" par dÃ©faut) echo (dÃ©faut FALSE) passÃ© aux chunks message (dÃ©faut FALSE) passÃ© aux chunks warning (dÃ©faut FALSE) passÃ© aux chunks","code":""},{"path":"https://ofce.github.io/ofce/reference/keywords_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Title keywords_list â€” keywords_list","title":"Title keywords_list â€” keywords_list","text":"Title keywords_list","code":""},{"path":"https://ofce.github.io/ofce/reference/keywords_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title keywords_list â€” keywords_list","text":"","code":"keywords_list()"},{"path":"https://ofce.github.io/ofce/reference/keywords_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title keywords_list â€” keywords_list","text":"message list words used","code":""},{"path":"https://ofce.github.io/ofce/reference/load_graphe.html","id":null,"dir":"Reference","previous_headings":"","what":"Lit un graphique sauvegardÃ© â€” load_graphe","title":"Lit un graphique sauvegardÃ© â€” load_graphe","text":"Lorsque ofce.savegraph est non NULL, chaque graphique qui passe dans girafy est enregistrÃ© dans le dossier ofce.savegraph. Son nom est formÃ© en ajoutant le dossier qui le contient, le nom du fichier .qmd, le label du fichier (sÃ©parÃ© par des tirets) par exmple : \"index-fig-psal\" ou \"france-synthese-fig-indicateurs\"","code":""},{"path":"https://ofce.github.io/ofce/reference/load_graphe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lit un graphique sauvegardÃ© â€” load_graphe","text":"","code":"load_graphe(graphe)"},{"path":"https://ofce.github.io/ofce/reference/load_graphe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Lit un graphique sauvegardÃ© â€” load_graphe","text":"graphe (string) nom du graphique composÃ© du dossier d'un tiret du nom du document d'un tiret et du label du graphique","code":""},{"path":"https://ofce.github.io/ofce/reference/load_graphe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Lit un graphique sauvegardÃ© â€” load_graphe","text":"un ggplot","code":""},{"path":"https://ofce.github.io/ofce/reference/logo_ofce.html","id":null,"dir":"Reference","previous_headings":"","what":"Logo de l'OFCE â€” logo_ofce","title":"Logo de l'OFCE â€” logo_ofce","text":"Ajoute le logo de l'OFCE sur le graphique","code":""},{"path":"https://ofce.github.io/ofce/reference/logo_ofce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Logo de l'OFCE â€” logo_ofce","text":"","code":"logo_ofce(size = 1)"},{"path":"https://ofce.github.io/ofce/reference/logo_ofce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Logo de l'OFCE â€” logo_ofce","text":"size (1 par dÃ©faut) la taille relative du logo (1 c'est bien)","code":""},{"path":"https://ofce.github.io/ofce/reference/logo_ofce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Logo de l'OFCE â€” logo_ofce","text":"un Ã©lÃ©ment ggplot ( + )","code":""},{"path":"https://ofce.github.io/ofce/reference/logo_ofce.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Logo de l'OFCE â€” logo_ofce","text":"","code":"if (FALSE) { # \\dontrun{ library(ggplot2) plot <- ggplot(mtcars) +         geom_point(aes(x=mpg, y=hp, size=cyl, col=gear)) +         theme_ofce() +         logo_ofce() } # }"},{"path":"https://ofce.github.io/ofce/reference/make_filename.html","id":null,"dir":"Reference","previous_headings":"","what":"make filename â€” make_filename","title":"make filename â€” make_filename","text":"make filename","code":""},{"path":"https://ofce.github.io/ofce/reference/make_filename.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"make filename â€” make_filename","text":"","code":"make_filename(x, file = \"\", rep = \"\", env, ext)"},{"path":"https://ofce.github.io/ofce/reference/make_filename.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"make filename â€” make_filename","text":"x nom de l'objet file nom du fichier crÃ©e (par dÃ©faut nom de x) rep stringr env environnement ext nom de l'extension du fichier (.png, .jpg,...)","code":""},{"path":"https://ofce.github.io/ofce/reference/make_filename.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"make filename â€” make_filename","text":"un nom de fichier","code":""},{"path":"https://ofce.github.io/ofce/reference/margin_download.html","id":null,"dir":"Reference","previous_headings":"","what":"Bouton de tÃ©lÃ©chargement â€” margin_download","title":"Bouton de tÃ©lÃ©chargement â€” margin_download","text":"Cette fonction peremt d'ajouter un bouton de tÃ©lchargement dans la marge d'un document quarto. Elle repose sur downloadthis et prÃ©pare le div pour son affichage correct. Elle doit Ãªtre appelÃ©e dans un chunk r avec results=\"asis\" impÃ©rativement.","code":""},{"path":"https://ofce.github.io/ofce/reference/margin_download.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bouton de tÃ©lÃ©chargement â€” margin_download","text":"","code":"margin_download(   data,   output_name = \"donnees\",   label = \"donnÃ©es\",   margin = TRUE,   output_extension = getOption(\"ofce.output_extension\"),   prefix = getOption(\"ofce.output_prefix\") )"},{"path":"https://ofce.github.io/ofce/reference/margin_download.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bouton de tÃ©lÃ©chargement â€” margin_download","text":"data les donnÃ©es Ã  tÃ©Ã©lcharger (un tibble donc) output_name (\"donnÃ©es\" par dÃ©faut) le nom du fichier de sortie label (\"donnÃ©es\") le nom du bouton qui apparaÃ®t dans le rendu du quarto margin (TRUE) si FALSE le bouton est inline (non implÃ©mentÃ© pour le moment) prefix prÃ©fixe pour les fichiers tÃ©lÃ©chargÃ©s (ofce.output_prefix par dÃ©faut) format format du ficher Ã  tÃ©lÃ©charger, mis en option du package ( ofce.output_extension par dÃ©faut), peut Ãªtre \".csv\", \".xlsx\"","code":""},{"path":"https://ofce.github.io/ofce/reference/margin_download.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bouton de tÃ©lÃ©chargement â€” margin_download","text":"NULL (side effect : du markdown)","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_align_decimal.html","id":null,"dir":"Reference","previous_headings":"","what":"Aligne sur le sÃ©parateur dÃ©cimal (,) â€” ofce_align_decimal","title":"Aligne sur le sÃ©parateur dÃ©cimal (,) â€” ofce_align_decimal","text":"Si aucune colonne n'est passÃ©e en paramÃ¨tre, alors toutes les colonnes numÃ©riques sont alignÃ©es.","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_align_decimal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aligne sur le sÃ©parateur dÃ©cimal (,) â€” ofce_align_decimal","text":"","code":"ofce_align_decimal(data, columns = tidyselect::where(is.numeric))"},{"path":"https://ofce.github.io/ofce/reference/ofce_align_decimal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aligne sur le sÃ©parateur dÃ©cimal (,) â€” ofce_align_decimal","text":"data le tableau gt passÃ© en paramÃ¨tre columns les colonnes sÃ©lectionnÃ©es","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_align_decimal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aligne sur le sÃ©parateur dÃ©cimal (,) â€” ofce_align_decimal","text":"un tableau gt","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/ofce_align_decimal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aligne sur le sÃ©parateur dÃ©cimal (,) â€” ofce_align_decimal","text":"","code":"head(mtcars) |> gt::gt() |> ofce_align_decimals(qsec) #> Error in ofce_align_decimals(gt::gt(head(mtcars)), qsec): could not find function \"ofce_align_decimals\""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption.html","id":null,"dir":"Reference","previous_headings":"","what":"fabricateur de source â€” ofce_caption","title":"fabricateur de source â€” ofce_caption","text":"permet de construire un caption facilement avec un wrapping, le passage dans glue et la traduction marquee (pour ggplot)","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fabricateur de source â€” ofce_caption","text":"","code":"ofce_caption(object = NULL, ...)"},{"path":"https://ofce.github.io/ofce/reference/ofce_caption.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fabricateur de source â€” ofce_caption","text":"... autres paramÃ¨tres source texte de la source (sans le mot source qui est rajoutÃ©) note texte de la note (sans le mot note qui est rajoutÃ©) lecture texte de la note de lecture (sans le mot lecture qui est rajoutÃ©) champ texte du champ (sans le mot champ qui est rajoutÃ©) code texte du code (sans le mot code qui est rajoutÃ©) xlab inclu le label de l'axe des x (pour le traduire avec marquee/glue) ylab inclu le label de l'axe des y (pour le traduire avec marquee/glue) subtitle inclu le label du sous titre (pour le traduire avec marquee/glue) title inclu le titre (traduit aussi) dpt dernier point connu dptf frÃ©quence du dernier point connu (day, month, quarter, year) wrap largeur du texte en charactÃ¨res (120 charactÃ¨res par dÃ©faut, 0 ou NULL si utilise marquee) ofce (bool) si TRUE ajoute calculs OFCE Ã  source, sinon rien, TRUE par dÃ©faut author (bool) si TRUE ajoute calculs des auteurs Ã  source, sinon rien, FALSE par dÃ©faut srcplus (string) chaine (comme calculs OFCE) Ã  ajouter Ã  source (Ã  la fin) lang langue des textes (fr par dÃ©faut) marquee_translate transforme ^x^ en .sup x et ~x~ en .sub x glue applique glue avant toute chose","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fabricateur de source â€” ofce_caption","text":"un object de type variable","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"fabricateur de source â€” ofce_caption","text":"commence par la source, une note, et une lecture","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"fabricateur de source â€” ofce_caption","text":"","code":"library(ggplot2) ggplot(mtcars)+geom_point(aes(x=hp, y=disp)) + theme_ofce(marquee=TRUE) + ofce_caption(source=\"INSEE\")  head(mtcars) |> gt::gt() |> ofce_caption(source=\"INSEE\")     mpg       cyl       disp       hp       drat       wt       qsec       vs       am       gear       carb     21.0 6 160 110 3.90 2.620 16.46 0 1 4 421.0 6 160 110 3.90 2.875 17.02 0 1 4 422.8 4 108 93 3.85 2.320 18.61 1 1 4 121.4 6 258 110 3.08 3.215 19.44 1 0 3 118.7 8 360 175 3.15 3.440 17.02 0 0 3 218.1 6 225 105 2.76 3.460 20.22 1 0 3 1Sources : INSEE, calculs OFCE."},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_ggplot.html","id":null,"dir":"Reference","previous_headings":"","what":"fabricateur de source pour les graphiques â€” ofce_caption_ggplot","title":"fabricateur de source pour les graphiques â€” ofce_caption_ggplot","text":"permet de construire un caption facilement avec un wrapping, le passage dans glue et la traduction marquee (pour ggplot)","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_ggplot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fabricateur de source pour les graphiques â€” ofce_caption_ggplot","text":"","code":"ofce_caption_ggplot(   source = \"\",   note = \"\",   lecture = \"\",   champ = \"\",   code = \"\",   dpt = \"\",   xlab = \"\",   ylab = \"\",   subtitle = \"\",   title = \"\",   dptf = \"month\",   wrap = ifelse(getOption(\"ofce.marquee\"), 0, getOption(\"ofce.caption.wrap\")),   lang = getOption(\"ofce.caption.lang\"),   ofce = getOption(\"ofce.caption.ofce\"),   author = getOption(\"ofce.caption.author\"),   srcplus = getOption(\"ofce.caption.srcplus\"),   marquee_translate = ifelse(getOption(\"ofce.marquee\"), TRUE,     getOption(\"ofce.caption.marquee_translate\")),   glue = getOption(\"ofce.caption.glue\"),   ... )"},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_ggplot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fabricateur de source pour les graphiques â€” ofce_caption_ggplot","text":"source texte de la source (sans le mot source qui est rajoutÃ©) note texte de la note (sans le mot note qui est rajoutÃ©) lecture texte de la note de lecture (sans le mot lecture qui est rajoutÃ©) champ texte du champ (sans le mot champ qui est rajoutÃ©) code texte du code (sans le mot code qui est rajoutÃ©) dpt dernier point connu xlab inclu le label de l'axe des x (pour le traduire avec marquee/glue) ylab inclu le label de l'axe des y (pour le traduire avec marquee/glue) subtitle inclu le label du sous titre (pour le traduire avec marquee/glue) title inclu le titre (traduit aussi) dptf frÃ©quence du dernier point connu (day, month, quarter, year) wrap largeur du texte en charactÃ¨res (120 charactÃ¨res par dÃ©faut, 0 ou NULL si utilise marquee) lang langue des textes (fr par dÃ©faut) ofce (bool) si TRUE ajoute calculs OFCE Ã  source, sinon rien, TRUE par dÃ©faut author (bool) si TRUE ajoute calculs des auteurs Ã  source, sinon rien, FALSE par dÃ©faut srcplus (string) chaine (comme calculs OFCE) Ã  ajouter Ã  source (Ã  la fin) marquee_translate transforme ^x^ en .sup x et ~x~ en .sub x glue applique glue avant toute chose ... autres paramÃ¨tres","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_ggplot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fabricateur de source pour les graphiques â€” ofce_caption_ggplot","text":"ggplot2 caption (ggplot() + ofce_caption(\"INSEE\"))","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_ggplot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"fabricateur de source pour les graphiques â€” ofce_caption_ggplot","text":"commence par la source, une note, et une lecture","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_gt.html","id":null,"dir":"Reference","previous_headings":"","what":"fabricateur de source pour les tableaux â€” ofce_caption_gt","title":"fabricateur de source pour les tableaux â€” ofce_caption_gt","text":"permet de construire un caption facilement avec un wrapping, le passage dans glue","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_gt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fabricateur de source pour les tableaux â€” ofce_caption_gt","text":"","code":"ofce_caption_gt(   object,   source = \"\",   note = \"\",   lecture = \"\",   champ = \"\",   code = \"\",   dpt = \"\",   subtitle = \"\",   title = \"\",   dptf = \"month\",   wrap = ifelse(getOption(\"ofce.marquee\"), 0, getOption(\"ofce.caption.wrap\")),   lang = getOption(\"ofce.caption.lang\"),   ofce = getOption(\"ofce.caption.ofce\"),   author = getOption(\"ofce.caption.author\"),   srcplus = getOption(\"ofce.caption.srcplus\"),   marquee_translate = ifelse(getOption(\"ofce.marquee\"), TRUE,     getOption(\"ofce.caption.marquee_translate\")),   glue = getOption(\"ofce.caption.glue\"),   ... )"},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_gt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fabricateur de source pour les tableaux â€” ofce_caption_gt","text":"object l'objet gt source texte de la source (sans le mot source qui est rajoutÃ©) note texte de la note (sans le mot note qui est rajoutÃ©) lecture texte de la note de lecture (sans le mot lecture qui est rajoutÃ©) champ texte du champ (sans le mot champ qui est rajoutÃ©) code texte du code (sans le mot code qui est rajoutÃ©) dpt dernier point connu subtitle inclu le label du sous titre (pour le traduire avec marquee/glue) title inclu le titre (traduit aussi) dptf frÃ©quence du dernier point connu (day, month, quarter, year) wrap largeur du texte en charactÃ¨res (120 charactÃ¨res par dÃ©faut, 0 ou NULL si utilise marquee) lang langue des textes (fr par dÃ©faut) ofce (bool) si TRUE ajoute calculs OFCE Ã  source, sinon rien, TRUE par dÃ©faut author (bool) si TRUE ajoute calculs des auteurs Ã  source, sinon rien, FALSE par dÃ©faut srcplus (string) chaine (comme calculs OFCE) Ã  ajouter Ã  source (Ã  la fin) marquee_translate transforme ^x^ en .sup x et ~x~ en .sub x glue applique glue avant toute chose ... autres paramÃ¨tres","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_gt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fabricateur de source pour les tableaux â€” ofce_caption_gt","text":"un objet gt (gt() |> ofce_caption_gt(\"INSEE\"))","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_caption_gt.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"fabricateur de source pour les tableaux â€” ofce_caption_gt","text":"commence par la source, une note, et une lecture","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_cols_fill.html","id":null,"dir":"Reference","previous_headings":"","what":"Teinte les colonnes choisies en fond de couleur â€” ofce_cols_fill","title":"Teinte les colonnes choisies en fond de couleur â€” ofce_cols_fill","text":"Teinte les colonnes choisies en fond de couleur","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_cols_fill.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Teinte les colonnes choisies en fond de couleur â€” ofce_cols_fill","text":"","code":"ofce_cols_fill(data, columns, fill = getOption(\"ofce.tab.fill\"))"},{"path":"https://ofce.github.io/ofce/reference/ofce_cols_fill.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Teinte les colonnes choisies en fond de couleur â€” ofce_cols_fill","text":"data le tableau gt passÃ© en paramÃ¨tre columns les colonnes Ã  teinter fill la couleur (par dÃ©faut \"#FFEDED\")","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_cols_fill.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Teinte les colonnes choisies en fond de couleur â€” ofce_cols_fill","text":"tableau gt","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_cols_fill.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Teinte les colonnes choisies en fond de couleur â€” ofce_cols_fill","text":"","code":"head(mtcars) |> gt::gt() |> ofce_cols_fill(disp) #> Error in tab_style(data, style = cell_fill(color = fill), locations = cells_body(columns = {    {        columns    }})): could not find function \"tab_style\""},{"path":"https://ofce.github.io/ofce/reference/ofce_fmt_decimal.html","id":null,"dir":"Reference","previous_headings":"","what":"Formate en franÃ§ais les nombres â€” ofce_fmt_decimal","title":"Formate en franÃ§ais les nombres â€” ofce_fmt_decimal","text":"Formate en franÃ§ais les nombres","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_fmt_decimal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formate en franÃ§ais les nombres â€” ofce_fmt_decimal","text":"","code":"ofce_fmt_decimal(   data,   columns = tidyselect::where(is.numeric),   rows = tidyselect::everything(),   decimals = 1 )"},{"path":"https://ofce.github.io/ofce/reference/ofce_fmt_decimal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formate en franÃ§ais les nombres â€” ofce_fmt_decimal","text":"data le tableau gt passÃ© en paramÃ¨tres columns les colonnes sÃ©lectionnÃ©es (tout ce qui est numÃ©rique par dÃ©faut) rows les lignes sÃ©lectionnÃ©es (tout par dÃ©faut) decimals (le nombre de chiffres aprÃ¨s la , 1 par dÃ©faut)","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_fmt_decimal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formate en franÃ§ais les nombres â€” ofce_fmt_decimal","text":"un tableau gt","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/ofce_fmt_decimal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Formate en franÃ§ais les nombres â€” ofce_fmt_decimal","text":"","code":"head(mtcars) |> gt::gt() |> ofce_fmt_decimals() #> Error in ofce_fmt_decimals(gt::gt(head(mtcars))): could not find function \"ofce_fmt_decimals\""},{"path":"https://ofce.github.io/ofce/reference/ofce_hide_col_pdf.html","id":null,"dir":"Reference","previous_headings":"","what":"Masque des colonnes en pdf â€” ofce_hide_col_pdf","title":"Masque des colonnes en pdf â€” ofce_hide_col_pdf","text":"Lorsqu'utilise des colonnes qui peuvent bloquer en pdf, comme les nanoplots, cette fonction sert Ã  les enlever sÃ©lectivement.","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_hide_col_pdf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Masque des colonnes en pdf â€” ofce_hide_col_pdf","text":"","code":"ofce_hide_col_pdf(tbl, col)"},{"path":"https://ofce.github.io/ofce/reference/ofce_hide_col_pdf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Masque des colonnes en pdf â€” ofce_hide_col_pdf","text":"tbl le gt passÃ© en paramÃ¨tre col les colonnes sÃ©lectionnÃ©es","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_hide_col_pdf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Masque des colonnes en pdf â€” ofce_hide_col_pdf","text":"un gt","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_hide_col_pdf.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Masque des colonnes en pdf â€” ofce_hide_col_pdf","text":"Encore Ã  tester avec typst","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/ofce_hide_col_pdf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Masque des colonnes en pdf â€” ofce_hide_col_pdf","text":"","code":"head(mtcars) |> gt::gt() |> cols_hide_pdf(disp) #> Error in cols_hide_pdf(gt::gt(head(mtcars)), disp): could not find function \"cols_hide_pdf\""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette.html","id":null,"dir":"Reference","previous_headings":"","what":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette","text":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette","text":"","code":"ofce_palette(n = 2)"},{"path":"https://ofce.github.io/ofce/reference/ofce_palette.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette","text":"n number un nombre de couleurs Ã  retenir pour la palette","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette","text":"un vector de couleurs de taille compris entre 2 et 5","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette","text":"","code":"ofce_palette(n = 2) #> [1] \"#185CA1\" \"#D40F14\""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_div.html","id":null,"dir":"Reference","previous_headings":"","what":"Palette de couleurs associÃ©e de type divergente qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleurs compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_div","title":"Palette de couleurs associÃ©e de type divergente qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleurs compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_div","text":"Palette de couleurs associÃ©e de type divergente qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleurs compatible avec les normes graphiques de la revue OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_div.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Palette de couleurs associÃ©e de type divergente qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleurs compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_div","text":"","code":"ofce_palette_div(colors = c(\"#005DA4\", \"#C51315\"), n = NULL)"},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_div.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Palette de couleurs associÃ©e de type divergente qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleurs compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_div","text":"colors un vecteur de deux couleurs Ã  partir duquel la palette est gÃ©nÃ©rÃ©e. n integer, nombre de couleurs","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_div.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Palette de couleurs associÃ©e de type divergente qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleurs compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_div","text":"un vecteur de couleurs de taille n","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_div.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Palette de couleurs associÃ©e de type divergente qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleurs compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_div","text":"","code":"ofce_palette_div(n = 4) #> [1] \"#005DA4\" \"#2263A6\" \"#9E4545\" \"#993D3D\""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_new.html","id":null,"dir":"Reference","previous_headings":"","what":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_new","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_new","text":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_new.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_new","text":"","code":"ofce_palette_new(set = NULL)"},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_new.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_new","text":"set choix du jeu de couleurs qui va Ãªtre retenu","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_new.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_new","text":"un vector de couleurs de taille compris entre 2 et 5","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_new.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Palette de cinq couleurs principales compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_new","text":"","code":"ofce_palette(n = 2) #> [1] \"#185CA1\" \"#D40F14\""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_pays.html","id":null,"dir":"Reference","previous_headings":"","what":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_pays","title":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_pays","text":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_pays.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_pays","text":"","code":"ofce_palette_pays(list_iso3 = NULL, HEX = NULL, RVB = NULL)"},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_pays.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_pays","text":"list_iso3 chr, une liste de nom de pays HEX boolean (default) set TRUE color code HEX RVB boolean set TRUE color code RVB","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_pays.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_pays","text":"une palette de couleur (format HEX)","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_seq.html","id":null,"dir":"Reference","previous_headings":"","what":"Palette de couleurs associÃ©e de type sequentiel qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleur compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_seq","title":"Palette de couleurs associÃ©e de type sequentiel qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleur compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_seq","text":"Palette de couleurs associÃ©e de type sequentiel qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleur compatible avec les normes graphiques de la revue OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_seq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Palette de couleurs associÃ©e de type sequentiel qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleur compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_seq","text":"","code":"ofce_palette_seq(colors = c(\"#005DA4\", \"#C51315\"), n = NULL)"},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_seq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Palette de couleurs associÃ©e de type sequentiel qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleur compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_seq","text":"colors vecteur de deux couleurs Ã  partir duquel la palette est gÃ©nÃ©rÃ©e n integer, nombre de couleurs","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_palette_seq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Palette de couleurs associÃ©e de type sequentiel qui Ã  partir de deux codes HEX gÃ©nÃ¨re une palette de n couleur compatible avec les normes graphiques de la revue OFCE â€” ofce_palette_seq","text":"une palette de couleurs (format HEX)","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_row_bold.html","id":null,"dir":"Reference","previous_headings":"","what":"Met en gras une ligne â€” ofce_row_bold","title":"Met en gras une ligne â€” ofce_row_bold","text":"Met en gras une ligne","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_row_bold.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Met en gras une ligne â€” ofce_row_bold","text":"","code":"ofce_row_bold(data, row = everything())"},{"path":"https://ofce.github.io/ofce/reference/ofce_row_bold.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Met en gras une ligne â€” ofce_row_bold","text":"data le tableau gt passÃ© en paramÃ¨tre row le sÃ©lecteur de la ligne","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_row_bold.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Met en gras une ligne â€” ofce_row_bold","text":"un tableau gt","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/ofce_row_bold.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Met en gras une ligne â€” ofce_row_bold","text":"","code":"head(mtcars) |> gt() |> ofce_row_bold(gear == 4) #> Error in tab_style(data, style = cell_text(weight = \"bold\"), locations = cells_body(rows = {    {        row    }})): could not find function \"tab_style\""},{"path":"https://ofce.github.io/ofce/reference/ofce_row_italic.html","id":null,"dir":"Reference","previous_headings":"","what":"Mets une ligne en italique â€” ofce_row_italic","title":"Mets une ligne en italique â€” ofce_row_italic","text":"Mets une ligne en italique","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_row_italic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mets une ligne en italique â€” ofce_row_italic","text":"","code":"ofce_row_italic(data, row = everything())"},{"path":"https://ofce.github.io/ofce/reference/ofce_row_italic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mets une ligne en italique â€” ofce_row_italic","text":"data le tableau gt passÃ© en paramÃ¨tre row le sÃ©lecteur de ligne","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_row_italic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mets une ligne en italique â€” ofce_row_italic","text":"un tableau gt","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/ofce_row_italic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mets une ligne en italique â€” ofce_row_italic","text":"","code":"head(mtcars) |> gt::gt() |> ofce_row_italic(gear == 4) #> Error in tab_style(data, style = cell_text(style = \"italic\"), locations = cells_body(rows = {    {        row    }})): could not find function \"tab_style\""},{"path":"https://ofce.github.io/ofce/reference/ofce_spanners_bold.html","id":null,"dir":"Reference","previous_headings":"","what":"Mets les spanners en gras â€” ofce_spanners_bold","title":"Mets les spanners en gras â€” ofce_spanners_bold","text":"Mets les spanners en gras","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_spanners_bold.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mets les spanners en gras â€” ofce_spanners_bold","text":"","code":"ofce_spanners_bold(data)"},{"path":"https://ofce.github.io/ofce/reference/ofce_spanners_bold.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mets les spanners en gras â€” ofce_spanners_bold","text":"data le tableau gt passÃ© en paramÃ¨tre","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_spanners_bold.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mets les spanners en gras â€” ofce_spanners_bold","text":"un tableau gt","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/ofce_spanners_bold.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mets les spanners en gras â€” ofce_spanners_bold","text":"","code":"head(mtcars) |> gt::gt() |> gt::tab_spanner(\"spanner A\", c(am, gear, carb)) |> ofce_spanners_bold() #> Error in tab_style(data, style = cell_text(weight = \"bold\"), locations = gt::cells_column_spanners()): could not find function \"tab_style\""},{"path":"https://ofce.github.io/ofce/reference/ofce_tab_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Options de tableau gt par dÃ©faut pour les standards OFCE â€” ofce_tab_options","title":"Options de tableau gt par dÃ©faut pour les standards OFCE â€” ofce_tab_options","text":"Applique des options de style cohÃ©rentes aux tableaux gt selon les standards graphiques de l'OFCE. Configure la taille des polices, les espacements, les bordures et les marques de notes de bas de page.","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_tab_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Options de tableau gt par dÃ©faut pour les standards OFCE â€” ofce_tab_options","text":"","code":"ofce_tab_options(data, ...)"},{"path":"https://ofce.github.io/ofce/reference/ofce_tab_options.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Options de tableau gt par dÃ©faut pour les standards OFCE â€” ofce_tab_options","text":"data Un objet gt table ... Arguments supplÃ©mentaires passÃ©s Ã  gt::tab_options() qui remplaceront les valeurs par dÃ©faut OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_tab_options.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Options de tableau gt par dÃ©faut pour les standards OFCE â€” ofce_tab_options","text":"Un objet gt table avec les options de style appliquÃ©es","code":""},{"path":"https://ofce.github.io/ofce/reference/ofce_tab_options.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Options de tableau gt par dÃ©faut pour les standards OFCE â€” ofce_tab_options","text":"Les options par dÃ©faut appliquÃ©es sont : footnotes.font.size = \"90%\" - Taille rÃ©duite pour les notes source_notes.font.size = \"100%\" - Taille normale pour les sources quarto.disable_processing = TRUE - DÃ©sactive le traitement Quarto table_body.hlines.style = \"none\" - Pas de lignes horizontales dans le corps column_labels.padding = 3 - Espacement des en-tÃªtes de colonnes data_row.padding = 2 - Espacement des lignes de donnÃ©es footnotes.multiline = FALSE - Notes sur une seule ligne footnotes.padding = 5 - Espacement des notes source_notes.padding = 2 - Espacement des sources table.border.bottom.style = \"none\" - Pas de bordure infÃ©rieure row_group.padding = 2 - Espacement des groupes de lignes Les marques de notes de bas de page utilisent des lettres (, b, c, etc.) via gt::opt_footnote_marks().","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/ofce_tab_options.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Options de tableau gt par dÃ©faut pour les standards OFCE â€” ofce_tab_options","text":"","code":"library(gt) library(dplyr) #>  #> Attaching package: â€˜dplyrâ€™ #> The following objects are masked from â€˜package:statsâ€™: #>  #>     filter, lag #> The following objects are masked from â€˜package:baseâ€™: #>  #>     intersect, setdiff, setequal, union  # Tableau simple avec options OFCE mtcars |>   head() |>   gt() |>   ofce_tab_options() #> Error in gt::tab_options(data, ...): formal argument \"table.border.bottom.style\" matched by multiple actual arguments  # Remplacer certaines options par dÃ©faut mtcars |>   head() |>   gt() |>   ofce_tab_options(     table.font.size = \"12px\",     data_row.padding = 4   ) #> Error in gt::tab_options(data, ...): formal argument \"table.border.bottom.style\" matched by multiple actual arguments"},{"path":"https://ofce.github.io/ofce/reference/palette_degrades.html","id":null,"dir":"Reference","previous_headings":"","what":"palette_degrades â€” palette_degrades","title":"palette_degrades â€” palette_degrades","text":"Description.","code":""},{"path":"https://ofce.github.io/ofce/reference/palette_degrades.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"palette_degrades â€” palette_degrades","text":"","code":"palette_degrades"},{"path":"https://ofce.github.io/ofce/reference/palette_degrades.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"palette_degrades â€” palette_degrades","text":"data frame 26 rows 2 variables: Nom character Code character","code":""},{"path":"https://ofce.github.io/ofce/reference/palette_degrades.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"palette_degrades â€” palette_degrades","text":"Source","code":""},{"path":"https://ofce.github.io/ofce/reference/palette_pays.html","id":null,"dir":"Reference","previous_headings":"","what":"palette_pays â€” palette_pays","title":"palette_pays â€” palette_pays","text":"Description.","code":""},{"path":"https://ofce.github.io/ofce/reference/palette_pays.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"palette_pays â€” palette_pays","text":"","code":"palette_pays"},{"path":"https://ofce.github.io/ofce/reference/palette_pays.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"palette_pays â€” palette_pays","text":"data frame 41 rows 5 variables: ISO3 character label_fr character label_en character HEX character R-V-B character","code":""},{"path":"https://ofce.github.io/ofce/reference/palette_pays.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"palette_pays â€” palette_pays","text":"Source","code":""},{"path":"https://ofce.github.io/ofce/reference/palette_principale.html","id":null,"dir":"Reference","previous_headings":"","what":"palette_principale â€” palette_principale","title":"palette_principale â€” palette_principale","text":"Description.","code":""},{"path":"https://ofce.github.io/ofce/reference/palette_principale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"palette_principale â€” palette_principale","text":"","code":"palette_principale"},{"path":"https://ofce.github.io/ofce/reference/palette_principale.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"palette_principale â€” palette_principale","text":"data frame 8 rows 4 variables: Nom numeric Code character R-V-B character Observations character","code":""},{"path":"https://ofce.github.io/ofce/reference/palette_principale.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"palette_principale â€” palette_principale","text":"Source","code":""},{"path":"https://ofce.github.io/ofce/reference/pathify.html","id":null,"dir":"Reference","previous_headings":"","what":"dÃ©roule le chemin Ã  partir du dÃ©but du projet â€” pathify","title":"dÃ©roule le chemin Ã  partir du dÃ©but du projet â€” pathify","text":"Lorsque le chemin commence par un \"/\", il est calculÃ© Ã  partir de la racine du projet","code":""},{"path":"https://ofce.github.io/ofce/reference/pathify.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"dÃ©roule le chemin Ã  partir du dÃ©but du projet â€” pathify","text":"","code":"pathify(path, root = NULL)"},{"path":"https://ofce.github.io/ofce/reference/pathify.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"dÃ©roule le chemin Ã  partir du dÃ©but du projet â€” pathify","text":"path chemin root racine (absolu), NULL par dÃ©faut","code":""},{"path":"https://ofce.github.io/ofce/reference/pathify.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"dÃ©roule le chemin Ã  partir du dÃ©but du projet â€” pathify","text":"chemin absolu (string)","code":""},{"path":"https://ofce.github.io/ofce/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages â€” reexports","title":"Objects exported from other packages â€” reexports","text":"objects imported packages. Follow links see documentation. sourcoise sourcoise, sourcoise_clear, sourcoise_refresh, sourcoise_status","code":""},{"path":"https://ofce.github.io/ofce/reference/save_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"Enregistre un graphe â€” save_graph","title":"Enregistre un graphe â€” save_graph","text":"Enregistre un graphe","code":""},{"path":"https://ofce.github.io/ofce/reference/save_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enregistre un graphe â€” save_graph","text":"","code":"save_graph(   graph,   label = NULL,   chunk = knitr::opts_current$get(),   document = knitr::current_input(),   id = NULL,   dest = getOption(\"ofce.savegraph.dir\") )"},{"path":"https://ofce.github.io/ofce/reference/save_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enregistre un graphe â€” save_graph","text":"graph le ggplot label son label (mis Ã  partir de knitr si possible) chunk les infos de chunk (de knitr) document le nom du document qmd (Ã  partir de quarto) id un id pour les tabset dest le dossier de sauvegarde (ofce.savegraph)","code":""},{"path":"https://ofce.github.io/ofce/reference/save_graph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enregistre un graphe â€” save_graph","text":"le graphique, avec un effet de bord qui est le ggplot enregistrÃ©","code":""},{"path":"https://ofce.github.io/ofce/reference/scale_color_pays.html","id":null,"dir":"Reference","previous_headings":"","what":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” scale_color_pays","title":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” scale_color_pays","text":"Le code \"oth\" correspond Ã  \"Autres\" et propose un gris clair.","code":""},{"path":"https://ofce.github.io/ofce/reference/scale_color_pays.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” scale_color_pays","text":"","code":"scale_color_pays(   format = \"iso3\",   lang = \"fr\",   name = NULL,   aesthetics = c(\"color\", \"fill\"),   ... )"},{"path":"https://ofce.github.io/ofce/reference/scale_color_pays.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” scale_color_pays","text":"format chr, le format des donnÃ©es (\"iso3\", \"eurostat\", \"fr\" pour les noms en clair, et tous les codes qu'accepte countrycode::countrycode) lang chr, le choix de la langue c(\"fr\",\"en\") name titre de la lÃ©gende aesthetics couleur ou fill ou les deux ... passÃ© Ã  scale_colour_manual","code":""},{"path":"https://ofce.github.io/ofce/reference/scale_color_pays.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Palette de couleur associÃ©e Ã  un sous-ensemble de pays, compatible avec les normes graphiques de la revue OFCE â€” scale_color_pays","text":"un scale configurÃ©","code":""},{"path":"https://ofce.github.io/ofce/reference/scale_ofce_date.html","id":null,"dir":"Reference","previous_headings":"","what":"Echelle pour les x du format habituel des grahiques Ã  date â€” scale_ofce_date","title":"Echelle pour les x du format habituel des grahiques Ã  date â€” scale_ofce_date","text":"Echelle pour les x du format habituel des grahiques Ã  date","code":""},{"path":"https://ofce.github.io/ofce/reference/scale_ofce_date.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Echelle pour les x du format habituel des grahiques Ã  date â€” scale_ofce_date","text":"","code":"scale_ofce_date(   date_breaks = \"5 years\",   labels = NULL,   date_minor_breaks = \"1 year\",   date_labels = \"%Y\",   guide = \"minor_breaks\",   name = NULL,   expand = expansion(mult = c(0.03, 0.03)),   ... )"},{"path":"https://ofce.github.io/ofce/reference/scale_ofce_date.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Echelle pour les x du format habituel des grahiques Ã  date â€” scale_ofce_date","text":"date liste de date freq soit day, month, quarter, year lang langue de retour","code":""},{"path":"https://ofce.github.io/ofce/reference/scale_ofce_date.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Echelle pour les x du format habituel des grahiques Ã  date â€” scale_ofce_date","text":"chaine de charactÃ¨res","code":""},{"path":"https://ofce.github.io/ofce/reference/set_cache_rep.html","id":null,"dir":"Reference","previous_headings":"","what":"rÃ©pertoire de cache persistant â€” set_cache_rep","title":"rÃ©pertoire de cache persistant â€” set_cache_rep","text":"rÃ©pertoire de cache persistant","code":""},{"path":"https://ofce.github.io/ofce/reference/set_cache_rep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"rÃ©pertoire de cache persistant â€” set_cache_rep","text":"","code":"set_cache_rep(cache_rep = find_cache_rep())"},{"path":"https://ofce.github.io/ofce/reference/set_cache_rep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"rÃ©pertoire de cache persistant â€” set_cache_rep","text":"cache_rep (character) le rÃ©pertoire","code":""},{"path":"https://ofce.github.io/ofce/reference/set_cache_rep.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"rÃ©pertoire de cache persistant â€” set_cache_rep","text":"rien","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/set_faicon_reveal.html","id":null,"dir":"Reference","previous_headings":"","what":"Modifie l'icÃ´ne de titre pour la prÃ©sentation â€” set_faicon_reveal","title":"Modifie l'icÃ´ne de titre pour la prÃ©sentation â€” set_faicon_reveal","text":"Attention cette fonction est un hack en attendant mieux Elle est assez fragile et peut ne pas fonctionner","code":""},{"path":"https://ofce.github.io/ofce/reference/set_faicon_reveal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modifie l'icÃ´ne de titre pour la prÃ©sentation â€” set_faicon_reveal","text":"","code":"set_faicon_reveal(path = \".\", unicode = \"f101\")"},{"path":"https://ofce.github.io/ofce/reference/set_faicon_reveal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modifie l'icÃ´ne de titre pour la prÃ©sentation â€” set_faicon_reveal","text":"path chemin vers la prÃ©sentation Ã  modifier (le dossier qui contient la prÃ©sentation) icon code unicode hexa de l'icone (f101 par dÃ©faut)","code":""},{"path":"https://ofce.github.io/ofce/reference/set_fontsize_reveal.html","id":null,"dir":"Reference","previous_headings":"","what":"Modifie la taille de police pour revealjs â€” set_fontsize_reveal","title":"Modifie la taille de police pour revealjs â€” set_fontsize_reveal","text":"Attention cette fonction est un hack en attendant mieux Elle est assez fragile et peut ne pas fonctionner","code":""},{"path":"https://ofce.github.io/ofce/reference/set_fontsize_reveal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modifie la taille de police pour revealjs â€” set_fontsize_reveal","text":"","code":"set_fontsize_reveal(path = \".\", size = 20)"},{"path":"https://ofce.github.io/ofce/reference/set_fontsize_reveal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modifie la taille de police pour revealjs â€” set_fontsize_reveal","text":"path chemin vers la prÃ©sentation Ã  modifier (le dossier qui contient la prÃ©sentation) size taille en \"px\" de la police pour revealjs (20 par dÃ©faut)","code":""},{"path":"https://ofce.github.io/ofce/reference/set_justify.html","id":null,"dir":"Reference","previous_headings":"","what":"Modifie la justification des textes en HTML â€” set_justify","title":"Modifie la justification des textes en HTML â€” set_justify","text":"Attention cette fonction est un hack en attendant mieux Elle est assez fragile et peut ne pas fonctionner","code":""},{"path":"https://ofce.github.io/ofce/reference/set_justify.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modifie la justification des textes en HTML â€” set_justify","text":"","code":"set_justify(path = \".\", justify = TRUE, ext = \"ofce\")"},{"path":"https://ofce.github.io/ofce/reference/set_justify.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modifie la justification des textes en HTML â€” set_justify","text":"path chemin vers le ou les documents HTML justify (boolean) TRUE pour justifier, FALSE pour aligner Ã  gauche ext (string) extension des fichiers Ã  modifier (ofce par dÃ©faut)","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_RStudio.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset RStudio prefs â€” setup_RStudio","title":"Reset RStudio prefs â€” setup_RStudio","text":"Principalement, pas d'enregistrement de l'environnement, pipe natif, ragg en backend graphique","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_RStudio.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset RStudio prefs â€” setup_RStudio","text":"","code":"setup_RStudio(theme = \"iPlastic\", right_console = TRUE)"},{"path":"https://ofce.github.io/ofce/reference/setup_RStudio.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reset RStudio prefs â€” setup_RStudio","text":"theme Theme Ã  utiliser (dÃ©faut \"iPlastic\") right_console Met la console Ã  droite (dÃ©faut TRUE)","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_RStudio.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reset RStudio prefs â€” setup_RStudio","text":"","code":"if(interactive()) setup_RStudio()"},{"path":"https://ofce.github.io/ofce/reference/setup_blog.html","id":null,"dir":"Reference","previous_headings":"","what":"installe un squelette pour le blog â€” setup_blog","title":"installe un squelette pour le blog â€” setup_blog","text":"prÃ©pare un dossier, avec un exemple et les extensions nÃ©cessaires pour le formattage OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_blog.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"installe un squelette pour le blog â€” setup_blog","text":"","code":"setup_blog(dir = NULL, nom = NULL)"},{"path":"https://ofce.github.io/ofce/reference/setup_blog.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"installe un squelette pour le blog â€” setup_blog","text":"dir RÃ©pertoire Ã  crÃ©er. RÃ©pertoire Ã  crÃ©er. Par dÃ©faut, le qmd est placÃ© dans le dossier de travail. nom Nom du projet, \"blog\" par dÃ©faut,","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_english.html","id":null,"dir":"Reference","previous_headings":"","what":"Set RStudio to english dictionary â€” setup_english","title":"Set RStudio to english dictionary â€” setup_english","text":"Pour Ã©crire en anglais dans RStudio Attention un dictionnaire ne garantit en rien la qualitÃ© de l'expression","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_english.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set RStudio to english dictionary â€” setup_english","text":"","code":"setup_english()"},{"path":"https://ofce.github.io/ofce/reference/setup_english.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set RStudio to english dictionary â€” setup_english","text":"","code":"if(interactive()) setup_english()"},{"path":"https://ofce.github.io/ofce/reference/setup_french.html","id":null,"dir":"Reference","previous_headings":"","what":"Set RStudio to french dictionary â€” setup_french","title":"Set RStudio to french dictionary â€” setup_french","text":"Pour Ã©crire en franÃ§ais dans RStudio Attention un dictionnaire ne garantit en rien la qualitÃ© de l'expression","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_french.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set RStudio to french dictionary â€” setup_french","text":"","code":"setup_french()"},{"path":"https://ofce.github.io/ofce/reference/setup_french.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set RStudio to french dictionary â€” setup_french","text":"","code":"if(interactive()) setup_french()"},{"path":"https://ofce.github.io/ofce/reference/setup_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"installe un squelette pour le graphique ofce â€” setup_graph","title":"installe un squelette pour le graphique ofce â€” setup_graph","text":"prÃ©pare un dossier, avec un exemple et les extensions nÃ©cessaires pour le formattage OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"installe un squelette pour le graphique ofce â€” setup_graph","text":"","code":"setup_graph(dir = NULL, nom = NULL)"},{"path":"https://ofce.github.io/ofce/reference/setup_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"installe un squelette pour le graphique ofce â€” setup_graph","text":"dir RÃ©pertoire Ã  crÃ©er. RÃ©pertoire Ã  crÃ©er. Par dÃ©faut, le qmd est placÃ© dans le dossier de travail. nom Nom du projet, \"graph_ofce\" par dÃ©faut,","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_pres.html","id":null,"dir":"Reference","previous_headings":"","what":"installe un squelette de prÃ©sentation â€” setup_pres","title":"installe un squelette de prÃ©sentation â€” setup_pres","text":"prÃ©pare un dossier, avec un exemple et les extensions nÃ©cessaires pour le formattage OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_pres.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"installe un squelette de prÃ©sentation â€” setup_pres","text":"","code":"setup_pres(dir = NULL, nom = NULL)"},{"path":"https://ofce.github.io/ofce/reference/setup_pres.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"installe un squelette de prÃ©sentation â€” setup_pres","text":"dir RÃ©pertoire Ã  crÃ©er. Par dÃ©faut, le qmd est placÃ© dans le dossier de travail. nom Nom du projet, \"pres\" par dÃ©faut,","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_quarto.html","id":null,"dir":"Reference","previous_headings":"","what":"Extensions OFCE pour quarto â€” setup_quarto","title":"Extensions OFCE pour quarto â€” setup_quarto","text":"Installe gentiment les extensions quarto suivantles templates OFCE Trois templates sont prÃ©vus et s'insÃ¨rent dans un yml (ou dans la section yml) comme suit format: ofce-html: default # peut ajouter tous les champs html ofce-pdf: default # pour les pdf, Ã  affiner ofce-revealjs: default # pour les prÃ©sentations","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_quarto.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extensions OFCE pour quarto â€” setup_quarto","text":"","code":"setup_quarto(dir = \".\", quiet = FALSE)"},{"path":"https://ofce.github.io/ofce/reference/setup_quarto.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extensions OFCE pour quarto â€” setup_quarto","text":"dir RÃ©pertoire dans lequel l'extension est installÃ©e quiet Ne fait pas de bruit (dÃ©fault FALSE)","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_quarto.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extensions OFCE pour quarto â€” setup_quarto","text":"Il est possible de spÃ©cifier toutes les Ã©lÃ©ments habituels des formats sous jacents par la syntaxe habituelle Si le document Ã  rendre est dans un dossier, il faut utiliser l'argument dir et l'extension sera installÃ© Ã  cet endroit","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_wp.html","id":null,"dir":"Reference","previous_headings":"","what":"installe un squelette de document de travail â€” setup_wp","title":"installe un squelette de document de travail â€” setup_wp","text":"prÃ©pare un dossier, avec un exemple et les extensions nÃ©cessaires pour le formattage OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/setup_wp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"installe un squelette de document de travail â€” setup_wp","text":"","code":"setup_wp(dir = NULL, nom = NULL)"},{"path":"https://ofce.github.io/ofce/reference/setup_wp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"installe un squelette de document de travail â€” setup_wp","text":"dir RÃ©pertoire Ã  crÃ©er. Par dÃ©faut, le qmd est placÃ© dans le dossier de travail. nom Nom du projet, \"wp\" par dÃ©faut,","code":""},{"path":"https://ofce.github.io/ofce/reference/showMemoryUse.html","id":null,"dir":"Reference","previous_headings":"","what":"Utilisation mÃ©moire par objet â€” showMemoryUse","title":"Utilisation mÃ©moire par objet â€” showMemoryUse","text":"Permet de lister les plus gros objets en mÃ©moire et de connaÃ®tre leur empreinte.","code":""},{"path":"https://ofce.github.io/ofce/reference/showMemoryUse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Utilisation mÃ©moire par objet â€” showMemoryUse","text":"","code":"showMemoryUse(   sort = \"size\",   decreasing = TRUE,   limit = 10,   envir = parent.frame() )"},{"path":"https://ofce.github.io/ofce/reference/showMemoryUse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Utilisation mÃ©moire par objet â€” showMemoryUse","text":"sort Variable sur lequel le tri est fait (dÃ©faut \"size\", alternative \"alphabetical\") decreasing En sens dÃ©croissant (dÃ©faut TRUE) limit Nombre de lignes affichÃ©es (dÃ©faut 10) envir l'environement dans lequel sont listÃ© les objets. Mieux vaut ne pas le toucher si ne sait pas Ã  quoi Ã§a sert.","code":""},{"path":"https://ofce.github.io/ofce/reference/showMemoryUse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Utilisation mÃ©moire par objet â€” showMemoryUse","text":"Une liste des objets en mÃ©moire, invisible et affiche dans la console cette liste","code":""},{"path":"https://ofce.github.io/ofce/reference/showMemoryUse.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Utilisation mÃ©moire par objet â€” showMemoryUse","text":"copiÃ© de https://rdrr.io/github/zlfccnu/econophysics/ (merci!).","code":""},{"path":"https://ofce.github.io/ofce/reference/showMemoryUse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Utilisation mÃ©moire par objet â€” showMemoryUse","text":"","code":"showMemoryUse() #> [1] \"No objects\""},{"path":"https://ofce.github.io/ofce/reference/sna_check_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"MAJ le cache sna â€” sna_check_cache","title":"MAJ le cache sna â€” sna_check_cache","text":"MAJ le cache sna","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_check_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MAJ le cache sna â€” sna_check_cache","text":"","code":"sna_check_cache(cache = \"./data/eurostat\")"},{"path":"https://ofce.github.io/ofce/reference/sna_check_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MAJ le cache sna â€” sna_check_cache","text":"cache le dossier du cache (par dÃ©faut /data/eurostat)","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_check_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MAJ le cache sna â€” sna_check_cache","text":"la liste des bases mises \\U+E00E0 jour","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_check_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"MAJ le cache sna â€” sna_check_cache","text":"","code":"if(interactive()) sna_check_cache()"},{"path":"https://ofce.github.io/ofce/reference/sna_clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"vide le cache sna â€” sna_clear_cache","title":"vide le cache sna â€” sna_clear_cache","text":"vide le cache sna","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"vide le cache sna â€” sna_clear_cache","text":"","code":"sna_clear_cache(cache = \"./data/eurostat\")"},{"path":"https://ofce.github.io/ofce/reference/sna_clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"vide le cache sna â€” sna_clear_cache","text":"cache le dossier du cache (par dÃ©faut /data/eurostat)","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"vide le cache sna â€” sna_clear_cache","text":"rien","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Extrait les donnÃ©es eurostat SNA â€” sna_get","title":"Extrait les donnÃ©es eurostat SNA â€” sna_get","text":"Cette fonction permet d'extraire rapidement des donnÃ©es des comptes naitonaux sur eurostat. Elle utilise la fonction get_eurostat et effectue plusieurs opÃ©rations supplÃ©mentaires: Elle met en cache le fichier eurostat, dans un dossier dans le rÃ©pertoire courant/ Le chache est accÃ©dÃ© avec qs pour plus de rapiditÃ© get_eurostat utilise un cachee, mais il est trÃ¨s lent. Cette fonction est utilisÃ©e la premiÃ¨re fois. Elle sÃ©lectionne les donnÃ©es Ã  partir des paramÃ¨tres retourne un tibble avec uniquement ces colonnes. Les donnÃ©es sont retournÃ©es en formet long sauf si dÃ©fini une variable de pivot. Les dimensions ne prenant qu'une valeur sont Ã©liminÃ©es. Elle documente les colonnes Ã©liminÃ©es.","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extrait les donnÃ©es eurostat SNA â€” sna_get","text":"","code":"sna_get(   dataset,   ...,   pivot = \"auto\",   prefix = \"\",   name = \"\",   cache = \"./data/eurostat\",   select_time = NULL,   lang = \"en\",   force = FALSE )"},{"path":"https://ofce.github.io/ofce/reference/sna_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extrait les donnÃ©es eurostat SNA â€” sna_get","text":"dataset string, le code eurostat du dataset en minuscule ... une sÃ©rie de paramÃ¨tres du nom des champs prÃ©sents dans le dataset, suivi des valeurs qui sont sÃ©lectionnÃ©es, soit une chaÃ®ne, sous un vecteur de chaÃ®nes pivot un vecteur de variables qui seront utilisÃ©es pour le pivot prefix un prefix ajoutÃ© Ã  tous les noms de variables name nom de la base cache string, le chemin d'accÃ¨s au cache select_time la pÃ©riode de temps tÃ©lÃ©chargÃ©e lors du chargement initial. N'est aps trÃ¨s utile sauf pour limiter l'empreinte disque. lang langue force tÃ©lÃ©charge systÃ©matiquement","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extrait les donnÃ©es eurostat SNA â€” sna_get","text":"un tibble, avec un attribut par colonne qui documente","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/sna_get.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extrait les donnÃ©es eurostat SNA â€” sna_get","text":"","code":"# rÃ©cupÃ¨re toute la base des comptes annuels pour le pib et ses composantes if(interactive()) sna_get(\"nama_10_gdp\") # ne garde que certaines colonnes if(interactive()) sna_get(\"nama_10_gdp\", unit='CLV05_MEUR', na_item = \"B1G\", geo=c(\"DE\", \"FR\"))"},{"path":"https://ofce.github.io/ofce/reference/sna_show.html","id":null,"dir":"Reference","previous_headings":"","what":"Infos sur une base sna Eurostat â€” sna_show","title":"Infos sur une base sna Eurostat â€” sna_show","text":"Affiche les principales informations sur une base tÃ©lÃ©chargÃ©e sur Eurostat. Les informations sont en partie stockÃ©es dans les attributs du tibble. Ils peuvent Ãªtre perdus en route.","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_show.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Infos sur une base sna Eurostat â€” sna_show","text":"","code":"sna_show(sna, lang = \"fr\", n = 100)"},{"path":"https://ofce.github.io/ofce/reference/sna_show.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Infos sur une base sna Eurostat â€” sna_show","text":"sna le tibble tÃ©lÃ©chargÃ© sur eurostat lang langue n nombre de lignes imprimÃ©es (par dÃ©faut n=100)","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_show.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Infos sur une base sna Eurostat â€” sna_show","text":"le tibble, invisible plus un effet de bord sur la console","code":""},{"path":"https://ofce.github.io/ofce/reference/sna_show.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Infos sur une base sna Eurostat â€” sna_show","text":"","code":"if(interactive()) { data <- sna_get(\"nama_10_gdp\") sna_show(data) }"},{"path":"https://ofce.github.io/ofce/reference/table_ofce.html","id":null,"dir":"Reference","previous_headings":"","what":"ThÃ¨me OFCE pour les tableaux pour gt â€” table_ofce","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” table_ofce","text":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/table_ofce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” table_ofce","text":"","code":"table_ofce(data, ...)"},{"path":"https://ofce.github.io/ofce/reference/table_ofce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” table_ofce","text":"data un objet gt base_family character(1) string, police de charactÃ¨re du thÃ¨me (Stone sans par dÃ©faut)","code":""},{"path":"https://ofce.github.io/ofce/reference/table_ofce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” table_ofce","text":"un objet gt, dÃ©corÃ©","code":""},{"path":"https://ofce.github.io/ofce/reference/tabsetize.html","id":null,"dir":"Reference","previous_headings":"","what":"Tabsetize : fait un tabset Ã  partir d'une liste â€” tabsetize","title":"Tabsetize : fait un tabset Ã  partir d'une liste â€” tabsetize","text":"fabrique un tabset Ã  partir d'une liste de graphiques (priori des ggplots). Ne s'utilise que dans un qmd ou un markdown (ca n'pas de sens sinon). peut Ã©galement passer des chaines de caractÃ¨res qui sont des chemins vers des images enregistrÃ©es. Cela peut permettre de faire un rendu plus vite. Les noms de la liste sont utilisÃ©s pour les noms des onglets Il est important de mettre l'option results=\"asis\" au chunk (ou #| results: asis dans le chunk) Tabsetize prend en charge aussi les formats non intercatifs et affiche la liste dÃ©pliÃ©e (d'autres possibilitÃ©s viendront dans le futur)","code":""},{"path":"https://ofce.github.io/ofce/reference/tabsetize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tabsetize : fait un tabset Ã  partir d'une liste â€” tabsetize","text":"","code":"tabsetize(   list,   facety = TRUE,   cap = TRUE,   girafy = TRUE,   asp = NULL,   r = 1.5,   pdf = getOption(\"ofce.tabsetize.pdf\"),   active = 1 )"},{"path":"https://ofce.github.io/ofce/reference/tabsetize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tabsetize : fait un tabset Ã  partir d'une liste â€” tabsetize","text":"list liste des graphiques facety (ne pas utiliser) cap TRUE par dÃ©faut, insÃ¨re une caption Ã  la figure, spÃ©cifiÃ©e comme la caption du chunk (#| fig-cap: un titre). girafy TRUE par dÃ©faut, wrappe avec girafy (qui doit Ãªtre dÃ©fini donc dans le rinit.r) asp aspect de ratio, mais privilÃ©giez l'aspect ratio gÃ©nÃ©ral (#| fig-asp: 1.1) r rayon du cercle de hover pour girafy (paramÃ¨tre r de girafy) pdf si l'output est pdf, doit-aficher tous les graphiques (\"\", dÃ©faut) ou un seul (\"one\")","code":""},{"path":"https://ofce.github.io/ofce/reference/tabsetize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tabsetize : fait un tabset Ã  partir d'une liste â€” tabsetize","text":"string inserted markdown","code":""},{"path":"https://ofce.github.io/ofce/reference/tabsetize2.html","id":null,"dir":"Reference","previous_headings":"","what":"Tabsetize2 : tabset Ã  deux Ã©tages â€” tabsetize2","title":"Tabsetize2 : tabset Ã  deux Ã©tages â€” tabsetize2","text":"fabrique un tabset de tabset Ã  partir d'une liste de liste de graphiques (priori des ggplots, mais cela peut Ãªtre des chemins). Ne s'utilise que dans un qmd ou un markdown (ca n'pas de sens sinon). Les noms de la liste sont utilisÃ©s pour les noms des onglets. Il est important de mettre l'option results=\"asis\" au chunk (ou #| results: asis dans le chunk) Tabsetize prend en charge aussi les formats non intercatifs et affiche la liste dÃ©pliÃ©e (d'autres possibilitÃ©s viendront dans le futur)","code":""},{"path":"https://ofce.github.io/ofce/reference/tabsetize2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tabsetize2 : tabset Ã  deux Ã©tages â€” tabsetize2","text":"","code":"tabsetize2(   list,   facety = TRUE,   cap = TRUE,   girafy = FALSE,   asp = NULL,   r = 1.5 )"},{"path":"https://ofce.github.io/ofce/reference/tabsetize2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tabsetize2 : tabset Ã  deux Ã©tages â€” tabsetize2","text":"list liste des graphiques facety (ne pas utiliser) cap TRUE par dÃ©faut, insÃ¨re une caption Ã  la figure, spÃ©cifiÃ©e comme la caption du chunk (#| fig-cap: un titre). girafy FALSE par dÃ©faut, wrappe avec girafy (qui doit Ãªtre dÃ©fini donc dans le rinit.r) asp aspect de ratio, mais privilÃ©giez l'aspect ratio gÃ©nÃ©ral (#| fig-asp: 1.1) r rayon du cercle de hover pour girafy (paramÃ¨tre r de girafy)","code":""},{"path":"https://ofce.github.io/ofce/reference/tabsetize2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tabsetize2 : tabset Ã  deux Ã©tages â€” tabsetize2","text":"string inserted markdown","code":""},{"path":"https://ofce.github.io/ofce/reference/theme.gt_ofce.html","id":null,"dir":"Reference","previous_headings":"","what":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce","text":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/theme.gt_ofce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce","text":"","code":"theme.gt_ofce(data, largeur_colonne = NULL, ...)"},{"path":"https://ofce.github.io/ofce/reference/theme.gt_ofce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce","text":"data un objet gt largeur_colonne largeur de colonne (en px) ... autres arguments Ã  passer dans la fonction","code":""},{"path":"https://ofce.github.io/ofce/reference/theme.gt_ofce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce","text":"un objet gt, dÃ©corÃ©","code":""},{"path":"https://ofce.github.io/ofce/reference/theme.gt_ofce_2.html","id":null,"dir":"Reference","previous_headings":"","what":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce_2","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce_2","text":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE","code":""},{"path":"https://ofce.github.io/ofce/reference/theme.gt_ofce_2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce_2","text":"","code":"theme.gt_ofce_2(   data,   largeur_colonne = NULL,   col_highlight = NULL,   row_highlight = NULL,   ... )"},{"path":"https://ofce.github.io/ofce/reference/theme.gt_ofce_2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce_2","text":"data un objet gt largeur_colonne largeur de colonne (en px) ... autres arguments Ã  passer dans la fonction","code":""},{"path":"https://ofce.github.io/ofce/reference/theme.gt_ofce_2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ThÃ¨me OFCE pour les tableaux pour gt â€” theme.gt_ofce_2","text":"un objet gt, dÃ©corÃ©","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_foundation.html","id":null,"dir":"Reference","previous_headings":"","what":"Theme foundation â€” theme_foundation","title":"Theme foundation â€” theme_foundation","text":"theme designed foundation build new themes, meant used directly. theme_foundation() complete theme minimal number elements defined. easier create new themes extending one rather theme_gray() theme_bw(), themes define elements deep hierarchy.","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_foundation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Theme foundation â€” theme_foundation","text":"","code":"theme_foundation(une_base_size = 12, base_family = \"\")"},{"path":"https://ofce.github.io/ofce/reference/theme_foundation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Theme foundation â€” theme_foundation","text":"base_family base font family","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_foundation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Theme foundation â€” theme_foundation","text":"un thÃ¨me qui peut Ãªtre utilisÃ© dans ggplot","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_foundation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Theme foundation â€” theme_foundation","text":"theme takes theme_gray() sets colour fill values NULL, except top-level elements (line, rect, title), colour = \"black\", fill = \"white\". leaves spacing -non colour defaults default ggplot2 themes place.","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/theme_ofce.2.html","id":null,"dir":"Reference","previous_headings":"","what":"ThÃ¨me OFCE 2 â€” theme_ofce.2","title":"ThÃ¨me OFCE 2 â€” theme_ofce.2","text":"Applique le theme ofce compatible avec la norme des working papers d'autres Ã©lÃ©ments de la norme comme les couleurs, l'allure gÃ©nÃ©rale du graphique sont Ã  introduire par ailleurs","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_ofce.2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ThÃ¨me OFCE 2 â€” theme_ofce.2","text":"","code":"theme_ofce.2(   base_size = getOption(\"ofce.base_size\"),   base_family = getOption(\"ofce.base_family\"),   ... )"},{"path":"https://ofce.github.io/ofce/reference/theme_ofce.2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ThÃ¨me OFCE 2 â€” theme_ofce.2","text":"base_size double(1) Taille des Ã©lÃ©ments texte du thÃ¨me. Peut Ãªtre donnÃ© globalement par options(ofce.base_size=12). base_family character(1) string, police de charactÃ¨re du thÃ¨me (globalement et dÃ©faut options(ofce.base_family=\"Nunito\")) ... paramÃ¨tres passÃ©s Ã  theme()","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_ofce.2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ThÃ¨me OFCE 2 â€” theme_ofce.2","text":"un thÃ¨me qui peut Ãªtre utilisÃ© dans ggplot","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/theme_ofce.html","id":null,"dir":"Reference","previous_headings":"","what":"theme OFCE â€” theme_ofce","title":"theme OFCE â€” theme_ofce","text":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE d'autres Ã©lÃ©ments de la norme comme les couleurs, l'allure gÃ©nÃ©rale du graphique sont Ã  introduire par ailleurs","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_ofce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"theme OFCE â€” theme_ofce","text":"","code":"theme_ofce(   base_size = getOption(\"ofce.base_size\"),   base_family = getOption(\"ofce.base_family\"),   marquee = getOption(\"ofce.marquee\"),   ... )"},{"path":"https://ofce.github.io/ofce/reference/theme_ofce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"theme OFCE â€” theme_ofce","text":"base_size double(1) Taille des Ã©lÃ©ments texte du thÃ¨me. Peut Ãªtre donnÃ© globalement par options(ofce.base_size=12). base_family character(1) string, police de charactÃ¨re du thÃ¨me (globalement et dÃ©faut options(ofce.base_family=\"Open Sans\")) marquee (bolÃ©en) utilise marquee pour la plupart des textes dans un plot ... Arguments passed ggplot2::theme line line elements (element_line()) rect rectangular elements (element_rect()) text text elements (element_text()) title title elements: plot, axes, legends (element_text(); inherits text) point point elements (element_point()) polygon polygon elements (element_polygon()) geom defaults geoms (element_geom()) spacing spacings (unit()) margins margins (margin()) aspect.ratio aspect ratio panel axis.title,axis.title.x,axis.title.y,axis.title.x.top,axis.title.x.bottom,axis.title.y.left,axis.title.y.right labels axes (element_text()). Specify axes' labels (axis.title), labels plane (using axis.title.x axis.title.y), individually axis (using axis.title.x.bottom, axis.title.x.top, axis.title.y.left, axis.title.y.right). axis.title.*.* inherits axis.title.* inherits axis.title, turn inherits text axis.text,axis.text.x,axis.text.y,axis.text.x.top,axis.text.x.bottom,axis.text.y.left,axis.text.y.right,axis.text.theta,axis.text.r tick labels along axes (element_text()). Specify axis tick labels (axis.text), tick labels plane (using axis.text.x axis.text.y), individually axis (using axis.text.x.bottom, axis.text.x.top, axis.text.y.left, axis.text.y.right). axis.text.*.* inherits axis.text.* inherits axis.text, turn inherits text axis.ticks,axis.ticks.x,axis.ticks.x.top,axis.ticks.x.bottom,axis.ticks.y,axis.ticks.y.left,axis.ticks.y.right,axis.ticks.theta,axis.ticks.r tick marks along axes (element_line()). Specify tick marks (axis.ticks), ticks plane (using axis.ticks.x axis.ticks.y), individually axis (using axis.ticks.x.bottom, axis.ticks.x.top, axis.ticks.y.left, axis.ticks.y.right). axis.ticks.*.* inherits axis.ticks.* inherits axis.ticks, turn inherits line axis.minor.ticks.x.top,axis.minor.ticks.x.bottom,axis.minor.ticks.y.left,axis.minor.ticks.y.right,axis.minor.ticks.theta,axis.minor.ticks.r minor tick marks along axes (element_line()). axis.minor.ticks.*.* inherit corresponding major ticks axis.ticks.*.*. axis.ticks.length,axis.ticks.length.x,axis.ticks.length.x.top,axis.ticks.length.x.bottom,axis.ticks.length.y,axis.ticks.length.y.left,axis.ticks.length.y.right,axis.ticks.length.theta,axis.ticks.length.r length tick marks (unit). axis.ticks.length inherits spacing. axis.minor.ticks.length,axis.minor.ticks.length.x,axis.minor.ticks.length.x.top,axis.minor.ticks.length.x.bottom,axis.minor.ticks.length.y,axis.minor.ticks.length.y.left,axis.minor.ticks.length.y.right,axis.minor.ticks.length.theta,axis.minor.ticks.length.r length minor tick marks (unit), relative axis.ticks.length provided rel(). axis.line,axis.line.x,axis.line.x.top,axis.line.x.bottom,axis.line.y,axis.line.y.left,axis.line.y.right,axis.line.theta,axis.line.r lines along axes (element_line()). Specify lines along axes (axis.line), lines plane (using axis.line.x axis.line.y), individually axis (using axis.line.x.bottom, axis.line.x.top, axis.line.y.left, axis.line.y.right). axis.line.*.* inherits axis.line.* inherits axis.line, turn inherits line legend.background background legend (element_rect(); inherits rect) legend.margin margin around legend (margin()); inherits margins. legend.spacing,legend.spacing.x,legend.spacing.y spacing legends (unit). legend.spacing.x & legend.spacing.y inherit legend.spacing can specified separately. legend.spacing inherits spacing. legend.key background underneath legend keys (element_rect(); inherits rect) legend.key.size,legend.key.height,legend.key.width size legend keys (unit); key background height & width inherit legend.key.size can specified separately. turn legend.key.size inherits spacing. legend.key.spacing,legend.key.spacing.x,legend.key.spacing.y spacing legend keys given unit. Spacing horizontal (x) vertical (y) direction inherit legend.key.spacing can specified separately. legend.key.spacing inherits spacing. legend.key.justification Justification positioning legend keys space available needed display. default, NULL, stretches keys available space. Can location like \"center\" \"top\", two-element numeric vector. legend.frame frame drawn around bar (element_rect()). legend.ticks tick marks shown along bars axes (element_line()) legend.ticks.length length tick marks legend (unit()); inherits legend.key.size. legend.axis.line lines along axes legends (element_line()) legend.text legend item labels (element_text(); inherits text) legend.text.position placement legend text relative legend keys bars (\"top\", \"right\", \"bottom\" \"left\"). legend text placement might incompatible legend's direction guides. legend.title title legend (element_text(); inherits title) legend.title.position placement legend title relative main legend (\"top\", \"right\", \"bottom\" \"left\"). legend.position default position legends (\"none\", \"left\", \"right\", \"bottom\", \"top\", \"inside\") legend.position.inside numeric vector length two setting placement legends \"inside\" position. legend.direction layout items legends (\"horizontal\" \"vertical\") legend.byrow whether legend-matrix filled columns (FALSE, default) rows (TRUE). legend.justification anchor point positioning legend inside plot (\"center\" two-element numeric vector) justification according plot area positioned outside plot legend.justification.top,legend.justification.bottom,legend.justification.left,legend.justification.right,legend.justification.inside legend.justification specified per legend.position option. legend.location Relative placement legends outside plot string. Can \"panel\" (default) align legends panels \"plot\" align legends plot whole. legend.box arrangement multiple legends (\"horizontal\" \"vertical\") legend.box.just justification legend within overall bounding box, multiple legends (\"top\", \"bottom\", \"left\", \"right\", \"center\" \"centre\") legend.box.margin margins around full legend area, specified using margin(); inherits margins. legend.box.background background legend area (element_rect(); inherits rect) legend.box.spacing spacing plotting area legend box (unit); inherits spacing. panel.background background plotting area, drawn underneath plot (element_rect(); inherits rect) panel.border border around plotting area, drawn top plot covers tick marks grid lines. used fill = NA (element_rect(); inherits rect) panel.spacing,panel.spacing.x,panel.spacing.y spacing facet panels (unit). panel.spacing.x & panel.spacing.y inherit panel.spacing can specified separately. panel.spacing inherits spacing. panel.grid,panel.grid.major,panel.grid.minor,panel.grid.major.x,panel.grid.major.y,panel.grid.minor.x,panel.grid.minor.y grid lines (element_line()). Specify major grid lines, minor grid lines separately (using panel.grid.major panel.grid.minor) individually axis (using panel.grid.major.x, panel.grid.minor.x, panel.grid.major.y, panel.grid.minor.y).  Y axis grid lines horizontal x axis grid lines vertical. panel.grid.*.* inherits panel.grid.* inherits panel.grid, turn inherits line panel.ontop option place panel (background, gridlines) data layers (logical). Usually used transparent blank panel.background. panel.widths,panel.heights Sizes panels (units). Can single unit set total size panel area, unit vector set size individual panels. Using setting overrides aspect ratio set theme, coord facets. exception made plot single panel exactly one width height set, case attempt made preserve aspect ratio. plot.background background entire plot (element_rect(); inherits rect) plot.title plot title (text appearance) (element_text(); inherits title) left-aligned default plot.title.position,plot.caption.position Alignment plot title/subtitle caption.  setting plot.title.position applies title subtitle. value \"panel\" (default) means titles /caption aligned plot panels. value \"plot\" means titles /caption aligned entire plot (minus space margins plot tag). plot.subtitle plot subtitle (text appearance) (element_text(); inherits title) left-aligned default plot.caption caption plot (text appearance) (element_text(); inherits title) right-aligned default plot.tag upper-left label identify plot (text appearance) (element_text(); inherits title) left-aligned default plot.tag.position position tag string (\"topleft\", \"top\", \"topright\", \"left\", \"right\", \"bottomleft\", \"bottom\", \"bottomright\") coordinate. coordinate, can numeric vector length 2 set x,y-coordinate relative whole plot. coordinate option unavailable plot.tag.location = \"margin\". plot.tag.location placement tag string, one \"panel\", \"plot\" \"margin\". Respectively, place tag inside panel space, anywhere plot whole, margin around panel space. plot.margin margin around entire plot (unit sizes top, right, bottom, left margins); inherits margin. strip.background,strip.background.x,strip.background.y background facet labels (element_rect(); inherits rect). Horizontal facet background (strip.background.x) & vertical facet background (strip.background.y) inherit strip.background can specified separately strip.clip strip background edges strip labels clipped extend strip background? Options \"\" clip, \"\" disable clipping \"inherit\" (default) take clipping setting parent viewport. strip.placement placement strip respect axes, either \"inside\" \"outside\". important axes strips side plot. strip.text,strip.text.x,strip.text.y,strip.text.x.top,strip.text.x.bottom,strip.text.y.left,strip.text.y.right facet labels (element_text(); inherits  text). Horizontal facet labels (strip.text.x) & vertical facet labels (strip.text.y) inherit strip.text can specified separately. Facet strips dedicated position-dependent theme elements (strip.text.x.top, strip.text.x.bottom, strip.text.y.left, strip.text.y.right) inherit strip.text.x strip.text.y, respectively. consequence, theme stylings need applied position-dependent elements rather parent elements strip.switch.pad.grid,strip.switch.pad.wrap space strips axes strips switched (unit); inherits spacing. complete set TRUE complete theme, one returned theme_grey(). Complete themes behave differently added ggplot object. Also, setting complete = TRUE elements set inherit blank elements. validate TRUE run check_element(), FALSE bypass checks.","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_ofce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"theme OFCE â€” theme_ofce","text":"un thÃ¨me qui peut Ãªtre utilisÃ© dans ggplot","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/theme_ofce_void.html","id":null,"dir":"Reference","previous_headings":"","what":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE Convient pour des cartes par exemple â€” theme_ofce_void","title":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE Convient pour des cartes par exemple â€” theme_ofce_void","text":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE Convient pour des cartes par exemple","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_ofce_void.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE Convient pour des cartes par exemple â€” theme_ofce_void","text":"","code":"theme_ofce_void(   base_size = getOption(\"ofce.base_size\"),   base_family = getOption(\"ofce.base_family\"),   marquee = getOption(\"ofce.marquee\"),   ... )"},{"path":"https://ofce.github.io/ofce/reference/theme_ofce_void.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE Convient pour des cartes par exemple â€” theme_ofce_void","text":"base_size double(1) Taille des Ã©lÃ©ments texte du thÃ¨me. Peut Ãªtre donnÃ© globalement par options(ofce.base_size=12). base_family character(1) string, police de charactÃ¨re du thÃ¨me (globalement et dÃ©faut options(ofce.base_family=\"Nunito\")) ... paramÃ¨tres passÃ©s Ã  theme()","code":""},{"path":"https://ofce.github.io/ofce/reference/theme_ofce_void.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Applique le theme ofce compatible avec la norme de la Revue de l'OFCE Convient pour des cartes par exemple â€” theme_ofce_void","text":"un thÃ¨me qui peut Ãªtre utilisÃ© dans ggplot","code":""},{"path":[]},{"path":"https://ofce.github.io/ofce/reference/uf2si2.html","id":null,"dir":"Reference","previous_headings":"","what":"Formatte un vecteur en produisant des Ã©lÃ©ments distincts â€” uf2si2","title":"Formatte un vecteur en produisant des Ã©lÃ©ments distincts â€” uf2si2","text":"Utilise f2si2 pour formatter un vecteur, et arrondi tant que les Ã©lÃ©ments formattÃ©s sont tous disctints. Cela permet de les utiliser dans une Ã©chelle ou pour des noms. Les nombres en entrÃ©e doivent Ãªtre diffÃ©rents","code":""},{"path":"https://ofce.github.io/ofce/reference/uf2si2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formatte un vecteur en produisant des Ã©lÃ©ments distincts â€” uf2si2","text":"","code":"uf2si2(number, rounding = TRUE, unit = \"median\", digits_max = 4)"},{"path":"https://ofce.github.io/ofce/reference/uf2si2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formatte un vecteur en produisant des Ã©lÃ©ments distincts â€” uf2si2","text":"number le nombre ou le vecteur de nombre rounding doit-arrondir ? unit Arrondi soit Ã  la \"median\" soit au \"max\" digits_max le nombre maximal de chiffres aprÃ¨s la virgule","code":""},{"path":"https://ofce.github.io/ofce/reference/uf2si2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formatte un vecteur en produisant des Ã©lÃ©ments distincts â€” uf2si2","text":"une chaine de charactÃ¨res","code":""},{"path":"https://ofce.github.io/ofce/reference/uf2si2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Formatte un vecteur en produisant des Ã©lÃ©ments distincts â€” uf2si2","text":"","code":"uf2si2(c(1000,1100,2000,2100)) #> [1] \"1k\"   \"1.1k\" \"2k\"   \"2.1k\""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1327","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.27","title":"OFCE 1.3.27","text":"la fonction ofce_caption() fonctionne maintenant pour les graphiques et les gt tables (oui, les gt tables) et ce avec la mÃªme syntaxe ce qui nâ€™est pas un petit exploit (merci qui ?) les fonctions dâ€™aide aux tableaux sont Ã  bord (ofce_tab_options(), ofce_row_bold() et plein dâ€™autres)","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1326","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.26","title":"OFCE 1.3.26","text":"setup_quarto() copie maintenant www et son contenu dans le dossier check la version de quarto de faÃ§on plus prÃ©cise et cohÃ©rente","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1325","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.25","title":"OFCE 1.3.25","text":"ajout de fmt_val(), fmt_mds() et fmt_pct()","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1324","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.24","title":"OFCE 1.3.24","text":"quelques fonctions pour les (Ã©chelles x) de date sont Ã  bord","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1323","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.23","title":"OFCE 1.3.23","text":"tabsetize(), margin_download() et girafy() sont Ã  bord","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1322","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.22","title":"OFCE 1.3.22","text":"nouvelle fonction ggplot logo_ofce() qui ajoute un logo de lâ€™OFCE au graphique","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1321","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.21","title":"OFCE 1.3.21","text":"ajout de setup_graph et du template pour le graphique ofce rÃ©glages de theme_ofce","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1320","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.20","title":"OFCE 1.3.20","text":"modification marginale de tabsetize (ajout dâ€™une option, comportement diffÃ©rent en pdf et html)","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1319","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.19","title":"OFCE 1.3.19","text":"ajout de pathify","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1318","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.18","title":"OFCE 1.3.18","text":"ajout de tabsetize et tabsetize2","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1317","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.17","title":"OFCE 1.3.17","text":"init_qmd peut prendre sustÃ©matiquement le rinit.r dans le dossier du qmd (option local=TRUE)","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1316","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.16","title":"OFCE 1.3.16","text":"ofce dans ocfe_caption fonctionne comme attendu","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1315","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.15","title":"OFCE 1.3.15","text":"corrections de bugs dans init_qmd() (rÃ©Ã©criture)","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1314","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.14","title":"OFCE 1.3.14","text":"corrections de bug dont init_qmd() et board()","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1313","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.13","title":"OFCE 1.3.13","text":"source_data() son propre package sourcoise, qui est importÃ© dans ofce.","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1312","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.12","title":"OFCE 1.3.12","text":"ajout de bd_read() et bd_write() pour lâ€™accÃ¨s Ã  Azure","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1311","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.11","title":"OFCE 1.3.11","text":"modification de ofce_caption (traduit marquee)","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-1310","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.10","title":"OFCE 1.3.10","text":"ajustement de theme_ofce et theme_ofce_void","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-139","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.9","title":"OFCE 1.3.9","text":"marquee passe en version 1.0, modification de ofce_caption pour en tenir compte (wrap = 0)","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-139-1","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.9","title":"OFCE 1.3.9","text":"ofce_caption : Ajout de Champ et options par dÃ©faut.","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-138","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.8","title":"OFCE 1.3.8","text":"rinit.r : Modification du mode chargement des packages pour vÃ©rifier lâ€™installation des packages du rinit, installer les packages manquants au besoin, et les charger.","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-137","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.7","title":"OFCE 1.3.7","text":"ofce_caption() : Ajout dâ€™une option auteurs pour calcul des auteurs plutÃ´t que calcul OFCE (notamment pour les publications externes pour lesquels la responsabilitÃ© de lâ€™OFCE nâ€™est pas engagÃ©e)","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-136","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.6","title":"OFCE 1.3.6","text":"source_data() : fonctionne avec une nouvelle option src_in, qui relativise tout au rÃ©pertoire qui contient le fichier source et le qmd, les donnÃ©es sont cachÃ©s dans ce rÃ©pertoire. DestinÃ© au blog et permet de dÃ©placer les donnÃ©es avec le post.","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-135","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.5","title":"OFCE 1.3.5","text":"source_data() : les mÃ©tadonnÃ©es sont dasn un fichier sÃ©parÃ© et en json (facilite git)","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-134","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.4","title":"OFCE 1.3.4","text":"source_data() : correction de plusieurs bugs","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-133","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.3","title":"OFCE 1.3.3","text":"source_data() tracke des fichiers et peut unfreezer un qmd ajout de source_data_refresh()","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-132","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.2","title":"OFCE 1.3.2","text":"source_data() utilise un id unique pour chaque utilisateur, pour ne pas dÃ©clencher de conflits dans github source_data() accepte des arguments passÃ©s au source exÃ©cutÃ©.","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-131","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.1","title":"OFCE 1.3.1","text":"source_data() utilise maintenant fs pour les fichiers - ce qui doit Ãªtre plus robuste.","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-130","dir":"Changelog","previous_headings":"","what":"OFCE 1.3.0","title":"OFCE 1.3.0","text":"ajout de source_data(), et de source_data_status()","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-121","dir":"Changelog","previous_headings":"","what":"OFCE 1.2.1","title":"OFCE 1.2.1","text":"corrections de bugs","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-120","dir":"Changelog","previous_headings":"","what":"OFCE 1.2.0","title":"OFCE 1.2.0","text":"ajout de ofce_caption() ; ajout de scale_ofce_date() corrections de bugs mineurs","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-110","dir":"Changelog","previous_headings":"","what":"OFCE 1.1.0","title":"OFCE 1.1.0","text":"documentation et vignettes","code":""},{"path":"https://ofce.github.io/ofce/news/index.html","id":"ofce-100","dir":"Changelog","previous_headings":"","what":"OFCE 1.0.0","title":"OFCE 1.0.0","text":"premiÃ¨re version avec notamment les fonctions : ** theme_ofce() ** setup_quarto() ** setup_wp()","code":""}]
